(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{IgQG:function(e,t,o){"use strict";o.r(t),o.d(t,"OpenApiModule",(function(){return k}));var n=o("ofXK"),c=o("tyNb"),a=o("PCNd"),b=o("Ydvz"),l=o("fXoL"),r=o("zg9e");let i=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return s(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-cli-plugin"]],features:[l.tb],decls:204,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/cli-plugin.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","plugin"],[1,"warning"],["appAnchor","","id","overview"],[1,"language-typescript"],["appAnchor","","id","using-the-cli-plugin"],["routerLink","/cli/overview"],[1,"language-javascript"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Plugin"),l.Hb(),l.Ib(7,"p"),l.lc(8,"TypeScript's metadata reflection system has several limitations which make it impossible to, for instance, determine what properties a class consists of or recognize whether a given property is optional or required. However, some of these constraints can be addressed at compilation time. Nest provides a plugin that enhances the TypeScript compilation process to reduce the amount of boilerplate code required."),l.Hb(),l.Ib(9,"blockquote",6),l.Ib(10,"strong"),l.lc(11,"Hint"),l.Hb(),l.lc(12," This plugin is "),l.Ib(13,"strong"),l.lc(14,"opt-in"),l.Hb(),l.lc(15,". If you prefer, you can declare all decorators manually, or only specific decorators where you need them.\n"),l.Hb(),l.Ib(16,"h4",7),l.Ib(17,"span"),l.lc(18,"Overview"),l.Hb(),l.Hb(),l.Ib(19,"p"),l.lc(20,"The Swagger plugin will automatically:"),l.Hb(),l.Ib(21,"ul"),l.Ib(22,"li"),l.lc(23,"annotate all DTO properties with "),l.Ib(24,"code"),l.lc(25,"@ApiProperty"),l.Hb(),l.lc(26," unless "),l.Ib(27,"code"),l.lc(28,"@ApiHideProperty"),l.Hb(),l.lc(29," is used"),l.Hb(),l.Ib(30,"li"),l.lc(31,"set the "),l.Ib(32,"code"),l.lc(33,"required"),l.Hb(),l.lc(34," property depending on the question mark (e.g. "),l.Ib(35,"code"),l.lc(36,"name?: string"),l.Hb(),l.lc(37," will set "),l.Ib(38,"code"),l.lc(39,"required: false"),l.Hb(),l.lc(40,")"),l.Hb(),l.Ib(41,"li"),l.lc(42,"set the "),l.Ib(43,"code"),l.lc(44,"type"),l.Hb(),l.lc(45," or "),l.Ib(46,"code"),l.lc(47,"enum"),l.Hb(),l.lc(48," property depending on the type (supports arrays as well)"),l.Hb(),l.Ib(49,"li"),l.lc(50,"set the "),l.Ib(51,"code"),l.lc(52,"default"),l.Hb(),l.lc(53," property based on the assigned default value"),l.Hb(),l.Ib(54,"li"),l.lc(55,"set several validation rules based on "),l.Ib(56,"code"),l.lc(57,"class-validator"),l.Hb(),l.lc(58," decorators (if "),l.Ib(59,"code"),l.lc(60,"classValidatorShim"),l.Hb(),l.lc(61," set to "),l.Ib(62,"code"),l.lc(63,"true"),l.Hb(),l.lc(64,")"),l.Hb(),l.Ib(65,"li"),l.lc(66,"add a response decorator to every endpoint with a proper status and "),l.Ib(67,"code"),l.lc(68,"type"),l.Hb(),l.lc(69," (response model)"),l.Hb(),l.Hb(),l.Ib(70,"p"),l.lc(71,"Please, note that your filenames "),l.Ib(72,"strong"),l.lc(73,"must have"),l.Hb(),l.lc(74," one of the following suffixes: "),l.Ib(75,"code"),l.lc(76,"['.dto.ts', '.entity.ts']"),l.Hb(),l.lc(77," (e.g., "),l.Ib(78,"code"),l.lc(79,"create-user.dto.ts"),l.Hb(),l.lc(80,") in order to be analysed by the plugin."),l.Hb(),l.Ib(81,"p"),l.lc(82,"If you are using a different suffix, you can adjust the plugin's behavior by specifying the "),l.Ib(83,"code"),l.lc(84,"dtoFileNameSuffix"),l.Hb(),l.lc(85," option (see below)."),l.Hb(),l.Ib(86,"p"),l.lc(87,"Previously, if you wanted to provide an interactive experience with the Swagger UI,\nyou had to duplicate a lot of code to let the package know how your models/components should be declared in the specification. For example, you could define a simple "),l.Ib(88,"code"),l.lc(89,"CreateUserDto"),l.Hb(),l.lc(90," class as follows:"),l.Hb(),l.Ib(91,"pre"),l.Ib(92,"code",8),l.lc(93,"\nexport class CreateUserDto {\n  @ApiProperty()\n  email: string;\n\n  @ApiProperty()\n  password: string;\n\n  @ApiProperty({ enum: RoleEnum, default: [], isArray: true })\n  roles: RoleEnum[] = [];\n\n  @ApiProperty({ required: false, default: true })\n  isEnabled?: boolean = true;\n}"),l.Hb(),l.Hb(),l.Ib(94,"p"),l.lc(95,"While not a significant issue with medium-sized projects, it becomes verbose & hard to maintain once you have a large set of classes."),l.Hb(),l.Ib(96,"p"),l.lc(97,"By enabling the Swagger plugin, the above class definition can be declared simply:"),l.Hb(),l.Ib(98,"pre"),l.Ib(99,"code",8),l.lc(100,"\nexport class CreateUserDto {\n  email: string;\n  password: string;\n  roles: RoleEnum[] = [];\n  isEnabled?: boolean = true;\n}"),l.Hb(),l.Hb(),l.Ib(101,"p"),l.lc(102,"The plugin adds appropriate decorators on the fly based on the "),l.Ib(103,"strong"),l.lc(104,"Abstract Syntax Tree"),l.Hb(),l.lc(105,". Thus you won't have to struggle with "),l.Ib(106,"code"),l.lc(107,"@ApiProperty"),l.Hb(),l.lc(108," decorators scattered throughout the code."),l.Hb(),l.Ib(109,"blockquote",6),l.Ib(110,"strong"),l.lc(111,"Hint"),l.Hb(),l.lc(112," The plugin will automatically generate any missing swagger properties, but if you need to override them, you simply set them explicitly via "),l.Ib(113,"code"),l.lc(114,"@ApiProperty()"),l.Hb(),l.lc(115,".\n"),l.Hb(),l.Ib(116,"h4",9),l.Ib(117,"span"),l.lc(118,"Using the CLI plugin"),l.Hb(),l.Hb(),l.Ib(119,"p"),l.lc(120,"To enable the plugin, open "),l.Ib(121,"code"),l.lc(122,"nest-cli.json"),l.Hb(),l.lc(123," (if you use "),l.Ib(124,"a",10),l.lc(125,"Nest CLI"),l.Hb(),l.lc(126,") and add the following "),l.Ib(127,"code"),l.lc(128,"plugins"),l.Hb(),l.lc(129," configuration:"),l.Hb(),l.Ib(130,"pre"),l.Ib(131,"code",11),l.lc(132,'\n{\n  "collection": "@nestjs/schematics",\n  "sourceRoot": "src",\n  "compilerOptions": {\n    "plugins": ["@nestjs/swagger/plugin"]\n  }\n}'),l.Hb(),l.Hb(),l.Ib(133,"p"),l.lc(134,"You can use the "),l.Ib(135,"code"),l.lc(136,"options"),l.Hb(),l.lc(137," property to customize the behavior of the plugin."),l.Hb(),l.Ib(138,"pre"),l.Ib(139,"code",11),l.lc(140,'\n"plugins": [\n  {\n    "name": "@nestjs/swagger/plugin",\n    "options": {\n      "classValidatorShim": false\n    }\n  }\n]'),l.Hb(),l.Hb(),l.Ib(141,"p"),l.lc(142,"The "),l.Ib(143,"code"),l.lc(144,"options"),l.Hb(),l.lc(145," property has to fulfill the following interface:"),l.Hb(),l.Ib(146,"pre"),l.Ib(147,"code",8),l.lc(148,"\nexport interface PluginOptions {\n  dtoFileNameSuffix?: string[];\n  controllerFileNameSuffix?: string[];\n  classValidatorShim?: boolean;\n}"),l.Hb(),l.Hb(),l.Ib(149,"table"),l.Ib(150,"tr"),l.Ib(151,"th"),l.lc(152,"Option"),l.Hb(),l.Ib(153,"th"),l.lc(154,"Default"),l.Hb(),l.Ib(155,"th"),l.lc(156,"Description"),l.Hb(),l.Hb(),l.Ib(157,"tr"),l.Ib(158,"td"),l.Ib(159,"code"),l.lc(160,"dtoFileNameSuffix"),l.Hb(),l.Hb(),l.Ib(161,"td"),l.Ib(162,"code"),l.lc(163,"['.dto.ts', '.entity.ts']"),l.Hb(),l.Hb(),l.Ib(164,"td"),l.lc(165,"DTO (Data Transfer Object) files suffix"),l.Hb(),l.Hb(),l.Ib(166,"tr"),l.Ib(167,"td"),l.Ib(168,"code"),l.lc(169,"controllerFileNameSuffix"),l.Hb(),l.Hb(),l.Ib(170,"td"),l.Ib(171,"code"),l.lc(172,".controller.ts"),l.Hb(),l.Hb(),l.Ib(173,"td"),l.lc(174,"Controller files suffix"),l.Hb(),l.Hb(),l.Ib(175,"tr"),l.Ib(176,"td"),l.Ib(177,"code"),l.lc(178,"classValidatorShim"),l.Hb(),l.Hb(),l.Ib(179,"td"),l.Ib(180,"code"),l.lc(181,"true"),l.Hb(),l.Hb(),l.Ib(182,"td"),l.lc(183,"If set to true, the module will reuse "),l.Ib(184,"code"),l.lc(185,"class-validator"),l.Hb(),l.lc(186," validation decorators (e.g. "),l.Ib(187,"code"),l.lc(188,"@Max(10)"),l.Hb(),l.lc(189," will add "),l.Ib(190,"code"),l.lc(191,"max: 10"),l.Hb(),l.lc(192," to schema definition) "),l.Hb(),l.Hb(),l.Hb(),l.Ib(193,"p"),l.lc(194,"If you don't use the CLI but instead have a custom "),l.Ib(195,"code"),l.lc(196,"webpack"),l.Hb(),l.lc(197," configuration, you can use this plugin in combination with "),l.Ib(198,"code"),l.lc(199,"ts-loader"),l.Hb(),l.lc(200,":"),l.Hb(),l.Ib(201,"pre"),l.Ib(202,"code",11),l.lc(203,"\ngetCustomTransformers: (program: any) => ({\n  before: [require('@nestjs/swagger/plugin').before({}, program)]\n}),"),l.Hb(),l.Hb(),l.Hb())},directives:[r.a,c.f],encapsulation:2,changeDetection:0}),e})();const s=l.Kb(i);let p=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return d(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-decorators"]],features:[l.tb],decls:129,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/decorators.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","decorators"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Decorators"),l.Hb(),l.Ib(7,"p"),l.lc(8,"All of the available OpenAPI decorators have an "),l.Ib(9,"code"),l.lc(10,"Api"),l.Hb(),l.lc(11," prefix to distinguish them from the core decorators. Below is a full list of the exported decorators along with a designation of the level at which the decorator may be applied."),l.Hb(),l.Ib(12,"table"),l.Gb(13,"thead"),l.Ib(14,"tbody"),l.Ib(15,"tr"),l.Ib(16,"td"),l.Ib(17,"code"),l.lc(18,"@ApiOperation()"),l.Hb(),l.Hb(),l.Ib(19,"td"),l.lc(20,"Method"),l.Hb(),l.Hb(),l.Ib(21,"tr"),l.Ib(22,"td"),l.Ib(23,"code"),l.lc(24,"@ApiResponse()"),l.Hb(),l.Hb(),l.Ib(25,"td"),l.lc(26,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(27,"tr"),l.Ib(28,"td"),l.Ib(29,"code"),l.lc(30,"@ApiProduces()"),l.Hb(),l.Hb(),l.Ib(31,"td"),l.lc(32,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(33,"tr"),l.Ib(34,"td"),l.Ib(35,"code"),l.lc(36,"@ApiConsumes()"),l.Hb(),l.Hb(),l.Ib(37,"td"),l.lc(38,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(39,"tr"),l.Ib(40,"td"),l.Ib(41,"code"),l.lc(42,"@ApiBearerAuth()"),l.Hb(),l.Hb(),l.Ib(43,"td"),l.lc(44,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(45,"tr"),l.Ib(46,"td"),l.Ib(47,"code"),l.lc(48,"@ApiOAuth2()"),l.Hb(),l.Hb(),l.Ib(49,"td"),l.lc(50,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(51,"tr"),l.Ib(52,"td"),l.Ib(53,"code"),l.lc(54,"@ApiBasicAuth()"),l.Hb(),l.Hb(),l.Ib(55,"td"),l.lc(56,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(57,"tr"),l.Ib(58,"td"),l.Ib(59,"code"),l.lc(60,"@ApiSecurity()"),l.Hb(),l.Hb(),l.Ib(61,"td"),l.lc(62,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(63,"tr"),l.Ib(64,"td"),l.Ib(65,"code"),l.lc(66,"@ApiExtraModels()"),l.Hb(),l.Hb(),l.Ib(67,"td"),l.lc(68,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(69,"tr"),l.Ib(70,"td"),l.Ib(71,"code"),l.lc(72,"@ApiBody()"),l.Hb(),l.Hb(),l.Ib(73,"td"),l.lc(74,"Method"),l.Hb(),l.Hb(),l.Ib(75,"tr"),l.Ib(76,"td"),l.Ib(77,"code"),l.lc(78,"@ApiParam()"),l.Hb(),l.Hb(),l.Ib(79,"td"),l.lc(80,"Method"),l.Hb(),l.Hb(),l.Ib(81,"tr"),l.Ib(82,"td"),l.Ib(83,"code"),l.lc(84,"@ApiQuery()"),l.Hb(),l.Hb(),l.Ib(85,"td"),l.lc(86,"Method"),l.Hb(),l.Hb(),l.Ib(87,"tr"),l.Ib(88,"td"),l.Ib(89,"code"),l.lc(90,"@ApiHeader()"),l.Hb(),l.Hb(),l.Ib(91,"td"),l.lc(92,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(93,"tr"),l.Ib(94,"td"),l.Ib(95,"code"),l.lc(96,"@ApiExcludeEndpoint()"),l.Hb(),l.Hb(),l.Ib(97,"td"),l.lc(98,"Method"),l.Hb(),l.Hb(),l.Ib(99,"tr"),l.Ib(100,"td"),l.Ib(101,"code"),l.lc(102,"@ApiTags()"),l.Hb(),l.Hb(),l.Ib(103,"td"),l.lc(104,"Method / Controller"),l.Hb(),l.Hb(),l.Ib(105,"tr"),l.Ib(106,"td"),l.Ib(107,"code"),l.lc(108,"@ApiProperty()"),l.Hb(),l.Hb(),l.Ib(109,"td"),l.lc(110,"Model"),l.Hb(),l.Hb(),l.Ib(111,"tr"),l.Ib(112,"td"),l.Ib(113,"code"),l.lc(114,"@ApiPropertyOptional()"),l.Hb(),l.Hb(),l.Ib(115,"td"),l.lc(116,"Model"),l.Hb(),l.Hb(),l.Ib(117,"tr"),l.Ib(118,"td"),l.Ib(119,"code"),l.lc(120,"@ApiHideProperty()"),l.Hb(),l.Hb(),l.Ib(121,"td"),l.lc(122,"Model"),l.Hb(),l.Hb(),l.Ib(123,"tr"),l.Ib(124,"td"),l.Ib(125,"code"),l.lc(126,"@ApiExtension()"),l.Hb(),l.Hb(),l.Ib(127,"td"),l.lc(128,"Method"),l.Hb(),l.Hb(),l.Hb(),l.Hb(),l.Hb())},encapsulation:2,changeDetection:0}),e})();const d=l.Kb(p);let I=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return u(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-introduction"]],features:[l.tb],decls:112,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/introduction.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","introduction"],["rel","nofollow","target","_blank","href","https://swagger.io/specification/"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/swagger"],["appAnchor","","id","installation"],[1,"language-bash"],["appAnchor","","id","bootstrap"],[1,"language-typescript"],["src","/assets/swagger1.png"],[1,"info"],["appAnchor","","id","example"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/tree/master/sample/11-swagger"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Introduction"),l.Hb(),l.Ib(7,"p"),l.lc(8,"The "),l.Ib(9,"a",6),l.lc(10,"OpenAPI"),l.Hb(),l.lc(11," specification is a language-agnostic definition format used to describe RESTful APIs. Nest provides a dedicated "),l.Ib(12,"a",7),l.lc(13,"module"),l.Hb(),l.lc(14," which allows generating such a specification by leveraging decorators."),l.Hb(),l.Ib(15,"h4",8),l.Ib(16,"span"),l.lc(17,"Installation"),l.Hb(),l.Hb(),l.Ib(18,"p"),l.lc(19,"To begin using it, we first install the required dependencies."),l.Hb(),l.Ib(20,"pre"),l.Ib(21,"code",9),l.lc(22,"\n$ npm install --save @nestjs/swagger swagger-ui-express"),l.Hb(),l.Hb(),l.Ib(23,"p"),l.lc(24,"If you use fastify, install "),l.Ib(25,"code"),l.lc(26,"fastify-swagger"),l.Hb(),l.lc(27," instead of "),l.Ib(28,"code"),l.lc(29,"swagger-ui-express"),l.Hb(),l.lc(30,":"),l.Hb(),l.Ib(31,"pre"),l.Ib(32,"code",9),l.lc(33,"\n$ npm install --save @nestjs/swagger fastify-swagger"),l.Hb(),l.Hb(),l.Ib(34,"h4",10),l.Ib(35,"span"),l.lc(36,"Bootstrap"),l.Hb(),l.Hb(),l.Ib(37,"p"),l.lc(38,"Once the installation process is complete, open the "),l.Ib(39,"code"),l.lc(40,"main.ts"),l.Hb(),l.lc(41," file and initialize Swagger using the "),l.Ib(42,"code"),l.lc(43,"SwaggerModule"),l.Hb(),l.lc(44," class:"),l.Hb(),l.Ib(45,"pre"),l.Ib(46,"code",11),l.lc(47,"\nimport { NestFactory } from '@nestjs/core';\nimport { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  const options = new DocumentBuilder()\n    .setTitle('Cats example')\n    .setDescription('The cats API description')\n    .setVersion('1.0')\n    .addTag('cats')\n    .build();\n  const document = SwaggerModule.createDocument(app, options);\n  SwaggerModule.setup('api', app, document);\n\n  await app.listen(3000);\n}\nbootstrap();"),l.Hb(),l.Hb(),l.Ib(48,"p"),l.lc(49,"The "),l.Ib(50,"code"),l.lc(51,"DocumentBuilder"),l.Hb(),l.lc(52," helps to structure a base document that conforms to the OpenAPI Specification. It provides several methods that allow setting such properties as title, description, version, etc. In order to create a full document (with all HTTP routes defined) we use the "),l.Ib(53,"code"),l.lc(54,"createDocument()"),l.Hb(),l.lc(55," method of the "),l.Ib(56,"code"),l.lc(57,"SwaggerModule"),l.Hb(),l.lc(58," class. This method takes two arguments, an application instance and a Swagger options object."),l.Hb(),l.Ib(59,"p"),l.lc(60,"Once we create a document, we can call the "),l.Ib(61,"code"),l.lc(62,"setup()"),l.Hb(),l.lc(63," method. It accepts:"),l.Hb(),l.Ib(64,"ol"),l.Ib(65,"li"),l.lc(66,"the path to mount the Swagger UI"),l.Hb(),l.Ib(67,"li"),l.lc(68,"an application instance"),l.Hb(),l.Ib(69,"li"),l.lc(70,"the document object instantiated above"),l.Hb(),l.Hb(),l.Ib(71,"p"),l.lc(72,"Now you can run the following command to start the HTTP server:"),l.Hb(),l.Ib(73,"pre"),l.Ib(74,"code",9),l.lc(75,"\n$ npm run start"),l.Hb(),l.Hb(),l.Ib(76,"p"),l.lc(77,"While the application is running, open your browser and navigate to "),l.Ib(78,"code"),l.lc(79,"http://localhost:3000/api"),l.Hb(),l.lc(80,". You should see the Swagger UI."),l.Hb(),l.Ib(81,"figure"),l.Gb(82,"img",12),l.Hb(),l.Ib(83,"p"),l.lc(84,"The "),l.Ib(85,"code"),l.lc(86,"SwaggerModule"),l.Hb(),l.lc(87," automatically reflects all of your endpoints. Note that the Swagger UI is created using either "),l.Ib(88,"code"),l.lc(89,"swagger-ui-express"),l.Hb(),l.lc(90," or "),l.Ib(91,"code"),l.lc(92,"fastify-swagger"),l.Hb(),l.lc(93,", depending on the platform."),l.Hb(),l.Ib(94,"blockquote",13),l.Ib(95,"strong"),l.lc(96,"Hint"),l.Hb(),l.lc(97," To generate and download a Swagger JSON file, navigate to "),l.Ib(98,"code"),l.lc(99,"http://localhost:3000/api-json"),l.Hb(),l.lc(100," in your browser (assuming that your Swagger documentation is available under "),l.Ib(101,"code"),l.lc(102,"http://localhost:3000/api"),l.Hb(),l.lc(103,").\n"),l.Hb(),l.Ib(104,"h4",14),l.Ib(105,"span"),l.lc(106,"Example"),l.Hb(),l.Hb(),l.Ib(107,"p"),l.lc(108,"A working example is available "),l.Ib(109,"a",15),l.lc(110,"here"),l.Hb(),l.lc(111,"."),l.Hb(),l.Hb())},directives:[r.a],encapsulation:2,changeDetection:0}),e})();const u=l.Kb(I);let H=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return h(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-mapped-types"]],features:[l.tb],decls:169,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/mapped-types.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","mapped-types"],["appAnchor","","id","partial"],[1,"language-typescript"],[1,"info"],["appAnchor","","id","pick"],["appAnchor","","id","omit"],["appAnchor","","id","intersection"],["appAnchor","","id","composition"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Mapped types"),l.Hb(),l.Ib(7,"p"),l.lc(8,"As you build out features like "),l.Ib(9,"strong"),l.lc(10,"CRUD"),l.Hb(),l.lc(11," (Create/Read/Update/Delete) it's often useful to construct variants on a base entity type. Nest provides several utility functions that perform type transformations to make this task more convenient."),l.Hb(),l.Ib(12,"h4",6),l.Ib(13,"span"),l.lc(14,"Partial"),l.Hb(),l.Hb(),l.Ib(15,"p"),l.lc(16,"When building input validation types (also called DTOs), it's often useful to build "),l.Ib(17,"strong"),l.lc(18,"create"),l.Hb(),l.lc(19," and "),l.Ib(20,"strong"),l.lc(21,"update"),l.Hb(),l.lc(22," variations on the same type. For example, the "),l.Ib(23,"strong"),l.lc(24,"create"),l.Hb(),l.lc(25," variant may require all fields, while the "),l.Ib(26,"strong"),l.lc(27,"update"),l.Hb(),l.lc(28," variant may make all fields optional."),l.Hb(),l.Ib(29,"p"),l.lc(30,"Nest provides the "),l.Ib(31,"code"),l.lc(32,"PartialType()"),l.Hb(),l.lc(33," utility function to make this task easier and minimize boilerplate."),l.Hb(),l.Ib(34,"p"),l.lc(35,"The "),l.Ib(36,"code"),l.lc(37,"PartialType()"),l.Hb(),l.lc(38," function returns a type (class) with all the properties of the input type set to optional. For example, suppose we have a "),l.Ib(39,"strong"),l.lc(40,"create"),l.Hb(),l.lc(41," type as follows:"),l.Hb(),l.Ib(42,"pre"),l.Ib(43,"code",7),l.lc(44,"\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n}"),l.Hb(),l.Hb(),l.Ib(45,"p"),l.lc(46,"By default, all of these fields are required. To create a type with the same fields, but with each one optional, use "),l.Ib(47,"code"),l.lc(48,"PartialType()"),l.Hb(),l.lc(49," passing the class reference ("),l.Ib(50,"code"),l.lc(51,"CreateCatDto"),l.Hb(),l.lc(52,") as an argument:"),l.Hb(),l.Ib(53,"pre"),l.Ib(54,"code",7),l.lc(55,"\nexport class UpdateCatDto extends PartialType(CreateCatDto) {}"),l.Hb(),l.Hb(),l.Ib(56,"blockquote",8),l.Ib(57,"strong"),l.lc(58,"Hint"),l.Hb(),l.lc(59," The "),l.Ib(60,"code"),l.lc(61,"PartialType()"),l.Hb(),l.lc(62," function is imported from the "),l.Ib(63,"code"),l.lc(64,"@nestjs/swagger"),l.Hb(),l.lc(65," package.\n"),l.Hb(),l.Ib(66,"h4",9),l.Ib(67,"span"),l.lc(68,"Pick"),l.Hb(),l.Hb(),l.Ib(69,"p"),l.lc(70,"The "),l.Ib(71,"code"),l.lc(72,"PickType()"),l.Hb(),l.lc(73," function constructs a new type (class) by picking a set of properties from an input type. For example, suppose we start with a type like:"),l.Hb(),l.Ib(74,"pre"),l.Ib(75,"code",7),l.lc(76,"\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n}"),l.Hb(),l.Hb(),l.Ib(77,"p"),l.lc(78,"We can pick a set of properties from this class using the "),l.Ib(79,"code"),l.lc(80,"PickType()"),l.Hb(),l.lc(81," utility function:"),l.Hb(),l.Ib(82,"pre"),l.Ib(83,"code",7),l.lc(84,"\nexport class UpdateCatAgeDto extends PickType(CreateCatDto, ['age'] as const) {}"),l.Hb(),l.Hb(),l.Ib(85,"blockquote",8),l.Ib(86,"strong"),l.lc(87,"Hint"),l.Hb(),l.lc(88," The "),l.Ib(89,"code"),l.lc(90,"PickType()"),l.Hb(),l.lc(91," function is imported from the "),l.Ib(92,"code"),l.lc(93,"@nestjs/swagger"),l.Hb(),l.lc(94," package.\n"),l.Hb(),l.Ib(95,"h4",10),l.Ib(96,"span"),l.lc(97,"Omit"),l.Hb(),l.Hb(),l.Ib(98,"p"),l.lc(99,"The "),l.Ib(100,"code"),l.lc(101,"OmitType()"),l.Hb(),l.lc(102," function constructs a type by picking all properties from an input type and then removing a particular set of keys. For example, suppose we start with a type like:"),l.Hb(),l.Ib(103,"pre"),l.Ib(104,"code",7),l.lc(105,"\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n}"),l.Hb(),l.Hb(),l.Ib(106,"p"),l.lc(107,"We can generate a derived type that has every property "),l.Ib(108,"strong"),l.lc(109,"except"),l.Hb(),l.Ib(110,"code"),l.lc(111,"name"),l.Hb(),l.lc(112," as shown below. In this construct, the second argument to "),l.Ib(113,"code"),l.lc(114,"OmitType"),l.Hb(),l.lc(115," is an array of property names."),l.Hb(),l.Ib(116,"pre"),l.Ib(117,"code",7),l.lc(118,"\nexport class UpdateCatDto extends OmitType(CreateCatDto, ['name'] as const) {}"),l.Hb(),l.Hb(),l.Ib(119,"blockquote",8),l.Ib(120,"strong"),l.lc(121,"Hint"),l.Hb(),l.lc(122," The "),l.Ib(123,"code"),l.lc(124,"OmitType()"),l.Hb(),l.lc(125," function is imported from the "),l.Ib(126,"code"),l.lc(127,"@nestjs/swagger"),l.Hb(),l.lc(128," package.\n"),l.Hb(),l.Ib(129,"h4",11),l.Ib(130,"span"),l.lc(131,"Intersection"),l.Hb(),l.Hb(),l.Ib(132,"p"),l.lc(133,"The "),l.Ib(134,"code"),l.lc(135,"IntersectionType()"),l.Hb(),l.lc(136," function combines two types into one new type (class). For example, suppose we start with two types like:"),l.Hb(),l.Ib(137,"pre"),l.Ib(138,"code",7),l.lc(139,"\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  breed: string;\n}\n\nexport class AdditionalCatInfo {\n  @ApiProperty()\n  color: string;\n}"),l.Hb(),l.Hb(),l.Ib(140,"p"),l.lc(141,"We can generate a new type that combines all properties in both types."),l.Hb(),l.Ib(142,"pre"),l.Ib(143,"code",7),l.lc(144,"\nexport class UpdateCatDto extends IntersectionType(\n  CreateCatDto,\n  AdditionalCatInfo,\n) {}"),l.Hb(),l.Hb(),l.Ib(145,"blockquote",8),l.Ib(146,"strong"),l.lc(147,"Hint"),l.Hb(),l.lc(148," The "),l.Ib(149,"code"),l.lc(150,"IntersectionType()"),l.Hb(),l.lc(151," function is imported from the "),l.Ib(152,"code"),l.lc(153,"@nestjs/swagger"),l.Hb(),l.lc(154," package.\n"),l.Hb(),l.Ib(155,"h4",12),l.Ib(156,"span"),l.lc(157,"Composition"),l.Hb(),l.Hb(),l.Ib(158,"p"),l.lc(159,"The type mapping utility functions are composable. For example, the following will produce a type (class) that has all of the properties of the "),l.Ib(160,"code"),l.lc(161,"CreateCatDto"),l.Hb(),l.lc(162," type except for "),l.Ib(163,"code"),l.lc(164,"name"),l.Hb(),l.lc(165,", and those properties will be set to optional:"),l.Hb(),l.Ib(166,"pre"),l.Ib(167,"code",7),l.lc(168,"\nexport class UpdateCatDto extends PartialType(\n  OmitType(CreateCatDto, ['name'] as const),\n) {}"),l.Hb(),l.Hb(),l.Hb())},directives:[r.a],encapsulation:2,changeDetection:0}),e})();const h=l.Kb(H);var g=o("rOQQ");let m=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return y(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-openapi-migration"]],features:[l.tb],decls:129,vars:4,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/migration-guide.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","migration-guide"],["appAnchor","","id","breaking-changes"],["appAnchor","","id","new-methods"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Migration guide"),l.Hb(),l.Ib(7,"p"),l.lc(8,"If you're currently using "),l.Ib(9,"code"),l.lc(10,"@nestjs/swagger@3.*"),l.Hb(),l.lc(11,", note the following breaking/API changes in version 4.0."),l.Hb(),l.Ib(12,"h4",6),l.Ib(13,"span"),l.lc(14,"Breaking changes"),l.Hb(),l.Hb(),l.Ib(15,"p"),l.lc(16,"The following decorators have been changed/renamed:"),l.Hb(),l.Ib(17,"ul"),l.Ib(18,"li"),l.Ib(19,"code"),l.lc(20,"@ApiModelProperty"),l.Hb(),l.lc(21," is now "),l.Ib(22,"code"),l.lc(23,"@ApiProperty"),l.Hb(),l.Hb(),l.Ib(24,"li"),l.Ib(25,"code"),l.lc(26,"@ApiModelPropertyOptional"),l.Hb(),l.lc(27," is now "),l.Ib(28,"code"),l.lc(29,"@ApiPropertyOptional"),l.Hb(),l.Hb(),l.Ib(30,"li"),l.Ib(31,"code"),l.lc(32,"@ApiResponseModelProperty"),l.Hb(),l.lc(33," is now "),l.Ib(34,"code"),l.lc(35,"@ApiResponseProperty"),l.Hb(),l.Hb(),l.Ib(36,"li"),l.Ib(37,"code"),l.lc(38,"@ApiImplicitQuery"),l.Hb(),l.lc(39," is now "),l.Ib(40,"code"),l.lc(41,"@ApiQuery"),l.Hb(),l.Hb(),l.Ib(42,"li"),l.Ib(43,"code"),l.lc(44,"@ApiImplicitParam"),l.Hb(),l.lc(45," is now "),l.Ib(46,"code"),l.lc(47,"@ApiParam"),l.Hb(),l.Hb(),l.Ib(48,"li"),l.Ib(49,"code"),l.lc(50,"@ApiImplicitBody"),l.Hb(),l.lc(51," is now "),l.Ib(52,"code"),l.lc(53,"@ApiBody"),l.Hb(),l.Hb(),l.Ib(54,"li"),l.Ib(55,"code"),l.lc(56,"@ApiImplicitHeader"),l.Hb(),l.lc(57," is now "),l.Ib(58,"code"),l.lc(59,"@ApiHeader"),l.Hb(),l.Hb(),l.Ib(60,"li"),l.Ib(61,"code"),l.lc(62),l.Hb(),l.lc(63," is now "),l.Ib(64,"code"),l.lc(65),l.Hb(),l.Hb(),l.Ib(66,"li"),l.Ib(67,"code"),l.lc(68,"@ApiUseTags"),l.Hb(),l.lc(69," is now "),l.Ib(70,"code"),l.lc(71,"@ApiTags"),l.Hb(),l.Hb(),l.Hb(),l.Ib(72,"p"),l.Ib(73,"code"),l.lc(74,"DocumentBuilder"),l.Hb(),l.lc(75," breaking changes (updated method signatures):"),l.Hb(),l.Ib(76,"ul"),l.Ib(77,"li"),l.Ib(78,"code"),l.lc(79,"addTag"),l.Hb(),l.Hb(),l.Ib(80,"li"),l.Ib(81,"code"),l.lc(82,"addBearerAuth"),l.Hb(),l.Hb(),l.Ib(83,"li"),l.Ib(84,"code"),l.lc(85,"addOAuth2"),l.Hb(),l.Hb(),l.Ib(86,"li"),l.Ib(87,"code"),l.lc(88,"setContactEmail"),l.Hb(),l.lc(89," is now "),l.Ib(90,"code"),l.lc(91,"setContact"),l.Hb(),l.Hb(),l.Ib(92,"li"),l.Ib(93,"code"),l.lc(94,"setHost"),l.Hb(),l.lc(95," has been removed"),l.Hb(),l.Ib(96,"li"),l.Ib(97,"code"),l.lc(98,"setSchemes"),l.Hb(),l.lc(99," has been removed (use the "),l.Ib(100,"code"),l.lc(101,"addServer"),l.Hb(),l.lc(102," instead, e.g., "),l.Ib(103,"code"),l.lc(104,"addServer('http://')"),l.Hb(),l.lc(105,")"),l.Hb(),l.Hb(),l.Ib(106,"h4",7),l.Ib(107,"span"),l.lc(108,"New methods"),l.Hb(),l.Hb(),l.Ib(109,"p"),l.lc(110,"The following methods have been added:"),l.Hb(),l.Ib(111,"ul"),l.Ib(112,"li"),l.Ib(113,"code"),l.lc(114,"addServer"),l.Hb(),l.Hb(),l.Ib(115,"li"),l.Ib(116,"code"),l.lc(117,"addApiKey"),l.Hb(),l.Hb(),l.Ib(118,"li"),l.Ib(119,"code"),l.lc(120,"addBasicAuth"),l.Hb(),l.Hb(),l.Ib(121,"li"),l.Ib(122,"code"),l.lc(123,"addSecurity"),l.Hb(),l.Hb(),l.Ib(124,"li"),l.Ib(125,"code"),l.lc(126,"addSecurityRequirements"),l.Hb(),l.Hb(),l.Hb(),l.Ib(127,"p"),l.Gb(128,"app-banner-shop"),l.Hb(),l.Hb()),2&e&&(l.vb(62),l.oc("@ApiOperation(","{"," title: 'test' ","}",")"),l.vb(3),l.oc("@ApiOperation(","{"," summary: 'test' ","}",")"))},directives:[r.a,g.a],encapsulation:2,changeDetection:0}),e})();const y=l.Kb(m);let f=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return w(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-openapi-operations"]],features:[l.tb],decls:206,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/operations.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","operations"],["appAnchor","","id","tags"],[1,"language-typescript"],["appAnchor","","id","headers"],["appAnchor","","id","responses"],["src","/assets/swagger-response-type.png"],["appAnchor","","id","file-upload"],["routerLink","/techniques/file-upload"],["appAnchor","","id","extensions"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Operations"),l.Hb(),l.Ib(7,"p"),l.lc(8,"In OpenAPI terms, paths are endpoints (resources), such as "),l.Ib(9,"code"),l.lc(10,"/users"),l.Hb(),l.lc(11," or "),l.Ib(12,"code"),l.lc(13,"/reports/summary"),l.Hb(),l.lc(14,", that your API exposes, and operations are the HTTP methods used to manipulate these paths, such as "),l.Ib(15,"code"),l.lc(16,"GET"),l.Hb(),l.lc(17,", "),l.Ib(18,"code"),l.lc(19,"POST"),l.Hb(),l.lc(20," or "),l.Ib(21,"code"),l.lc(22,"DELETE"),l.Hb(),l.lc(23,"."),l.Hb(),l.Ib(24,"h4",6),l.Ib(25,"span"),l.lc(26,"Tags"),l.Hb(),l.Hb(),l.Ib(27,"p"),l.lc(28,"To attach a controller to a specific tag, use the "),l.Ib(29,"code"),l.lc(30,"@ApiTags(...tags)"),l.Hb(),l.lc(31," decorator."),l.Hb(),l.Ib(32,"pre"),l.Ib(33,"code",7),l.lc(34,"\n@ApiTags('cats')\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(35,"h4",8),l.Ib(36,"span"),l.lc(37,"Headers"),l.Hb(),l.Hb(),l.Ib(38,"p"),l.lc(39,"To define custom headers that are expected as part of the request, use "),l.Ib(40,"code"),l.lc(41,"@ApiHeader()"),l.Hb(),l.lc(42,"."),l.Hb(),l.Ib(43,"pre"),l.Ib(44,"code",7),l.lc(45,"\n@ApiHeader({\n  name: 'X-MyHeader',\n  description: 'Custom header',\n})\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(46,"h4",9),l.Ib(47,"span"),l.lc(48,"Responses"),l.Hb(),l.Hb(),l.Ib(49,"p"),l.lc(50,"To define a custom HTTP response, use the "),l.Ib(51,"code"),l.lc(52,"@ApiResponse()"),l.Hb(),l.lc(53," decorator."),l.Hb(),l.Ib(54,"pre"),l.Ib(55,"code",7),l.lc(56,"\n@Post()\n@ApiResponse({ status: 201, description: 'The record has been successfully created.'})\n@ApiResponse({ status: 403, description: 'Forbidden.'})\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),l.Hb(),l.Hb(),l.Ib(57,"p"),l.lc(58,"Nest provides a set of short-hand "),l.Ib(59,"strong"),l.lc(60,"API response"),l.Hb(),l.lc(61," decorators that inherit from the "),l.Ib(62,"code"),l.lc(63,"@ApiResponse"),l.Hb(),l.lc(64," decorator:"),l.Hb(),l.Ib(65,"ul"),l.Ib(66,"li"),l.Ib(67,"code"),l.lc(68,"@ApiOkResponse()"),l.Hb(),l.Hb(),l.Ib(69,"li"),l.Ib(70,"code"),l.lc(71,"@ApiCreatedResponse()"),l.Hb(),l.Hb(),l.Ib(72,"li"),l.Ib(73,"code"),l.lc(74,"@ApiAcceptedResponse()"),l.Hb(),l.Hb(),l.Ib(75,"li"),l.Ib(76,"code"),l.lc(77,"@ApiNoContentResponse()"),l.Hb(),l.Hb(),l.Ib(78,"li"),l.Ib(79,"code"),l.lc(80,"@ApiMovedPermanentlyResponse()"),l.Hb(),l.Hb(),l.Ib(81,"li"),l.Ib(82,"code"),l.lc(83,"@ApiBadRequestResponse()"),l.Hb(),l.Hb(),l.Ib(84,"li"),l.Ib(85,"code"),l.lc(86,"@ApiUnauthorizedResponse()"),l.Hb(),l.Hb(),l.Ib(87,"li"),l.Ib(88,"code"),l.lc(89,"@ApiNotFoundResponse()"),l.Hb(),l.Hb(),l.Ib(90,"li"),l.Ib(91,"code"),l.lc(92,"@ApiForbiddenResponse()"),l.Hb(),l.Hb(),l.Ib(93,"li"),l.Ib(94,"code"),l.lc(95,"@ApiMethodNotAllowedResponse()"),l.Hb(),l.Hb(),l.Ib(96,"li"),l.Ib(97,"code"),l.lc(98,"@ApiNotAcceptableResponse()"),l.Hb(),l.Hb(),l.Ib(99,"li"),l.Ib(100,"code"),l.lc(101,"@ApiRequestTimeoutResponse()"),l.Hb(),l.Hb(),l.Ib(102,"li"),l.Ib(103,"code"),l.lc(104,"@ApiConflictResponse()"),l.Hb(),l.Hb(),l.Ib(105,"li"),l.Ib(106,"code"),l.lc(107,"@ApiTooManyRequestsResponse()"),l.Hb(),l.Hb(),l.Ib(108,"li"),l.Ib(109,"code"),l.lc(110,"@ApiGoneResponse()"),l.Hb(),l.Hb(),l.Ib(111,"li"),l.Ib(112,"code"),l.lc(113,"@ApiPayloadTooLargeResponse()"),l.Hb(),l.Hb(),l.Ib(114,"li"),l.Ib(115,"code"),l.lc(116,"@ApiUnsupportedMediaTypeResponse()"),l.Hb(),l.Hb(),l.Ib(117,"li"),l.Ib(118,"code"),l.lc(119,"@ApiUnprocessableEntityResponse()"),l.Hb(),l.Hb(),l.Ib(120,"li"),l.Ib(121,"code"),l.lc(122,"@ApiInternalServerErrorResponse()"),l.Hb(),l.Hb(),l.Ib(123,"li"),l.Ib(124,"code"),l.lc(125,"@ApiNotImplementedResponse()"),l.Hb(),l.Hb(),l.Ib(126,"li"),l.Ib(127,"code"),l.lc(128,"@ApiBadGatewayResponse()"),l.Hb(),l.Hb(),l.Ib(129,"li"),l.Ib(130,"code"),l.lc(131,"@ApiServiceUnavailableResponse()"),l.Hb(),l.Hb(),l.Ib(132,"li"),l.Ib(133,"code"),l.lc(134,"@ApiGatewayTimeoutResponse()"),l.Hb(),l.Hb(),l.Ib(135,"li"),l.Ib(136,"code"),l.lc(137,"@ApiDefaultResponse()"),l.Hb(),l.Hb(),l.Hb(),l.Ib(138,"pre"),l.Ib(139,"code",7),l.lc(140,"\n@Post()\n@ApiCreatedResponse({ description: 'The record has been successfully created.'})\n@ApiForbiddenResponse({ description: 'Forbidden.'})\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),l.Hb(),l.Hb(),l.Ib(141,"p"),l.lc(142,"To specify a return model for a request, we must create a class and annotate all properties with the "),l.Ib(143,"code"),l.lc(144,"@ApiProperty()"),l.Hb(),l.lc(145," decorator."),l.Hb(),l.Ib(146,"pre"),l.Ib(147,"code",7),l.lc(148,"\nexport class Cat {\n  @ApiProperty()\n  id: number;\n\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n}"),l.Hb(),l.Hb(),l.Ib(149,"p"),l.lc(150,"Then the "),l.Ib(151,"code"),l.lc(152,"Cat"),l.Hb(),l.lc(153," model can be used in combination with the "),l.Ib(154,"code"),l.lc(155,"type"),l.Hb(),l.lc(156," property of the response decorator."),l.Hb(),l.Ib(157,"pre"),l.Ib(158,"code",7),l.lc(159,"\n@ApiTags('cats')\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @ApiCreatedResponse({\n    description: 'The record has been successfully created.',\n    type: Cat,\n  })\n  async create(@Body() createCatDto: CreateCatDto): Promise<Cat> {\n    return this.catsService.create(createCatDto);\n  }\n}"),l.Hb(),l.Hb(),l.Ib(160,"p"),l.lc(161,"Let's open the browser and verify the generated "),l.Ib(162,"code"),l.lc(163,"Cat"),l.Hb(),l.lc(164," model:"),l.Hb(),l.Ib(165,"figure"),l.Gb(166,"img",10),l.Hb(),l.Ib(167,"h4",11),l.Ib(168,"span"),l.lc(169,"File upload"),l.Hb(),l.Hb(),l.Ib(170,"p"),l.lc(171,"You can enable file upload for a specific method with the "),l.Ib(172,"code"),l.lc(173,"@ApiBody"),l.Hb(),l.lc(174," decorator together with "),l.Ib(175,"code"),l.lc(176,"@ApiConsumes()"),l.Hb(),l.lc(177,". Here's a full example using the "),l.Ib(178,"a",12),l.lc(179,"File Upload"),l.Hb(),l.lc(180," technique:"),l.Hb(),l.Ib(181,"pre"),l.Ib(182,"code",7),l.lc(183,"\n@UseInterceptors(FileInterceptor('file'))\n@ApiConsumes('multipart/form-data')\n@ApiBody({\n  description: 'List of cats',\n  type: FileUploadDto,\n})\nuploadFile(@UploadedFile() file) {}"),l.Hb(),l.Hb(),l.Ib(184,"p"),l.lc(185,"Where "),l.Ib(186,"code"),l.lc(187,"FileUploadDto"),l.Hb(),l.lc(188," is defined as follows:"),l.Hb(),l.Ib(189,"pre"),l.Ib(190,"code",7),l.lc(191,"\nclass FileUploadDto {\n  @ApiProperty({ type: 'string', format: 'binary' })\n  file: any;\n}"),l.Hb(),l.Hb(),l.Ib(192,"h4",13),l.Ib(193,"span"),l.lc(194,"Extensions"),l.Hb(),l.Hb(),l.Ib(195,"p"),l.lc(196,"To add an Extension to a request use the "),l.Ib(197,"code"),l.lc(198,"@ApiExtension()"),l.Hb(),l.lc(199," decorator. The extension name must be prefixed with "),l.Ib(200,"code"),l.lc(201,"x-"),l.Hb(),l.lc(202,"."),l.Hb(),l.Ib(203,"pre"),l.Ib(204,"code",7),l.lc(205,"\n@ApiExtension('x-foo', { hello: 'world' })"),l.Hb(),l.Hb(),l.Hb())},directives:[r.a,c.f],encapsulation:2,changeDetection:0}),e})();const w=l.Kb(f);let A=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return C(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-openapi-other-features"]],features:[l.tb],decls:67,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/other-features.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","other-features"],["appAnchor","","id","global-prefix"],[1,"language-typescript"],["appAnchor","","id","multiple-specifications"],[1,"language-bash"],["src","/assets/swagger-cats.png"],["src","/assets/swagger-dogs.png"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Other features"),l.Hb(),l.Ib(7,"h4",6),l.Ib(8,"span"),l.lc(9,"Global prefix"),l.Hb(),l.Hb(),l.Ib(10,"p"),l.lc(11,"To ignore a global prefix for routes set through "),l.Ib(12,"code"),l.lc(13,"setGlobalPrefix()"),l.Hb(),l.lc(14,", use "),l.Ib(15,"code"),l.lc(16,"ignoreGlobalPrefix"),l.Hb(),l.lc(17,":"),l.Hb(),l.Ib(18,"pre"),l.Ib(19,"code",7),l.lc(20,"\nconst document = SwaggerModule.createDocument(app, options, {\n  ignoreGlobalPrefix: true,\n});"),l.Hb(),l.Hb(),l.Ib(21,"h4",8),l.Ib(22,"span"),l.lc(23,"Multiple specifications"),l.Hb(),l.Hb(),l.Ib(24,"p"),l.lc(25,"The "),l.Ib(26,"code"),l.lc(27,"SwaggerModule"),l.Hb(),l.lc(28," provides a way to support multiple specifications. In other words, you can serve different documentation, with different UIs, on different endpoints."),l.Hb(),l.Ib(29,"p"),l.lc(30,"To support multiple specifications, your application must be written with a modular approach. The "),l.Ib(31,"code"),l.lc(32,"createDocument()"),l.Hb(),l.lc(33," method takes a 3rd argument, "),l.Ib(34,"code"),l.lc(35,"extraOptions"),l.Hb(),l.lc(36,", which is an object with a property named "),l.Ib(37,"code"),l.lc(38,"include"),l.Hb(),l.lc(39,". The "),l.Ib(40,"code"),l.lc(41,"include"),l.Hb(),l.lc(42," property takes a value which is an array of modules."),l.Hb(),l.Ib(43,"p"),l.lc(44,"You can setup multiple specifications support as shown below:"),l.Hb(),l.Ib(45,"pre"),l.Ib(46,"code",7),l.lc(47,"\nimport { NestFactory } from '@nestjs/core';\nimport { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  /**\n   * createDocument(application, configurationOptions, extraOptions);\n   *\n   * createDocument method takes an optional 3rd argument \"extraOptions\"\n   * which is an object with \"include\" property where you can pass an Array\n   * of Modules that you want to include in that Swagger Specification\n   * E.g: CatsModule and DogsModule will have two separate Swagger Specifications which\n   * will be exposed on two different SwaggerUI with two different endpoints.\n   */\n\n  const options = new DocumentBuilder()\n    .setTitle('Cats example')\n    .setDescription('The cats API description')\n    .setVersion('1.0')\n    .addTag('cats')\n    .build();\n\n  const catDocument = SwaggerModule.createDocument(app, options, {\n    include: [CatsModule],\n  });\n  SwaggerModule.setup('api/cats', app, catDocument);\n\n  const secondOptions = new DocumentBuilder()\n    .setTitle('Dogs example')\n    .setDescription('The dogs API description')\n    .setVersion('1.0')\n    .addTag('dogs')\n    .build();\n\n  const dogDocument = SwaggerModule.createDocument(app, secondOptions, {\n    include: [DogsModule],\n  });\n  SwaggerModule.setup('api/dogs', app, dogDocument);\n\n  await app.listen(3000);\n}\nbootstrap();"),l.Hb(),l.Hb(),l.Ib(48,"p"),l.lc(49,"Now you can start your server with the following command:"),l.Hb(),l.Ib(50,"pre"),l.Ib(51,"code",9),l.lc(52,"\n$ npm run start"),l.Hb(),l.Hb(),l.Ib(53,"p"),l.lc(54,"Navigate to "),l.Ib(55,"code"),l.lc(56,"http://localhost:3000/api/cats"),l.Hb(),l.lc(57," to see the Swagger UI for cats:"),l.Hb(),l.Ib(58,"figure"),l.Gb(59,"img",10),l.Hb(),l.Ib(60,"p"),l.lc(61,"In turn, "),l.Ib(62,"code"),l.lc(63,"http://localhost:3000/api/dogs"),l.Hb(),l.lc(64," will expose the Swagger UI for dogs:"),l.Hb(),l.Ib(65,"figure"),l.Gb(66,"img",11),l.Hb(),l.Hb())},directives:[r.a],encapsulation:2,changeDetection:0}),e})();const C=l.Kb(A);let v=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return P(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-openapi-security"]],features:[l.tb],decls:107,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/security.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","security"],[1,"language-typescript"],["appAnchor","","id","basic-authentication"],["appAnchor","","id","bearer-authentication"],["appAnchor","","id","oauth2-authentication"],["appAnchor","","id","cookie-authentication"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Security"),l.Hb(),l.Ib(7,"p"),l.lc(8,"To define which security mechanisms should be used for a specific operation, use the "),l.Ib(9,"code"),l.lc(10,"@ApiSecurity()"),l.Hb(),l.lc(11," decorator."),l.Hb(),l.Ib(12,"pre"),l.Ib(13,"code",6),l.lc(14,"\n@ApiSecurity('basic')\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(15,"p"),l.lc(16,"Before you run your application, remember to add the security definition to your base document using "),l.Ib(17,"code"),l.lc(18,"DocumentBuilder"),l.Hb(),l.lc(19,":"),l.Hb(),l.Ib(20,"pre"),l.Ib(21,"code",6),l.lc(22,"\nconst options = new DocumentBuilder().addSecurity('basic', {\n  type: 'http',\n  scheme: 'basic',\n});"),l.Hb(),l.Hb(),l.Ib(23,"p"),l.lc(24,"Some of the most popular authentication techniques are built-in (e.g., "),l.Ib(25,"code"),l.lc(26,"basic"),l.Hb(),l.lc(27," and "),l.Ib(28,"code"),l.lc(29,"bearer"),l.Hb(),l.lc(30,") and therefore you don't have to define security mechanisms manually as shown above."),l.Hb(),l.Ib(31,"h4",7),l.Ib(32,"span"),l.lc(33,"Basic authentication"),l.Hb(),l.Hb(),l.Ib(34,"p"),l.lc(35,"To enable basic authentication, use "),l.Ib(36,"code"),l.lc(37,"@ApiBasicAuth()"),l.Hb(),l.lc(38,"."),l.Hb(),l.Ib(39,"pre"),l.Ib(40,"code",6),l.lc(41,"\n@ApiBasicAuth()\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(42,"p"),l.lc(43,"Before you run your application, remember to add the security definition to your base document using "),l.Ib(44,"code"),l.lc(45,"DocumentBuilder"),l.Hb(),l.lc(46,":"),l.Hb(),l.Ib(47,"pre"),l.Ib(48,"code",6),l.lc(49,"\nconst options = new DocumentBuilder().addBasicAuth();"),l.Hb(),l.Hb(),l.Ib(50,"h4",8),l.Ib(51,"span"),l.lc(52,"Bearer authentication"),l.Hb(),l.Hb(),l.Ib(53,"p"),l.lc(54,"To enable bearer authentication, use "),l.Ib(55,"code"),l.lc(56,"@ApiBearerAuth()"),l.Hb(),l.lc(57,"."),l.Hb(),l.Ib(58,"pre"),l.Ib(59,"code",6),l.lc(60,"\n@ApiBearerAuth()\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(61,"p"),l.lc(62,"Before you run your application, remember to add the security definition to your base document using "),l.Ib(63,"code"),l.lc(64,"DocumentBuilder"),l.Hb(),l.lc(65,":"),l.Hb(),l.Ib(66,"pre"),l.Ib(67,"code",6),l.lc(68,"\nconst options = new DocumentBuilder().addBearerAuth();"),l.Hb(),l.Hb(),l.Ib(69,"h4",9),l.Ib(70,"span"),l.lc(71,"OAuth2 authentication"),l.Hb(),l.Hb(),l.Ib(72,"p"),l.lc(73,"To enable OAuth2, use "),l.Ib(74,"code"),l.lc(75,"@ApiOAuth2()"),l.Hb(),l.lc(76,"."),l.Hb(),l.Ib(77,"pre"),l.Ib(78,"code",6),l.lc(79,"\n@ApiOAuth2(['pets:write'])\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(80,"p"),l.lc(81,"Before you run your application, remember to add the security definition to your base document using "),l.Ib(82,"code"),l.lc(83,"DocumentBuilder"),l.Hb(),l.lc(84,":"),l.Hb(),l.Ib(85,"pre"),l.Ib(86,"code",6),l.lc(87,"\nconst options = new DocumentBuilder().addOAuth2();"),l.Hb(),l.Hb(),l.Ib(88,"h4",10),l.Ib(89,"span"),l.lc(90,"Cookie authentication"),l.Hb(),l.Hb(),l.Ib(91,"p"),l.lc(92,"To enable cookie authentication, use "),l.Ib(93,"code"),l.lc(94,"@ApiCookieAuth()"),l.Hb(),l.lc(95,"."),l.Hb(),l.Ib(96,"pre"),l.Ib(97,"code",6),l.lc(98,"\n@ApiCookieAuth()\n@Controller('cats')\nexport class CatsController {}"),l.Hb(),l.Hb(),l.Ib(99,"p"),l.lc(100,"Before you run your application, remember to add the security definition to your base document using "),l.Ib(101,"code"),l.lc(102,"DocumentBuilder"),l.Hb(),l.lc(103,":"),l.Hb(),l.Ib(104,"pre"),l.Ib(105,"code",6),l.lc(106,"\nconst options = new DocumentBuilder().addCookieAuth('optional-session-id');"),l.Hb(),l.Hb(),l.Hb())},encapsulation:2,changeDetection:0}),e})();const P=l.Kb(v);var T=o("CquY");let x=(()=>{class e extends b.a{}return e.\u0275fac=function(t){return S(t||e)},e.\u0275cmp=l.zb({type:e,selectors:[["app-openapi-types-parameters"]],features:[l.tb],decls:377,vars:1,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/openapi/types-and-parameters.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","types-and-parameters"],[1,"language-typescript"],[1,"info"],["src","/assets/swagger-dto.png"],["routerLink","/openapi/cli-plugin"],["src","/assets/swagger-dto2.png"],["rel","nofollow","target","_blank","href","https://swagger.io/specification/#schemaObject"],["appAnchor","","id","arrays"],["appAnchor","","id","circular-dependencies"],["appAnchor","","id","generics-and-interfaces"],["appAnchor","","id","enums"],["src","/assets/enum_query.gif"],["src","/assets/enum_query_array.gif"],["appAnchor","","id","enums-schema"],["rel","nofollow","target","_blank","href","https://swagger.io/docs/specification/data-models/enums/"],[1,"language-yaml"],["rel","nofollow","target","_blank","href","https://github.com/RicoSuter/NSwag"],["appAnchor","","id","raw-definitions"],["appAnchor","","id","extra-models"],["appAnchor","","id","oneof-anyof-allof"],["rel","nofollow","target","_blank","href","https://swagger.io/docs/specification/data-models/oneof-anyof-allof-not/"]],template:function(e,t){1&e&&(l.Ib(0,"div",0,1),l.Ib(2,"div",2),l.Ib(3,"a",3),l.Gb(4,"i",4),l.Hb(),l.Hb(),l.Ib(5,"h3",5),l.lc(6,"Types and parameters"),l.Hb(),l.Ib(7,"p"),l.lc(8,"The "),l.Ib(9,"code"),l.lc(10,"SwaggerModule"),l.Hb(),l.lc(11," searches for all "),l.Ib(12,"code"),l.lc(13,"@Body()"),l.Hb(),l.lc(14,", "),l.Ib(15,"code"),l.lc(16,"@Query()"),l.Hb(),l.lc(17,", and "),l.Ib(18,"code"),l.lc(19,"@Param()"),l.Hb(),l.lc(20," decorators in route handlers to generate the API document. It also creates corresponding model definitions by taking advantage of reflection. Consider the following code:"),l.Hb(),l.Ib(21,"pre"),l.Ib(22,"code",6),l.lc(23,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),l.Hb(),l.Hb(),l.Ib(24,"blockquote",7),l.Ib(25,"strong"),l.lc(26,"Hint"),l.Hb(),l.lc(27," To explicitly set the body definition use the "),l.Ib(28,"code"),l.lc(29,"@ApiBody()"),l.Hb(),l.lc(30," decorator (imported from the "),l.Ib(31,"code"),l.lc(32,"@nestjs/swagger"),l.Hb(),l.lc(33," package).\n"),l.Hb(),l.Ib(34,"p"),l.lc(35,"Based on the "),l.Ib(36,"code"),l.lc(37,"CreateCatDto"),l.Hb(),l.lc(38,", the following model definition Swagger UI will be created:"),l.Hb(),l.Ib(39,"figure"),l.Gb(40,"img",8),l.Hb(),l.Ib(41,"p"),l.lc(42,"As you can see, the definition is empty although the class has a few declared properties. In order to make the class properties visible to the "),l.Ib(43,"code"),l.lc(44,"SwaggerModule"),l.Hb(),l.lc(45,", we have to either annotate them with the "),l.Ib(46,"code"),l.lc(47,"@ApiProperty()"),l.Hb(),l.lc(48," decorator or use the CLI plugin (read more in the "),l.Ib(49,"strong"),l.lc(50,"Plugin"),l.Hb(),l.lc(51," section) which will do it automatically:"),l.Hb(),l.Ib(52,"pre"),l.Ib(53,"code",6),l.lc(54,"\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateCatDto {\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n}"),l.Hb(),l.Hb(),l.Ib(55,"blockquote",7),l.Ib(56,"strong"),l.lc(57,"Hint"),l.Hb(),l.lc(58," Instead of manually annotating each property, consider using the Swagger plugin (see "),l.Ib(59,"a",9),l.lc(60,"Plugin"),l.Hb(),l.lc(61," section) which will automatically provide this for you.\n"),l.Hb(),l.Ib(62,"p"),l.lc(63,"Let's open the browser and verify the generated "),l.Ib(64,"code"),l.lc(65,"CreateCatDto"),l.Hb(),l.lc(66," model:"),l.Hb(),l.Ib(67,"figure"),l.Gb(68,"img",10),l.Hb(),l.Ib(69,"p"),l.lc(70,"In addition, the "),l.Ib(71,"code"),l.lc(72,"@ApiProperty()"),l.Hb(),l.lc(73," decorator allows setting various "),l.Ib(74,"a",11),l.lc(75,"Schema Object"),l.Hb(),l.lc(76," properties:"),l.Hb(),l.Ib(77,"pre"),l.Ib(78,"code",6),l.lc(79,"\n@ApiProperty({\n  description: 'The age of a cat',\n  minimum: 1,\n  default: 1,\n})\nage: number;"),l.Hb(),l.Hb(),l.Ib(80,"blockquote",7),l.Ib(81,"strong"),l.lc(82,"Hint"),l.Hb(),l.lc(83," Instead of explicitly typing the "),l.Ib(84,"code"),l.lc(85),l.Hb(),l.lc(86," you can use the "),l.Ib(87,"code"),l.lc(88,"@ApiPropertyOptional()"),l.Hb(),l.lc(89," short-hand decorator.\n"),l.Hb(),l.Ib(90,"p"),l.lc(91,"In order to explicitly set the type of the property, use the "),l.Ib(92,"code"),l.lc(93,"type"),l.Hb(),l.lc(94," key:"),l.Hb(),l.Ib(95,"pre"),l.Ib(96,"code",6),l.lc(97,"\n@ApiProperty({\n  type: Number,\n})\nage: number;"),l.Hb(),l.Hb(),l.Ib(98,"h4",12),l.Ib(99,"span"),l.lc(100,"Arrays"),l.Hb(),l.Hb(),l.Ib(101,"p"),l.lc(102,"When the property is an array, we must manually indicate the array type as shown below:"),l.Hb(),l.Ib(103,"pre"),l.Ib(104,"code",6),l.lc(105,"\n@ApiProperty({ type: [String] })\nnames: string[];"),l.Hb(),l.Hb(),l.Ib(106,"blockquote",7),l.Ib(107,"strong"),l.lc(108,"Hint"),l.Hb(),l.lc(109," Consider using the Swagger plugin (see "),l.Ib(110,"a",9),l.lc(111,"Plugin"),l.Hb(),l.lc(112," section) which will automatically detect arrays.\n"),l.Hb(),l.Ib(113,"p"),l.lc(114,"Either include the type as the first element of an array (as shown above) or set the "),l.Ib(115,"code"),l.lc(116,"isArray"),l.Hb(),l.lc(117," property to "),l.Ib(118,"code"),l.lc(119,"true"),l.Hb(),l.lc(120,"."),l.Hb(),l.Ib(121,"p"),l.Gb(122,"app-banner-enterprise"),l.Hb(),l.Ib(123,"h4",13),l.Ib(124,"span"),l.lc(125,"Circular dependencies"),l.Hb(),l.Hb(),l.Ib(126,"p"),l.lc(127,"When you have circular dependencies between classes, use a lazy function to provide the "),l.Ib(128,"code"),l.lc(129,"SwaggerModule"),l.Hb(),l.lc(130," with type information:"),l.Hb(),l.Ib(131,"pre"),l.Ib(132,"code",6),l.lc(133,"\n@ApiProperty({ type: () => Node })\nnode: Node;"),l.Hb(),l.Hb(),l.Ib(134,"blockquote",7),l.Ib(135,"strong"),l.lc(136,"Hint"),l.Hb(),l.lc(137," Consider using the Swagger plugin (see "),l.Ib(138,"a",9),l.lc(139,"Plugin"),l.Hb(),l.lc(140," section) which will automatically detect circular dependencies.\n"),l.Hb(),l.Ib(141,"h4",14),l.Ib(142,"span"),l.lc(143,"Generics and interfaces"),l.Hb(),l.Hb(),l.Ib(144,"p"),l.lc(145,"Since TypeScript does not store metadata about generics or interfaces, when you use them in your DTOs, "),l.Ib(146,"code"),l.lc(147,"SwaggerModule"),l.Hb(),l.lc(148," may not be able to properly generate model definitions at runtime. For instance, the following code won't be correctly inspected by the Swagger module:"),l.Hb(),l.Ib(149,"pre"),l.Ib(150,"code",6),l.lc(151,"\ncreateBulk(@Body() usersDto: CreateUserDto[])"),l.Hb(),l.Hb(),l.Ib(152,"p"),l.lc(153,"In order to overcome this limitation, you can set the type explicitly:"),l.Hb(),l.Ib(154,"pre"),l.Ib(155,"code",6),l.lc(156,"\n@ApiBody({ type: [CreateUserDto] })\ncreateBulk(@Body() usersDto: CreateUserDto[])"),l.Hb(),l.Hb(),l.Ib(157,"h4",15),l.Ib(158,"span"),l.lc(159,"Enums"),l.Hb(),l.Hb(),l.Ib(160,"p"),l.lc(161,"To identify an "),l.Ib(162,"code"),l.lc(163,"enum"),l.Hb(),l.lc(164,", we must manually set the "),l.Ib(165,"code"),l.lc(166,"enum"),l.Hb(),l.lc(167," property on the "),l.Ib(168,"code"),l.lc(169,"@ApiProperty"),l.Hb(),l.lc(170," with an array of values."),l.Hb(),l.Ib(171,"pre"),l.Ib(172,"code",6),l.lc(173,"\n@ApiProperty({ enum: ['Admin', 'Moderator', 'User']})\nrole: UserRole;"),l.Hb(),l.Hb(),l.Ib(174,"p"),l.lc(175,"Alternatively, define an actual TypeScript enum as follows:"),l.Hb(),l.Ib(176,"pre"),l.Ib(177,"code",6),l.lc(178,"\nexport enum UserRole {\n  Admin = 'Admin',\n  Moderator = 'Moderator',\n  User = 'User',\n}"),l.Hb(),l.Hb(),l.Ib(179,"p"),l.lc(180,"You can then use the enum directly with the "),l.Ib(181,"code"),l.lc(182,"@Query()"),l.Hb(),l.lc(183," parameter decorator in combination with the "),l.Ib(184,"code"),l.lc(185,"@ApiQuery()"),l.Hb(),l.lc(186," decorator."),l.Hb(),l.Ib(187,"pre"),l.Ib(188,"code",6),l.lc(189,"\n@ApiQuery({ name: 'role', enum: UserRole })\nasync filterByRole(@Query('role') role: UserRole = UserRole.User) {}"),l.Hb(),l.Hb(),l.Ib(190,"figure"),l.Gb(191,"img",16),l.Hb(),l.Ib(192,"p"),l.lc(193,"With "),l.Ib(194,"code"),l.lc(195,"isArray"),l.Hb(),l.lc(196," set to "),l.Ib(197,"strong"),l.lc(198,"true"),l.Hb(),l.lc(199,", the "),l.Ib(200,"code"),l.lc(201,"enum"),l.Hb(),l.lc(202," can be selected as a "),l.Ib(203,"strong"),l.lc(204,"multi-select"),l.Hb(),l.lc(205,":"),l.Hb(),l.Ib(206,"figure"),l.Gb(207,"img",17),l.Hb(),l.Ib(208,"h4",18),l.Ib(209,"span"),l.lc(210,"Enums schema"),l.Hb(),l.Hb(),l.Ib(211,"p"),l.lc(212,"By default, the "),l.Ib(213,"code"),l.lc(214,"enum"),l.Hb(),l.lc(215," property will add a raw definition of "),l.Ib(216,"a",19),l.lc(217,"Enum"),l.Hb(),l.lc(218," on the "),l.Ib(219,"code"),l.lc(220,"parameter"),l.Hb(),l.lc(221,"."),l.Hb(),l.Ib(222,"pre"),l.Ib(223,"code",20),l.lc(224,"\n- breed:\n    type: 'string'\n    enum:\n      - Persian\n      - Tabby\n      - Siamese"),l.Hb(),l.Hb(),l.Ib(225,"p"),l.lc(226,"The above specification works fine for most cases. However, if you are utilizing a tool that takes the specification as "),l.Ib(227,"strong"),l.lc(228,"input"),l.Hb(),l.lc(229," and generates "),l.Ib(230,"strong"),l.lc(231,"client-side"),l.Hb(),l.lc(232," code, you might run into a problem with the generated code containing duplicated "),l.Ib(233,"code"),l.lc(234,"enums"),l.Hb(),l.lc(235,". Consider the following code snippet:"),l.Hb(),l.Ib(236,"pre"),l.Ib(237,"code",6),l.lc(238,"\n// generated client-side code\nexport class CatDetail {\n  breed: CatDetailEnum;\n}\n\nexport class CatInformation {\n  breed: CatInformationEnum;\n}\n\nexport enum CatDetailEnum {\n  Persian = 'Persian',\n  Tabby = 'Tabby',\n  Siamese = 'Siamese',\n}\n\nexport enum CatInformationEnum {\n  Persian = 'Persian',\n  Tabby = 'Tabby',\n  Siamese = 'Siamese',\n}"),l.Hb(),l.Hb(),l.Ib(239,"blockquote",7),l.Ib(240,"strong"),l.lc(241,"Hint"),l.Hb(),l.lc(242," The above snippet is generated using a tool called "),l.Ib(243,"a",21),l.lc(244,"NSwag"),l.Hb(),l.lc(245,".\n"),l.Hb(),l.Ib(246,"p"),l.lc(247,"You can see that now you have two "),l.Ib(248,"code"),l.lc(249,"enums"),l.Hb(),l.lc(250," that are exactly the same.\nTo address this issue, you can pass an "),l.Ib(251,"code"),l.lc(252,"enumName"),l.Hb(),l.lc(253," along with the "),l.Ib(254,"code"),l.lc(255,"enum"),l.Hb(),l.lc(256," property in your decorator."),l.Hb(),l.Ib(257,"pre"),l.Ib(258,"code",6),l.lc(259,"\nexport class CatDetail {\n  @ApiProperty({ enum: CatBreed, enumName: 'CatBreed' })\n  breed: CatBreed;\n}"),l.Hb(),l.Hb(),l.Ib(260,"p"),l.lc(261,"The "),l.Ib(262,"code"),l.lc(263,"enumName"),l.Hb(),l.lc(264," property enables "),l.Ib(265,"code"),l.lc(266,"@nestjs/swagger"),l.Hb(),l.lc(267," to turn "),l.Ib(268,"code"),l.lc(269,"CatBreed"),l.Hb(),l.lc(270," into its own "),l.Ib(271,"code"),l.lc(272,"schema"),l.Hb(),l.lc(273," which in turns makes "),l.Ib(274,"code"),l.lc(275,"CatBreed"),l.Hb(),l.lc(276," enum reusable. The specification will look like the following:"),l.Hb(),l.Ib(277,"pre"),l.Ib(278,"code",20),l.lc(279,"\nCatDetail:\n  type: 'object'\n  properties:\n    ...\n    - breed:\n        schema:\n          $ref: '#/components/schemas/CatBreed'\nCatBreed:\n  type: string\n  enum:\n    - Persian\n    - Tabby\n    - Siamese"),l.Hb(),l.Hb(),l.Ib(280,"blockquote",7),l.Ib(281,"strong"),l.lc(282,"Hint"),l.Hb(),l.lc(283," Any "),l.Ib(284,"strong"),l.lc(285,"decorator"),l.Hb(),l.lc(286," that takes "),l.Ib(287,"code"),l.lc(288,"enum"),l.Hb(),l.lc(289," as a property will also take "),l.Ib(290,"code"),l.lc(291,"enumName"),l.Hb(),l.lc(292,".\n"),l.Hb(),l.Ib(293,"h4",22),l.Ib(294,"span"),l.lc(295,"Raw definitions"),l.Hb(),l.Hb(),l.Ib(296,"p"),l.lc(297,"In some specific scenarios (e.g., deeply nested arrays, matrices), you may want to describe your type by hand."),l.Hb(),l.Ib(298,"pre"),l.Ib(299,"code",6),l.lc(300,"\n@ApiProperty({\n  type: 'array',\n  items: {\n    type: 'array',\n    items: {\n      type: 'number',\n    },\n  },\n})\ncoords: number[][];"),l.Hb(),l.Hb(),l.Ib(301,"p"),l.lc(302,"Likewise, in order to define your input/output content manually in controller classes, use the "),l.Ib(303,"code"),l.lc(304,"schema"),l.Hb(),l.lc(305," property:"),l.Hb(),l.Ib(306,"pre"),l.Ib(307,"code",6),l.lc(308,"\n@ApiBody({\n  schema: {\n    type: 'array',\n    items: {\n      type: 'array',\n      items: {\n        type: 'number',\n      },\n    },\n  },\n})\nasync create(@Body() coords: number[][]) {}"),l.Hb(),l.Hb(),l.Ib(309,"h4",23),l.Ib(310,"span"),l.lc(311,"Extra models"),l.Hb(),l.Hb(),l.Ib(312,"p"),l.lc(313,"To define additional models that should be inspected by the Swagger module, use the "),l.Ib(314,"code"),l.lc(315,"@ApiExtraModels()"),l.Hb(),l.lc(316," decorator:"),l.Hb(),l.Ib(317,"pre"),l.Ib(318,"code",6),l.lc(319,"\n@ApiExtraModels(ExtraModel)\nexport class CreateCatDto {}"),l.Hb(),l.Hb(),l.Ib(320,"p"),l.lc(321,"Then, you can get the reference ("),l.Ib(322,"code"),l.lc(323,"$ref"),l.Hb(),l.lc(324,") to your model using "),l.Ib(325,"code"),l.lc(326,"getSchemaPath(ExtraModel)"),l.Hb(),l.lc(327,":"),l.Hb(),l.Ib(328,"pre"),l.Ib(329,"code",6),l.lc(330,"\n'application/vnd.api+json': {\n   schema: { $ref: getSchemaPath(ExtraModel) },\n},"),l.Hb(),l.Hb(),l.Ib(331,"h4",24),l.Ib(332,"span"),l.lc(333,"oneOf, anyOf, allOf"),l.Hb(),l.Hb(),l.Ib(334,"p"),l.lc(335,"To combine schemas, you can use the "),l.Ib(336,"code"),l.lc(337,"oneOf"),l.Hb(),l.lc(338,", "),l.Ib(339,"code"),l.lc(340,"anyOf"),l.Hb(),l.lc(341," or "),l.Ib(342,"code"),l.lc(343,"allOf"),l.Hb(),l.lc(344," keywords ("),l.Ib(345,"a",25),l.lc(346,"read more"),l.Hb(),l.lc(347,")."),l.Hb(),l.Ib(348,"pre"),l.Ib(349,"code",6),l.lc(350,"\n@ApiProperty({\n  oneOf: [\n    { $ref: getSchemaPath(Cat) },\n    { $ref: getSchemaPath(Dog) },\n  ],\n})\npet: Cat | Dog;"),l.Hb(),l.Hb(),l.Ib(351,"p"),l.lc(352,"If you want to define a polymorphic array (i.e., an array whose members span multiple schemas), you should use a raw definition (see above) to define your type by hand."),l.Hb(),l.Ib(353,"pre"),l.Ib(354,"code",6),l.lc(355,"\ntype Pet = Cat | Dog;\n\n@ApiProperty({\n  type: 'array',\n  items: {\n    oneOf: [\n      { $ref: getSchemaPath(Cat) },\n      { $ref: getSchemaPath(Dog) },\n    ],\n  },\n})\npets: Pet[];"),l.Hb(),l.Hb(),l.Ib(356,"blockquote",7),l.Ib(357,"strong"),l.lc(358,"Hint"),l.Hb(),l.lc(359," The "),l.Ib(360,"code"),l.lc(361,"getSchemaPath()"),l.Hb(),l.lc(362," function is imported from "),l.Ib(363,"code"),l.lc(364,"@nestjs/swagger"),l.Hb(),l.lc(365,".\n"),l.Hb(),l.Ib(366,"p"),l.lc(367,"Both "),l.Ib(368,"code"),l.lc(369,"Cat"),l.Hb(),l.lc(370," and "),l.Ib(371,"code"),l.lc(372,"Dog"),l.Hb(),l.lc(373," must be defined as extra models using the "),l.Ib(374,"code"),l.lc(375,"@ApiExtraModels()"),l.Hb(),l.lc(376," decorator (at the class-level)."),l.Hb(),l.Hb()),2&e&&(l.vb(85),l.mc("@ApiProperty({ required: false })"))},directives:[c.f,r.a,T.a],encapsulation:2,changeDetection:0}),e})();const S=l.Kb(x),D=[{path:"introduction",component:I,data:{title:"OpenAPI (Swagger)"}},{path:"types-and-parameters",component:x,data:{title:"Types and Parameters - OpenAPI"}},{path:"operations",component:f,data:{title:"Operations - OpenAPI"}},{path:"security",component:v,data:{title:"Security - OpenAPI"}},{path:"decorators",component:p,data:{title:"Decorators - OpenAPI"}},{path:"mapped-types",component:H,data:{title:"Mapped Types - OpenAPI"}},{path:"cli-plugin",component:i,data:{title:"CLI Plugin - OpenAPI"}},{path:"other-features",component:A,data:{title:"Other features - OpenAPI"}},{path:"migration-guide",component:m,data:{title:"Migration guide - OpenAPI"}}];let k=(()=>{class e{}return e.\u0275mod=l.Db({type:e}),e.\u0275inj=l.Cb({factory:function(t){return new(t||e)},imports:[[n.b,a.a,c.g.forChild(D)]]}),e})()}}]);