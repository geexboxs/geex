!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return(o=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/uUt":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){b(this,e),this.compare=t,this.keySelector=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return m(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(r.a)},0:function(e,t,n){e.exports=n("zUnb")},"0EUg":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zx2A");function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){b(this,e),this.notifier=t}return m(e,[{key:"call",value:function(e,t){var n=new a(e),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).seenValue=!1,r}return m(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(r.b)},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp"),o=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this))._value=e,r}return m(n,[{key:"_subscribe",value:function(e){var t=a(p(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(e){a(p(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(r.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return m(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){s(n,e);var t=l(n);function n(e,r){return b(this,n),t.call(this)}return m(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a))},"3UWI":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D0XW"),i=n("tnsW"),o=n("PqYM");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return Object(i.a)((function(){return Object(o.a)(e,t)}))}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"5+tZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return h}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(o){return o.pipe(a((function(n,o){return Object(i.a)(e(n,o)).pipe(Object(r.a)((function(e,r){return t(n,e,o,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;b(this,e),this.project=t,this.concurrent=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}]),e}(),u=function(e){s(n,e);var t=l(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return b(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return m(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new o.a(this),n=this.destination;n.add(t);var r=Object(o.c)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b),h=a},"7HRe":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("HDdC"),i=n("quSY"),o=n("kJWO"),a=n("jZKg"),s=n("Lhse"),c=n("c2HN"),l=n("I55L");function u(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),c=n("2QA8"),u=n("2fFW"),d=n("NJ4a"),f=function(e){s(n,e);var t=l(n);function n(e,r,o){var a;switch(b(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(h(a))):(a.syncErrorThrowable=!0,a.destination=new v(h(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new v(h(a),e,r,o)}return a}return m(n,[{key:c.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,a(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),v=function(e){s(n,e);var t=l(n);function n(e,o,a,s){var c,l;b(this,n),(c=t.call(this))._parentSubscriber=e;var u=h(c);return Object(r.a)(o)?l=o:o&&(l=o.next,a=o.error,s=o.complete,o!==i.a&&(u=Object.create(o),Object(r.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(h(c)))),c._context=u,c._next=l,c._error=a,c._complete=s,c}return m(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(d.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(d.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(d.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(d.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(f)},"8Qeq":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},BFxc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new c(e))}}var c=function(){function e(t){if(b(this,e),this.total=t,this.total<0)throw new i.a}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.total))}}]),e}(),u=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return m(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(r.a)},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("SeVD"),o=n("7HRe");function a(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},CqXF:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){b(this,e),this.value=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.value))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).value=r,i}return m(n,[{key:"_next",value:function(e){this.destination.next(this.value)}}]),n}(r.a)},CquY:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.zb({type:e,selectors:[["app-banner-enterprise"]],decls:25,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A progressive Node.js framework",1,"btn-more"]],template:function(e,t){1&e&&(r.Ib(0,"div",0),r.Ib(1,"h2"),r.lc(2,"Official "),r.Ib(3,"span"),r.lc(4,"enterprise"),r.Hb(),r.lc(5," support"),r.Hb(),r.Ib(6,"ul"),r.Ib(7,"li"),r.Ib(8,"span"),r.Gb(9,"i",1),r.Hb(),r.lc(10," Providing technical guidance "),r.Hb(),r.Ib(11,"li"),r.Ib(12,"span"),r.Gb(13,"i",1),r.Hb(),r.lc(14," Performing in-depth code reviews "),r.Hb(),r.Ib(15,"li"),r.Ib(16,"span"),r.Gb(17,"i",1),r.Hb(),r.lc(18," Mentoring team members "),r.Hb(),r.Ib(19,"li"),r.Ib(20,"span"),r.Gb(21,"i",1),r.Hb(),r.lc(22," Advising best practices "),r.Hb(),r.Hb(),r.Ib(23,"a",2),r.lc(24,"Explore more"),r.Hb(),r.Hb())},styles:[".banner[_ngcontent-%COMP%] {\n        background-color: #111;\n        background-image: url('/assets/banners/enterprise.jpg');\n      }\n      .banner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\n        max-width: 820px;\n      }"],changeDetection:0}),e}()},D0XW:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EQ5u:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r,i=n("XNiG"),o=n("HDdC"),c=(n("7o/Q"),n("quSY")),u=n("x+ZX"),h=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return m(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new c.a).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed&&(this._connection=null,e=c.a.EMPTY)),e}},{key:"refCount",value:function(){return Object(u.a)()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=h.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},f=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).connectable=r,i}return m(n,[{key:"_error",value:function(e){this._unsubscribe(),a(p(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),a(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(i.b)},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},FKbk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){var e=function e(){b(this,e),this.isJsActive=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.zb({type:e,selectors:[["app-tabs"]],decls:5,vars:4,consts:[[1,"tabs-wrapper"],[1,"tab",3,"click"],[1,"tab","active",3,"click"]],template:function(e,t){1&e&&(r.Ib(0,"div",0),r.Ib(1,"span",1),r.Pb("click",(function(){return t.isJsActive=!0})),r.lc(2," JS "),r.Hb(),r.Ib(3,"span",2),r.Pb("click",(function(){return t.isJsActive=!1})),r.lc(4," TS "),r.Hb(),r.Hb()),2&e&&(r.vb(1),r.xb("active",t.isJsActive),r.vb(2),r.xb("active",!t.isJsActive))},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.tabs-wrapper[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}.tab[_ngcontent-%COMP%]{color:#dfdfdf;cursor:pointer;margin:0;float:right;font-weight:600;height:100%;padding:12px 20px;box-sizing:border-box;-webkit-box-sizing:border-box}.tab[_ngcontent-%COMP%]:hover:not(.active){color:#efefef}.tab.active[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),e}()},Gi4w:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t,n))}}var o=function(){function e(t,n,r){b(this,e),this.predicate=t,this.thisArg=n,this.source=r}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||h(a),a}return m(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(r.a)},GyhO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(){return Object(i.a)()(Object(r.a).apply(void 0,arguments))}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i=n("8Qeq"),o=n("7o/Q"),a=n("2QA8"),s=n("gRHU"),c=n("kJWO"),l=n("mCNh"),u=n("2fFW"),h=((r=function(){function e(t){b(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return m(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[a.a])return e[a.a]()}return e||t||n?new o.a(e,t,n):new o.a(s.a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(i.a)(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=d(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:c.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(l.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function d(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Y/cZ"),i=function(e){s(n,e);var t=l(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a.now;return b(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==h(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return m(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):a(p(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r.a)},IzEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new c(e))}}var c=function(){function e(t){if(b(this,e),this.total=t,this.total<0)throw new i.a}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.total))}}]),e}(),u=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return m(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zx2A");function i(e){return function(t){var n=new o(e),r=t.lift(n);return n.caught=r}}var o=function(){function e(t){b(this,e),this.selector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.selector,this.caught))}}]),e}(),c=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return m(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void a(p(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var i=new r.a(this);this.add(i);var o=Object(r.c)(t,i);o!==i&&this.add(o)}}}]),n}(r.b)},JX91:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("GyhO"),i=n("z+Ro");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(i.a)(o)?(t.pop(),function(e){return Object(r.a)(t,e,o)}):function(e){return Object(r.a)(t,e)}}},Kdsb:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return he})),n.d(t,"c",(function(){return de}));var r=n("XNiG"),i=n("xgIS"),o=(n("VRyK"),n("3UWI")),a=n("1G5W"),s=(n("/uUt"),n("CqXF"),n("fXoL")),c=n("ofXK");function l(e){return getComputedStyle(e)}function u(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function h(e){var t=document.createElement("div");return t.className=e,t}var d="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function p(e,t){if(!d)throw new Error("No element matching method supported");return d.call(e,t)}function f(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function v(e,t){return Array.prototype.filter.call(e.children,(function(e){return p(e,t)}))}var g=function(e){return"ps__thumb-"+e},y=function(e){return"ps__rail-"+e},w=function(e){return"ps--active-"+e},I=function(e){return"ps--scrolling-"+e},H={x:null,y:null};function k(e,t){var n=e.element.classList,r=I(t);n.contains(r)?clearTimeout(H[t]):n.add(r)}function _(e,t){H[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(I(t))}),e.settings.scrollingThreshold)}var x=function(e){this.element=e,this.handlers={}},C={isEmpty:{configurable:!0}};x.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},x.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},x.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},C.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(x.prototype,C);var S=function(){this.eventElements=[]};function O(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function T(e,t,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,i){var o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=e.element;e.reach[c]=null,h[s]<1&&(e.reach[c]="start"),h[s]>e[o]-e[a]-1&&(e.reach[c]="end"),t&&(h.dispatchEvent(O("ps-scroll-"+c)),t<0?h.dispatchEvent(O("ps-scroll-"+l)):t>0&&h.dispatchEvent(O("ps-scroll-"+u)),r&&function(e,t){k(e,t),_(e,t)}(e,c)),e.reach[c]&&(t||i)&&h.dispatchEvent(O("ps-"+c+"-reach-"+e.reach[c]))}(e,n,o,r,i)}function E(e){return parseInt(e,10)||0}S.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new x(e),this.eventElements.push(t)),t},S.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},S.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},S.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},S.prototype.once=function(e,t,n){var r=this.eventElement(e);r.bind(t,(function e(i){r.unbind(t,e),n(i)}))};var A={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function P(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.ceil(r.width),e.containerHeight=Math.ceil(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(v(t,y("x")).forEach((function(e){return f(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(v(t,y("y")).forEach((function(e){return f(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=j(e,E(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=E((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=j(e,E(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=E(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);n.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r,u(t.scrollbarXRail,n);var i={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?i.right=t.isRtl?t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:t.scrollbarYRight-e.scrollLeft:i.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:t.scrollbarYLeft+e.scrollLeft,u(t.scrollbarYRail,i),u(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),u(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(w("x")):(t.classList.remove(w("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(w("y")):(t.classList.remove(w("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function j(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function M(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],l=t[7],u=t[8],h=e.element,d=null,p=null,b=null;function f(t){t.touches&&t.touches[0]&&(t[i]=t.touches[0].pageY),h[c]=d+b*(t[i]-p),k(e,l),P(e),t.stopPropagation(),t.preventDefault()}function m(){_(e,l),e[u].classList.remove("ps--clicking"),e.event.unbind(e.ownerDocument,"mousemove",f)}function v(t,a){d=h[c],a&&t.touches&&(t[i]=t.touches[0].pageY),p=t[i],b=(e[r]-e[n])/(e[o]-e[s]),a?e.event.bind(e.ownerDocument,"touchmove",f):(e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",m),t.preventDefault()),e[u].classList.add("ps--clicking"),t.stopPropagation()}e.event.bind(e[a],"mousedown",(function(e){v(e)})),e.event.bind(e[a],"touchstart",(function(e){v(e,!0)}))}var R={"click-rail":function(e){e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top;e.element.scrollTop+=(n>e.scrollbarYTop?1:-1)*e.containerHeight,P(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left;e.element.scrollLeft+=(n>e.scrollbarXLeft?1:-1)*e.containerWidth,P(e),t.stopPropagation()}))},"drag-thumb":function(e){M(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),M(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(p(t,":hover")||p(e.scrollbarX,":focus")||p(e.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(p(r=i,"input,[contenteditable]")||p(r,"select,[contenteditable]")||p(r,"textarea,[contenteditable]")||p(r,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:o=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==o||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=o,P(e),function(n,r){var i=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),i=r[0],o=r[1];if(!function(e,n,r){if(!A.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var i=e;i&&i!==t;){if(i.classList.contains("ps__child--consume"))return!0;var o=l(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&(i.scrollTop>0&&r<0||i.scrollTop<a&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<s&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var a=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?t.scrollTop-=o*e.settings.wheelSpeed:t.scrollTop+=i*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(i?t.scrollLeft+=i*e.settings.wheelSpeed:t.scrollLeft-=o*e.settings.wheelSpeed,a=!0):(t.scrollTop-=o*e.settings.wheelSpeed,t.scrollLeft+=i*e.settings.wheelSpeed),P(e),(a=a||function(n,r){var i=Math.floor(t.scrollTop),o=0===t.scrollTop,a=i+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,c=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||c)||!e.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(A.supportsTouch||A.supportsIePointer){var t=e.element,n={},r=0,i={},o=null;A.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",h),e.event.bind(t,"touchend",d)):A.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",h),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",h),e.event.bind(t,"MSPointerUp",d)))}function a(n,r){t.scrollTop-=r,t.scrollLeft-=n,P(e)}function s(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(c(e)){var t=s(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function h(o){if(c(o)){var u=s(o),h={pageX:u.pageX,pageY:u.pageY},d=h.pageX-n.pageX,p=h.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var i=e;i&&i!==t;){if(i.classList.contains("ps__child--consume"))return!0;var o=l(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&(i.scrollTop>0&&r<0||i.scrollTop<a&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<s&&n>0))return!0}i=i.parentNode}return!1}(o.target,d,p))return;a(d,p),n=h;var b=(new Date).getTime(),f=b-r;f>0&&(i.x=d/f,i.y=p/f,r=b),function(n,r){var i=Math.floor(t.scrollTop),o=t.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&A.isChrome}else if(a>s&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!0;return!0}(d,p)&&o.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){e.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(a(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)}),10))}}},N=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,a=function(){return e.classList.add("ps--focus")},s=function(){return e.classList.remove("ps--focus")};this.isRtl="rtl"===l(e).direction,!0===this.isRtl&&e.classList.add("ps__rtl"),this.isNegativeScroll=(o=e.scrollLeft,e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new S,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=h(y("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=h(g("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=l(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=E(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=E(c.borderLeftWidth)+E(c.borderRightWidth),u(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=E(c.marginLeft)+E(c.marginRight),u(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=h(y("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=h(g("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=l(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=E(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=l(e);return E(t.width)+E(t.paddingLeft)+E(t.paddingRight)+E(t.borderLeftWidth)+E(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=E(d.borderTopWidth)+E(d.borderBottomWidth),u(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=E(d.marginTop)+E(d.marginBottom),u(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return R[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),P(this)};N.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,u(this.scrollbarXRail,{display:"block"}),u(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=E(l(this.scrollbarXRail).marginLeft)+E(l(this.scrollbarXRail).marginRight),this.railYMarginHeight=E(l(this.scrollbarYRail).marginTop)+E(l(this.scrollbarYRail).marginBottom),u(this.scrollbarXRail,{display:"none"}),u(this.scrollbarYRail,{display:"none"}),P(this),T(this,"top",0,!1,!0),T(this,"left",0,!1,!0),u(this.scrollbarXRail,{display:""}),u(this.scrollbarYRail,{display:""}))},N.prototype.onScroll=function(e){this.isAlive&&(P(this),T(this,"top",this.element.scrollTop-this.lastScrollTop),T(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},N.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),f(this.scrollbarX),f(this.scrollbarY),f(this.scrollbarXRail),f(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},N.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var D=N,F=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),q="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,L="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),U="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(L):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},G=["top","right","bottom","left","width","height","size","weight"],z="undefined"!=typeof MutationObserver,B=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){U(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,20);i=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){q&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){q&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;G.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),V=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},W=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||L},J=K(0,0,0,0);function Y(e){return parseFloat(e)||0}function X(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Y(e["border-"+n+"-width"])}),0)}var Q="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof W(e).SVGGraphicsElement}:function(e){return e instanceof W(e).SVGElement&&"function"==typeof e.getBBox};function K(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Z=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=K(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,q?Q(e)?function(e){var t=e.getBBox();return K(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return J;var r=W(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];t[i]=Y(e["padding-"+i])}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Y(r.width),c=Y(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=X(r,"left","right")+o),Math.round(c+a)!==n&&(c-=X(r,"top","bottom")+a)),!function(e){return e===W(e).document.documentElement}(e)){var l=Math.round(s+o)-t,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return K(i.left,i.top,s,c)}(e):J);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),$=function(e,t){var n,r,i,o,a,s,c,l=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),V(c,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),c);V(this,{target:e,contentRect:l})},ee=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new F,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof W(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Z(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof W(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new $(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),te="undefined"!=typeof WeakMap?new WeakMap:new F,ne=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=B.getInstance(),r=new ee(t,n,this);te.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ne.prototype[e]=function(){var t;return(t=te.get(this))[e].apply(t,arguments)}}));var re,ie,oe=void 0!==L.ResizeObserver?L.ResizeObserver:ne,ae=new s.q("PERFECT_SCROLLBAR_CONFIG"),se=function e(t,n,r,i){b(this,e),this.x=t,this.y=n,this.w=r,this.h=i},ce=function e(t,n){b(this,e),this.x=t,this.y=n},le=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"],ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),this.assign(t)}return m(e,[{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t]}}]),e}(),he=((ie=function(){function e(t,n,i,o,a){b(this,e),this.zone=t,this.differs=n,this.elementRef=i,this.platformId=o,this.defaults=a,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new r.a,this.disabled=!1,this.psScrollY=new s.n,this.psScrollX=new s.n,this.psScrollUp=new s.n,this.psScrollDown=new s.n,this.psScrollLeft=new s.n,this.psScrollRight=new s.n,this.psYReachEnd=new s.n,this.psYReachStart=new s.n,this.psXReachEnd=new s.n,this.psXReachStart=new s.n}return m(e,[{key:"ngOnInit",value:function(){var e=this;if(!this.disabled&&Object(c.m)(this.platformId)){var t=new ue(this.defaults);t.assign(this.config),this.zone.runOutsideAngular((function(){e.instance=new D(e.elementRef.nativeElement,t)})),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular((function(){e.ro=new oe((function(){e.update()})),e.elementRef.nativeElement.children[0]&&e.ro.observe(e.elementRef.nativeElement.children[0]),e.ro.observe(e.elementRef.nativeElement)})),this.zone.runOutsideAngular((function(){le.forEach((function(t){var n=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));Object(i.a)(e.elementRef.nativeElement,n).pipe(Object(o.a)(20),Object(a.a)(e.ngDestroy)).subscribe((function(n){e[t].emit(n)}))}))}))}}},{key:"ngOnDestroy",value:function(){var e=this;Object(c.m)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular((function(){e.instance&&e.instance.destroy()})),this.instance=null)}},{key:"ngDoCheck",value:function(){!this.disabled&&this.configDiff&&Object(c.m)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}},{key:"ngOnChanges",value:function(e){e.disabled&&!e.disabled.isFirstChange()&&Object(c.m)(this.platformId)&&e.disabled.currentValue!==e.disabled.previousValue&&(!0===e.disabled.currentValue?this.ngOnDestroy():!1===e.disabled.currentValue&&this.ngOnInit())}},{key:"ps",value:function(){return this.instance}},{key:"update",value:function(){var e=this;"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){if(!e.disabled&&e.configDiff)try{e.zone.runOutsideAngular((function(){e.instance&&e.instance.update()}))}catch(t){}}),0))}},{key:"geometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return new se(this.elementRef.nativeElement[e+"Left"],this.elementRef.nativeElement[e+"Top"],this.elementRef.nativeElement[e+"Width"],this.elementRef.nativeElement[e+"Height"])}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!e&&this.instance?new ce(this.instance.reach.x||0,this.instance.reach.y||0):new ce(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}},{key:"scrollable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any",t=this.elementRef.nativeElement;return"any"===e?t.classList.contains("ps--active-x")||t.classList.contains("ps--active-y"):"both"===e?t.classList.contains("ps--active-x")&&t.classList.contains("ps--active-y"):t.classList.contains("ps--active-"+e)}},{key:"scrollTo",value:function(e,t,n){this.disabled||(null==t&&null==n?this.animateScrolling("scrollTop",e,n):(null!=e&&this.animateScrolling("scrollLeft",e,n),null!=t&&this.animateScrolling("scrollTop",t,n)))}},{key:"scrollToX",value:function(e,t){this.animateScrolling("scrollLeft",e,t)}},{key:"scrollToY",value:function(e,t){this.animateScrolling("scrollTop",e,t)}},{key:"scrollToTop",value:function(e,t){this.animateScrolling("scrollTop",e||0,t)}},{key:"scrollToLeft",value:function(e,t){this.animateScrolling("scrollLeft",e||0,t)}},{key:"scrollToRight",value:function(e,t){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(e||0),t)}},{key:"scrollToBottom",value:function(e,t){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(e||0),t)}},{key:"scrollToElement",value:function(e,t,n){var r=this.elementRef.nativeElement.querySelector(e);if(r){var i=r.getBoundingClientRect(),o=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",i.left-o.left+this.elementRef.nativeElement.scrollLeft+(t||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",i.top-o.top+this.elementRef.nativeElement.scrollTop+(t||0),n)}}},{key:"animateScrolling",value:function(e,t,n){var r=this;if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),n&&"undefined"!=typeof window){if(t!==this.elementRef.nativeElement[e]){var i=0,o=0,a=performance.now(),s=this.elementRef.nativeElement[e],c=(s-t)/2;window.requestAnimationFrame((function l(u){o+=Math.PI/(n/(u-a)),i=Math.round(t+c+c*Math.cos(o)),r.elementRef.nativeElement[e]===s&&(o>=Math.PI?r.animateScrolling(e,t,0):(r.elementRef.nativeElement[e]=i,s=r.elementRef.nativeElement[e],a=u,r.animation=window.requestAnimationFrame(l)))}))}}else this.elementRef.nativeElement[e]=t}}]),e}()).\u0275fac=function(e){return new(e||ie)(s.Fb(s.z),s.Fb(s.t),s.Fb(s.l),s.Fb(s.B),s.Fb(ae,8))},ie.\u0275dir=s.Ab({type:ie,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[s.ub]}),ie),de=((re=function e(){b(this,e)}).\u0275mod=s.Db({type:re}),re.\u0275inj=s.Cb({factory:function(e){return new(e||re)},imports:[[c.b],c.b]}),re)},Kj3r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q"),i=n("D0XW");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){b(this,e),this.dueTime=t,this.scheduler=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))}}]),e}(),c=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return m(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(r.a);function u(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(e,t,n))}}var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return m(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(r.a)},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},NJ9Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("sVev"),i=n("pLZG"),o=n("BFxc"),a=n("XDbj"),s=n("xbPD"),c=n("SpAZ");function l(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?Object(i.a)((function(t,n){return e(t,n,l)})):c.a,Object(o.a)(1),n?Object(s.a)(t):Object(a.a)((function(){return new r.a})))}}},NXyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function a(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},PCNd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ofXK"),i=n("Kdsb"),o=n("fXoL"),a=function(){var e=function e(){b(this,e)};return e.\u0275mod=o.Db({type:e}),e.\u0275inj=o.Cb({factory:function(t){return new(t||e)},imports:[[r.b,i.c]]}),e}()},PqYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM"),a=n("z+Ro");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=i.a),new r.a((function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(c,r,{index:0,period:s,subscriber:t})}))}function c(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),l=n("XoHu"),u=function(e){if(e&&"function"==typeof e[a.a])return u=e,function(e){var t=u[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,h=Object(l.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},SxV6:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),a=n("xbPD"),s=n("XDbj"),c=n("SpAZ");function l(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?Object(i.a)((function(t,n){return e(t,n,l)})):c.a,Object(o.a)(1),n?Object(a.a)(t):Object(s.a)((function(){return new r.a})))}}},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,c=null,l=t[t.length-1];return Object(i.a)(l)?(c=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof l&&(s=t.pop()),null===c&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,c))}},XDbj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(t){return t.lift(new a(e))}}var a=function(){function e(t){b(this,e),this.errorFactory=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.errorFactory))}}]),e}(),c=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return m(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(i.a);function u(){return new r.a}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),c=n("9ppp"),u=n("Ylt2"),h=n("2QA8"),d=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),f=function(){var e=function(e){s(n,e);var t=l(n);function n(){var e;return b(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return m(n,[{key:h.a,value:function(){return new d(this)}},{key:"lift",value:function(e){var t=new v(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new c.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new c.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new c.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new c.a;return a(p(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new c.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new u.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new v(e,t)},e}(),v=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).destination=e,i.source=r,i}return m(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(f)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},"Y/cZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;b(this,e),this.SchedulerAction=t,this.now=n}return m(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}()},Y7HM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("DH7j");function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},Ydvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("wZee"),i=n("fXoL"),o=function(){var e=function(){function e(t,n){b(this,e),this.applicationRef=t,this.el=n,this.isHljsInitialized=!1}return m(e,[{key:"ngAfterViewChecked",value:function(){this.initHljs()}},{key:"initHljs",value:function(){var e=this;if(!this.isHljsInitialized&&this.el){var t=this.el.nativeElement.querySelectorAll("code");[].forEach.call(t,(function(t){t.className&&(r.highlightElement(t),e.isHljsInitialized=!0)})),setTimeout((function(){return e.applicationRef.tick()}),100)}}},{key:"nativeElement",get:function(){return this.el.nativeElement}},{key:"isMarkupReady",get:function(){return this.isHljsInitialized}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Fb(i.g),i.Fb(i.l))},e.\u0275cmp=i.zb({type:e,selectors:[["app-base-page"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}()},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return m(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return m(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.b)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5+tZ");function i(e,t){return Object(r.b)(e,t,1)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function c(e,t){return"function"==typeof t?function(n){return n.pipe(c((function(n,o){return Object(i.a)(e(n,o)).pipe(Object(r.a)((function(e,r){return t(n,e,o,r)})))})))}:function(t){return t.lift(new u(e))}}var u=function(){function e(t){b(this,e),this.project=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.project))}}]),e}(),h=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return m(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||a(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&a(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(o.b)},fXoL:function(r,i,c){"use strict";c.d(i,"a",(function(){return No})),c.d(i,"b",(function(){return cc})),c.d(i,"c",(function(){return rc})),c.d(i,"d",(function(){return tc})),c.d(i,"e",(function(){return nc})),c.d(i,"f",(function(){return Kc})),c.d(i,"g",(function(){return Uc})),c.d(i,"h",(function(){return yo})),c.d(i,"i",(function(){return yc})),c.d(i,"j",(function(){return Fa})),c.d(i,"k",(function(){return hc})),c.d(i,"l",(function(){return qa})),c.d(i,"m",(function(){return Dn})),c.d(i,"n",(function(){return Rs})),c.d(i,"o",(function(){return ie})),c.d(i,"p",(function(){return I})),c.d(i,"q",(function(){return re})),c.d(i,"r",(function(){return Ro})),c.d(i,"s",(function(){return is})),c.d(i,"t",(function(){return os})),c.d(i,"u",(function(){return uc})),c.d(i,"v",(function(){return ve})),c.d(i,"w",(function(){return zc})),c.d(i,"x",(function(){return me})),c.d(i,"y",(function(){return Nc})),c.d(i,"z",(function(){return Hc})),c.d(i,"A",(function(){return H})),c.d(i,"B",(function(){return sc})),c.d(i,"C",(function(){return ac})),c.d(i,"D",(function(){return za})),c.d(i,"E",(function(){return Ua})),c.d(i,"F",(function(){return Ga})),c.d(i,"G",(function(){return Va})),c.d(i,"H",(function(){return xr})),c.d(i,"I",(function(){return _})),c.d(i,"J",(function(){return Wc})),c.d(i,"K",(function(){return ls})),c.d(i,"L",(function(){return Ec})),c.d(i,"M",(function(){return Io})),c.d(i,"N",(function(){return Wa})),c.d(i,"O",(function(){return hs})),c.d(i,"P",(function(){return Ce})),c.d(i,"Q",(function(){return Dc})),c.d(i,"R",(function(){return tr})),c.d(i,"S",(function(){return er})),c.d(i,"T",(function(){return Xc})),c.d(i,"U",(function(){return Pc})),c.d(i,"V",(function(){return lc})),c.d(i,"W",(function(){return Ho})),c.d(i,"X",(function(){return Ss})),c.d(i,"Y",(function(){return kr})),c.d(i,"Z",(function(){return ar})),c.d(i,"ab",(function(){return Vn})),c.d(i,"bb",(function(){return Jn})),c.d(i,"cb",(function(){return Kn})),c.d(i,"db",(function(){return Xn})),c.d(i,"eb",(function(){return Yn})),c.d(i,"fb",(function(){return Qn})),c.d(i,"gb",(function(){return ks})),c.d(i,"hb",(function(){return Yc})),c.d(i,"ib",(function(){return _s})),c.d(i,"jb",(function(){return xs})),c.d(i,"kb",(function(){return Wn})),c.d(i,"lb",(function(){return X})),c.d(i,"mb",(function(){return Uo})),c.d(i,"nb",(function(){return aa})),c.d(i,"ob",(function(){return oa})),c.d(i,"pb",(function(){return Hs})),c.d(i,"qb",(function(){return nt})),c.d(i,"rb",(function(){return F})),c.d(i,"sb",(function(){return Bn})),c.d(i,"tb",(function(){return Aa})),c.d(i,"ub",(function(){return Qe})),c.d(i,"vb",(function(){return Wr})),c.d(i,"wb",(function(){return Wo})),c.d(i,"xb",(function(){return wa})),c.d(i,"yb",(function(){return Ys})),c.d(i,"zb",(function(){return Ee})),c.d(i,"Ab",(function(){return De})),c.d(i,"Bb",(function(){return O})),c.d(i,"Cb",(function(){return T})),c.d(i,"Db",(function(){return Me})),c.d(i,"Eb",(function(){return Fe})),c.d(i,"Fb",(function(){return Ko})),c.d(i,"Gb",(function(){return ra})),c.d(i,"Hb",(function(){return na})),c.d(i,"Ib",(function(){return ta})),c.d(i,"Jb",(function(){return ia})),c.d(i,"Kb",(function(){return jn})),c.d(i,"Lb",(function(){return Ta})),c.d(i,"Mb",(function(){return de})),c.d(i,"Nb",(function(){return Zo})),c.d(i,"Ob",(function(){return ec})),c.d(i,"Pb",(function(){return sa})),c.d(i,"Qb",(function(){return Xs})),c.d(i,"Rb",(function(){return Jt})),c.d(i,"Sb",(function(){return Wt})),c.d(i,"Tb",(function(){return ua})),c.d(i,"Ub",(function(){return js})),c.d(i,"Vb",(function(){return Ms})),c.d(i,"Wb",(function(){return pa})),c.d(i,"Xb",(function(){return da})),c.d(i,"Yb",(function(){return $o})),c.d(i,"Zb",(function(){return ba})),c.d(i,"ac",(function(){return ma})),c.d(i,"bc",(function(){return Ps})),c.d(i,"cc",(function(){return Ws})),c.d(i,"dc",(function(){return Qo})),c.d(i,"ec",(function(){return bn})),c.d(i,"fc",(function(){return It})),c.d(i,"gc",(function(){return Cr})),c.d(i,"hc",(function(){return Re})),c.d(i,"ic",(function(){return Js})),c.d(i,"jc",(function(){return Xo})),c.d(i,"kc",(function(){return $s})),c.d(i,"lc",(function(){return xa})),c.d(i,"mc",(function(){return Ca})),c.d(i,"nc",(function(){return Sa})),c.d(i,"oc",(function(){return Oa}));var u=c("XNiG"),d=c("quSY"),f=c("HDdC"),v=c("VRyK"),g=c("w1tV");function y(e){return{toString:e}.toString()}function w(e,t,n){return y((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=o(i,t);return s.annotation=a,s;function s(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var I=w("Inject",(function(e){return{token:e}})),H=w("Optional"),k=w("Self"),_=w("SkipSelf"),x=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function C(e){for(var t in e)if(e[t]===C)return t;throw Error("Could not find renamed property on target object.")}function S(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function O(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function T(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function E(e){return A(e,e[j])||A(e,e[N])}function A(e,t){return t&&t.token===e?t:null}function P(e){return e&&(e.hasOwnProperty(M)||e.hasOwnProperty(D))?e[M]:null}var j=C({"\u0275prov":C}),M=C({"\u0275inj":C}),R=C({"\u0275provFallback":C}),N=C({ngInjectableDef:C}),D=C({ngInjectorDef:C});function F(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(F).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function q(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var L=C({__forward_ref__:C});function U(e){return e.__forward_ref__=U,e.toString=function(){return F(this())},e}function G(e){return z(e)?e():e}function z(e){return"function"==typeof e&&e.hasOwnProperty(L)&&e.__forward_ref__===U}var B,V="undefined"!=typeof globalThis&&globalThis,W="undefined"!=typeof window&&window,J="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Y="undefined"!=typeof global&&global,X=V||Y||W||J,Q=C({"\u0275cmp":C}),K=C({"\u0275dir":C}),Z=C({"\u0275pipe":C}),$=C({"\u0275mod":C}),ee=C({"\u0275loc":C}),te=C({"\u0275fac":C}),ne=C({__NG_ELEMENT_ID__:C}),re=function(){function e(t,n){b(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return m(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),ie=new re("INJECTOR",-1),oe={},ae=/\n/gm,se=C({provide:String,useValue:C}),ce=void 0;function le(e){var t=ce;return ce=e,t}function ue(e){var t=B;return B=e,t}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.Default;if(void 0===ce)throw new Error("inject() must be called from an injection context");return null===ce?pe(e,void 0,t):ce.get(e,t&x.Optional?null:void 0,t)}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.Default;return(B||he)(G(e),t)}function pe(e,t,n){var r=E(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&x.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(F(e),"]"))}function be(e){for(var t=[],n=0;n<e.length;n++){var r=G(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=x.Default,a=0;a<r.length;a++){var s=r[a];s instanceof H||"Optional"===s.ngMetadataName||s===H?o|=x.Optional:s instanceof _||"SkipSelf"===s.ngMetadataName||s===_?o|=x.SkipSelf:s instanceof k||"Self"===s.ngMetadataName||s===k?o|=x.Self:i=s instanceof I||s===I?s.token:s}t.push(de(i,o))}else t.push(de(r))}return t}var fe=function(){function e(){b(this,e)}return m(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;if(t===oe){var n=new Error("NullInjectorError: No provider for ".concat(F(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),me=function e(){b(this,e)},ve=function e(){b(this,e)};function ge(e,t){e.forEach((function(e){return Array.isArray(e)?ge(e,t):t(e)}))}function ye(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function we(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ie(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function He(e,t){var n=ke(e,t);if(n>=0)return e[1|n]}function ke(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var _e,xe=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Ce=((_e={})[_e.Emulated=0]="Emulated",_e[_e.Native=1]="Native",_e[_e.None=2]="None",_e[_e.ShadowDom=3]="ShadowDom",_e),Se={},Oe=[],Te=0;function Ee(e){return y((function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Oe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ce.Emulated,id:"c",styles:e.styles||Oe,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=Te++,n.inputs=Ne(e.inputs,t),n.outputs=Ne(e.outputs),i&&i.forEach((function(e){return e(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(Ae)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Pe)}:null,n}))}function Ae(e){return qe(e)||function(e){return e[K]||null}(e)}function Pe(e){return function(e){return e[Z]||null}(e)}var je={};function Me(e){var t={type:e.type,bootstrap:e.bootstrap||Oe,declarations:e.declarations||Oe,imports:e.imports||Oe,exports:e.exports||Oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&y((function(){je[e.id]=e.type})),t}function Re(e,t){return y((function(){var n=Ue(e,!0);n.declarations=t.declarations||Oe,n.imports=t.imports||Oe,n.exports=t.exports||Oe}))}function Ne(e,t){if(null==e)return Se;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var De=Ee;function Fe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function qe(e){return e[Q]||null}function Le(e,t){return e.hasOwnProperty(te)?e[te]:null}function Ue(e,t){var n=e[$]||null;if(!n&&!0===t)throw new Error("Type ".concat(F(e)," does not have '\u0275mod' property."));return n}function Ge(e){return Array.isArray(e)&&"object"==typeof e[1]}function ze(e){return Array.isArray(e)&&!0===e[1]}function Be(e){return 0!=(8&e.flags)}function Ve(e){return 2==(2&e.flags)}function We(e){return 1==(1&e.flags)}function Je(e){return null!==e.template}function Ye(e){return 0!=(512&e[2])}var Xe=function(){function e(t,n,r){b(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return m(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Qe(){return Ke}function Ke(e){return e.type.prototype.ngOnChanges&&(e.setInput=$e),Ze}function Ze(){var e=et(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Se)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function $e(e,t,n,r){var i=et(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Se,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],c=a[s];o[s]=new Xe(c&&c.currentValue,t,a===Se),e[r]=t}function et(e){return e.__ngSimpleChanges__||null}Qe.ngInherit=!0;var tt=void 0;function nt(e){tt=e}function rt(e){return!!e.listen}var it={createRenderer:function(e,t){return void 0!==tt?tt:"undefined"!=typeof document?document:void 0}};function ot(e){for(;Array.isArray(e);)e=e[0];return e}function at(e,t){return ot(t[e+20])}function st(e,t){return ot(t[e.index])}function ct(e,t){return e.data[t+20]}function lt(e,t){return e[t+20]}function ut(e,t){var n=t[e];return Ge(n)?n:n[0]}function ht(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function dt(e){return 4==(4&e[2])}function pt(e){return 128==(128&e[2])}function bt(e,t){return null===e||null==t?null:e[t]}function ft(e){e[18]=0}function mt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var vt={lFrame:qt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function gt(){return vt.bindingsEnabled}function yt(){return vt.lFrame.lView}function wt(){return vt.lFrame.tView}function It(e){vt.lFrame.contextLView=e}function Ht(){return vt.lFrame.previousOrParentTNode}function kt(e,t){vt.lFrame.previousOrParentTNode=e,vt.lFrame.isParent=t}function _t(){return vt.lFrame.isParent}function xt(){vt.lFrame.isParent=!1}function Ct(){return vt.checkNoChangesMode}function St(e){vt.checkNoChangesMode=e}function Ot(){var e=vt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Tt(){return vt.lFrame.bindingIndex}function Et(){return vt.lFrame.bindingIndex++}function At(e){var t=vt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Pt(e,t){var n=vt.lFrame;n.bindingIndex=n.bindingRootIndex=e,jt(t)}function jt(e){vt.lFrame.currentDirectiveIndex=e}function Mt(){return vt.lFrame.currentQueryIndex}function Rt(e){vt.lFrame.currentQueryIndex=e}function Nt(e,t){var n=Ft();vt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Dt(e,t){var n=Ft(),r=e[1];vt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Ft(){var e=vt.lFrame,t=null===e?null:e.child;return null===t?qt(e):t}function qt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Lt(){var e=vt.lFrame;return vt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Ut=Lt;function Gt(){var e=Lt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zt(){return vt.lFrame.selectedIndex}function Bt(e){vt.lFrame.selectedIndex=e}function Vt(){var e=vt.lFrame;return ct(e.tView,e.selectedIndex)}function Wt(){vt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Jt(){vt.lFrame.currentNamespace=null}function Yt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,c=i.ngAfterViewChecked,l=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function Xt(e,t,n){Zt(e,t,3,n)}function Qt(e,t,n,r){(3&e[2])===n&&Zt(e,t,n,r)}function Kt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Zt(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&($t(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function $t(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var en=function e(t,n,r){b(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function tn(e,t,n){for(var r=rt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],c=n[i++];r?e.setAttribute(t,s,c,a):t.setAttributeNS(a,s,c)}else{var l=o,u=n[++i];rn(l)?r&&e.setProperty(t,l,u):r?e.setAttribute(t,l,u):t.setAttribute(l,u),i++}}return i}function nn(e){return 3===e||4===e||6===e}function rn(e){return 64===e.charCodeAt(0)}function on(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||an(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function an(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var c=e[o];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function sn(e){return-1!==e}function cn(e){return 32767&e}function ln(e){return e>>16}function un(e,t){for(var n=ln(e),r=t;n>0;)r=r[15],n--;return r}function hn(e){return"string"==typeof e?e:null==e?"":""+e}function dn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():hn(e)}var pn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(X);function bn(e){return{name:"window",target:e.ownerDocument.defaultView}}function fn(e){return e instanceof Function?e():e}var mn=!0;function vn(e){var t=mn;return mn=e,t}var gn=0;function yn(e,t){var n=In(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,wn(r.data,e),wn(t,null),wn(r.blueprint,null));var i=Hn(e,t),o=e.injectorIndex;if(sn(i))for(var a=cn(i),s=un(i,t),c=s[1].data,l=0;l<8;l++)t[o+l]=s[a+l]|c[a+l];return t[o+8]=i,o}function wn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function In(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Hn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function kn(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ne)&&(r=n[ne]),null==r&&(r=n[ne]=gn++);var i=255&r,o=1<<i,a=64&i,s=32&i,c=t.data;128&i?a?s?c[e+7]|=o:c[e+6]|=o:s?c[e+5]|=o:c[e+4]|=o:a?s?c[e+3]|=o:c[e+2]|=o:s?c[e+1]|=o:c[e]|=o}(e,t,n)}function _n(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(ne)?e[ne]:void 0;return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Nt(t,e);try{var a=o();if(null!=a||r&x.Optional)return a;throw new Error("No provider for ".concat(dn(n),"!"))}finally{Ut()}}else if("number"==typeof o){if(-1===o)return new An(e,t);var s=null,c=In(e,t),l=-1,u=r&x.Host?t[16][6]:null;for((-1===c||r&x.SkipSelf)&&(l=-1===c?Hn(e,t):t[c+8],En(r,!1)?(s=t[1],c=cn(l),t=un(l,t)):c=-1);-1!==c;){l=t[c+8];var h=t[1];if(Tn(o,c,h.data)){var d=Cn(c,t,n,s,r,u);if(d!==xn)return d}En(r,t[1].data[c+8]===u)&&Tn(o,c,t)?(s=h,c=cn(l),t=un(l,t)):c=-1}}}if(r&x.Optional&&void 0===i&&(i=null),0==(r&(x.Self|x.Host))){var p=t[9],b=ue(void 0);try{return p?p.get(n,i,r&x.Optional):pe(n,i,r&x.Optional)}finally{ue(b)}}if(r&x.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(dn(n),"]"))}var xn={};function Cn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],c=Sn(s,a,n,null==r?Ve(s)&&mn:r!=a&&3===s.type,i&x.Host&&o===s);return null!==c?On(t,a,c,s):xn}function Sn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=1048575&o,c=e.directiveStart,l=o>>20,u=i?s+l:e.directiveEnd,h=r?s:s+l;h<u;h++){var d=a[h];if(h<c&&n===d||h>=c&&d.type===n)return h}if(i){var p=a[c];if(p&&Je(p)&&p.type===n)return c}return null}function On(e,t,n,r){var i=e[n],o=t.data;if(i instanceof en){var a=i;if(a.resolving)throw new Error("Circular dep for "+dn(o[n]));var s,c=vn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=ue(a.injectImpl)),Nt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Ke(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,o[n],t)}finally{a.injectImpl&&ue(s),vn(c),a.resolving=!1,Ut()}}return i}function Tn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function En(e,t){return!(e&x.Self||e&x.Host&&t)}var An=function(){function e(t,n){b(this,e),this._tNode=t,this._lView=n}return m(e,[{key:"get",value:function(e,t){return _n(this._tNode,this._lView,e,void 0,t)}}]),e}();function Pn(e){var t=e;if(z(e))return function(){var e=Pn(G(t));return e?e():null};var n=Le(t);if(null===n){var r=P(t);n=r&&r.factory}return n||null}function jn(e){return y((function(){for(var t=e.prototype.constructor,n=t[te]||Pn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[te]||Pn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}}))}function Mn(e){return e.ngDebugContext}function Rn(e){return e.ngOriginalError}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Dn=function(){function e(){b(this,e),this._console=console}return m(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Nn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Mn(e)?Mn(e):this._findContext(Rn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Rn(e);t&&Rn(t);)t=Rn(t);return t}}]),e}(),Fn=function(){function e(t){b(this,e),this.changingThisBreaksApplicationSecurity=t}return m(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),qn=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Fn),Ln=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Fn),Un=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Fn),Gn=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Fn),zn=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Fn);function Bn(e){return e instanceof Fn?e.changingThisBreaksApplicationSecurity:e}function Vn(e,t){var n=Wn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function Wn(e){return e instanceof Fn&&e.getTypeName()||null}function Jn(e){return new qn(e)}function Yn(e){return new Ln(e)}function Xn(e){return new Un(e)}function Qn(e){return new Gn(e)}function Kn(e){return new zn(e)}var Zn=!0,$n=!1;function er(){return $n=!0,Zn}function tr(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Zn=!1}var nr=function(){function e(){b(this,e)}return m(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}}]),e}(),rr=function(){function e(t){if(b(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return m(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),ir=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ar(e){return(e=String(e)).match(ir)||e.match(or)?e:(er()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function sr(e){var t,r={},i=n(e.split(","));try{for(i.s();!(t=i.n()).done;){r[t.value]=!0}}catch(o){i.e(o)}finally{i.f()}return r}function cr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var lr,ur=sr("area,br,col,hr,img,wbr"),hr=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=sr("rp,rt"),pr=cr(dr,hr),br=cr(ur,cr(hr,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(dr,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pr),fr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=sr("srcset"),vr=cr(fr,mr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gr=sr("script,style,template"),yr=function(){function e(){b(this,e),this.sanitizedSomething=!1,this.buf=[]}return m(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!br.hasOwnProperty(t))return this.sanitizedSomething=!0,!gr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(vr.hasOwnProperty(s)){var c=o.value;fr[s]&&(c=ar(c)),mr[s]&&(n=c,c=(n=String(n)).split(",").map((function(e){return ar(e.trim())})).join(", ")),this.buf.push(" ",a,'="',Hr(c),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();br.hasOwnProperty(t)&&!ur.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Hr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ir=/([^\#-~ |!])/g;function Hr(e){return e.replace(/&/g,"&amp;").replace(wr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ir,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kr(e,t){var n=null;try{lr=lr||function(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new nr:new rr(e)}(e);var r=t?String(t):"";n=lr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);var a=new yr,s=a.sanitizeChildren(_r(n)||n);return er()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=_r(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function _r(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Cr(e){var t,n=(t=yt())&&t[12];return n?n.sanitize(xr.URL,e)||"":Vn(e,"URL")?Bn(e):ar(hn(e))}function Sr(e,t){e.__ngContext__=t}function Or(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Tr(){throw new Error("Cannot mix multi providers and regular providers")}function Er(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Ar(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Er((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Pr(e){return 0===e.type&&"ng-template"!==e.tagName}function jr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Mr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(nn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var c=t[s];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!jr(e,c,n)||""===c&&1===t.length){if(Rr(r))return!1;a=!0}}else{var l=8&r?c:t[++s];if(8&r&&null!==e.attrs){if(!Ar(e.attrs,l,n)){if(Rr(r))return!1;a=!0}continue}var u=Nr(8&r?"class":c,i,Pr(e),n);if(-1===u){if(Rr(r))return!1;a=!0;continue}if(""!==l){var h;h=u>o?"":i[u+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==Er(d,l,0)||2&r&&l!==h){if(Rr(r))return!1;a=!0}}}}else{if(!a&&!Rr(r)&&!Rr(c))return!1;if(a&&Rr(c))continue;a=!1,r=c|1&r}}return Rr(r)||a}function Rr(e){return 0==(1&e)}function Nr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Dr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Mr(e,t[r],n))return!0;return!1}function Fr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function qr(e,t){return e?":not("+t.trim()+")":t}function Lr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Rr(a)||(t+=qr(o,i),i=""),r=a,o=o||!Rr(r);n++}return""!==i&&(t+=qr(o,i)),t}var Ur={};function Gr(e){var t=e[3];return ze(t)?t[3]:t}function zr(e){return Vr(e[13])}function Br(e){return Vr(e[4])}function Vr(e){for(;null!==e&&!ze(e);)e=e[4];return e}function Wr(e){Jr(wt(),yt(),zt()+e,Ct())}function Jr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Xt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Qt(t,o,0,n)}Bt(n)}function Yr(e,t){return e<<17|t<<2}function Xr(e){return e>>17&32767}function Qr(e){return 2|e}function Kr(e){return(131068&e)>>2}function Zr(e,t){return-131069&e|t<<2}function $r(e){return 1|e}function ei(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];Rt(i),a.contentQueries(2,t[o],o)}}}function ti(e,t,n){return rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ni(e,t,n,r,i,o,a,s,c,l){var u=t.blueprint.slice();return u[0]=i,u[2]=140|r,ft(u),u[3]=u[15]=e,u[8]=n,u[10]=a||e&&e[10],u[11]=s||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function ri(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=Ht(),s=_t(),c=s?a:a&&a.parent,l=e.data[n]=pi(0,c&&c!==t?c:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=l),a&&(!s||null!=a.child||null===l.parent&&2!==a.type?s||(a.next=l):a.child=l),l}(e,t,a,r,i,o);return kt(s,!0),s}function ii(e,t,n){Dt(t,t[6]);try{var r=e.viewQuery;null!==r&&Ri(1,r,n);var i=e.template;null!==i&&si(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ei(e,t),e.staticViewQueries&&Ri(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Ei(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Gt()}}function oi(e,t,n,r){var i=t[2];if(256!=(256&i)){Dt(t,t[6]);var o=Ct();try{ft(t),vt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&si(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Xt(t,s,null)}else{var c=e.preOrderHooks;null!==c&&Qt(t,c,0,null),Kt(t,0)}if(function(e){for(var t=zr(e);null!==t;t=Br(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&mt(o,1),i[2]|=1024}}(t),function(e){for(var t=zr(e);null!==t;t=Br(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];pt(r)&&oi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&ei(e,t),!o)if(a){var l=e.contentCheckHooks;null!==l&&Xt(t,l)}else{var u=e.contentHooks;null!==u&&Qt(t,u,1),Kt(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Bt(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(Pt(r,i),a(2,t[i])),i++)}}finally{Bt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Ti(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&Ri(2,d,r),!o)if(a){var p=e.viewCheckHooks;null!==p&&Xt(t,p)}else{var b=e.viewHooks;null!==b&&Qt(t,b,2),Kt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,mt(t[3],-1))}finally{Gt()}}}function ai(e,t,n,r){var i=t[10],o=!Ct(),a=dt(t);try{o&&!a&&i.begin&&i.begin(),a&&ii(e,t,r),oi(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function si(e,t,n,r,i){var o=zt();try{Bt(-1),2&r&&t.length>20&&Jr(e,t,0,Ct()),n(r,i)}finally{Bt(o)}}function ci(e,t,n){gt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||yn(n,t),Sr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var c=e.data[s],l=Je(c);l&&xi(t,n,c);var u=On(t,e,s,n);Sr(u,t),null!==a&&Ci(0,s-i,u,c,0,a),l&&(ut(n.index,t)[8]=u)}}(e,t,n,st(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,c=vt.lFrame.currentDirectiveIndex;try{Bt(s);for(var l=r;l<i;l++){var u=e.data[l],h=t[l];jt(l),null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?yi(u,h):a&&o.push(null)}}finally{Bt(-1),jt(c)}}(e,t,n))}function li(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function ui(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=hi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function hi(e,t,n,r,i,o,a,s,c,l){var u=20+r,h=u+i,d=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Ur);return n}(u,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:s,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function di(e,t,n,r){var i=Di(t);i.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1)}function pi(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bi(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function fi(e,t,n,r,i,o,a,s){var c,l,u=st(t,n),h=t.inputs;!s&&null!=h&&(c=h[r])?(qi(e,n,c,r,i),Ve(t)&&function(e,t){var n=ut(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(l=r)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,i=null!=a?a(i,t.tagName||"",r):i,rt(o)?o.setProperty(u,r,i):rn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function mi(e,t,n,r){var i=!1;if(gt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Dr(n,a.selectors,!1)&&(i||(i=[]),kn(yn(n,t),e,a.type),Je(a)?(2&n.flags&&Or(n),Ii(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,ki(n,e.data.length,o.length);for(var c=0;c<o.length;c++){var l=o[c];l.providersResolver&&l.providersResolver(l)}wi(e,n,o.length);for(var u=!1,h=!1,d=0;d<o.length;d++){var p=o[d];n.mergedAttrs=on(n.mergedAttrs,p.hostAttrs),_i(e,t,p),Hi(e.data.length-1,p,a),null!==p.contentQueries&&(n.flags|=8),null===p.hostBindings&&null===p.hostAttrs&&0===p.hostVars||(n.flags|=128);var b=p.type.prototype;!u&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),u=!0),h||!b.ngOnChanges&&!b.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),vi(e,p),s+=p.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,c=t.directiveStart;c<n;c++){var l=r[c],u=l.inputs,h=null===i||Pr(t)?null:Si(u,i);o.push(h),a=bi(u,c,a),s=bi(l.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),gi(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=on(n.mergedAttrs,n.attrs),i}function vi(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function gi(e,t,n){for(var r=0;r<n;r++)t.push(Ur),e.blueprint.push(Ur),e.data.push(null)}function yi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function wi(e,t,n){var r=20-t.index,i=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function Ii(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Hi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Je(t)&&(n[""]=e)}}function ki(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function _i(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Le(n.type)),i=new en(r,Je(n),null);e.blueprint.push(i),t.push(i)}function xi(e,t,n){var r=st(t,e),i=ui(n),o=e[10],a=Ai(e,ni(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function Ci(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,c=0;c<a.length;){var l=a[c++],u=a[c++],h=a[c++];null!==s?r.setInput(n,h,l,u):n[u]=h}}function Si(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Oi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ti(e,t){var n=ut(t,e);if(pt(n)){var r=n[1];80&n[2]?oi(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=zr(t);null!==n;n=Br(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];oi(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var c=ut(a[s],t);pt(c)&&c[5]>0&&e(c)}}(n)}}function Ei(e,t){var n=ut(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),ii(r,n,n[8])}function Ai(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Pi(e){for(;e;){e[2]|=64;var t=Gr(e);if(Ye(e)&&!t)return e;e=t}return null}function ji(e,t,n){var r=t[10];r.begin&&r.begin();try{oi(e,t,e.template,n)}catch(i){throw Fi(t,i),i}finally{r.end&&r.end()}}function Mi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=ht(n),i=r[1];ai(i,r,i.template,n)}}(e[8])}function Ri(e,t,n){Rt(0),t(e,n)}var Ni=Promise.resolve(null);function Di(e){return e[7]||(e[7]=[])}function Fi(e,t){var n=e[9],r=n?n.get(Dn,null):null;r&&r.handleError(t)}function qi(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],c=t[a],l=e.data[a];null!==l.setInput?l.setInput(c,i,r,s):c[s]=i}}function Li(e,t,n){var r=at(t,e),i=e[11];rt(i)?i.setValue(r,n):r.textContent=n}function Ui(e,t){var n=t[3];return-1===e.index?ze(n)?n:null:n}function Gi(e,t){var n=Ui(e,t);return n?eo(t[11],n[7]):null}function zi(e,t,n,r,i){if(null!=r){var o,a=!1;ze(r)?o=r:Ge(r)&&(a=!0,r=r[0]);var s=ot(r);0===e&&null!==n?null==i?Zi(t,n,s):Ki(t,n,s,i||null):1===e&&null!==n?Ki(t,n,s,i||null):2===e?function(e,t,n){var r=eo(e,t);r&&function(e,t,n,r){rt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==ot(n)&&zi(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];oo(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Bi(e,t,n,r){var i=Gi(e.node,t);i&&oo(e,t,t[11],n?1:2,i,r)}function Vi(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&mt(t[3],-1),n.splice(r,1)}function Wi(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Vi(i,r),t>0&&(e[n-1][4]=r[4]);var o=we(e,10+t);Bi(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ji(e,t){if(!(256&t[2])){var n=t[11];rt(n)&&n.destroyNode&&oo(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Xi(e[1],e);for(;t;){var n=null;if(Ge(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ge(t)&&Xi(t[1],t),t=Yi(t,e);null===t&&(t=e),Ge(t)&&Xi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Yi(e,t){var n;return Ge(e)&&(n=e[6])&&2===n.type?Ui(n,e):e[3]===t?null:e[3]}function Xi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof en)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):ot(t[o]),s=r[n[i+2]],c=n[i+3];"boolean"==typeof c?a.removeEventListener(n[i],s,c):c>=0?r[c]():r[-c].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&rt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&ze(t[3])){r!==t[3]&&Vi(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Qi(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Gi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return st(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Ce.ShadowDom&&a!==Ce.Native)return null}return st(r,n)}function Ki(e,t,n,r){rt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Zi(e,t,n){rt(e)?e.appendChild(t,n):t.appendChild(n)}function $i(e,t,n,r){null!==r?Ki(e,t,n,r):Zi(e,t,n)}function eo(e,t){return rt(e)?e.parentNode(t):t.parentNode}function to(e,t){if(2===e.type){var n=Ui(e,t);return null===n?null:ro(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?st(e,t):null}function no(e,t,n,r){var i=Qi(e,r,t);if(null!=i){var o=t[11],a=to(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)$i(o,i,n[s],a);else $i(o,i,n,a)}}function ro(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return st(n,t);if(0===r)return ro(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return ze(o)?ro(-1,o):ot(o)}var a=t[16],s=a[6],c=Gr(a),l=s.projection[n.projection];return null!=l?e(c,l):e(t,n.next)}return null}(r,i)}return t[7]}function io(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],c=n.type;a&&0===t&&(s&&Sr(ot(s),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(io(e,t,n.child,r,i,o,!1),zi(t,e,i,s,o)):1===c?ao(e,t,r,n,i,o):zi(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function oo(e,t,n,r,i,o){io(n,r,e.node.child,t,i,o,!1)}function ao(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)zi(t,e,i,s[c],o);else io(e,t,s,a[3],i,o,!0)}function so(e,t,n){rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function co(e,t,n){rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var lo,uo,ho,po=function(){function e(t,n){b(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return m(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ji(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){di(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Pi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ji(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){St(!0);try{ji(e,t,n)}finally{St(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,oo(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(n,r,i,o){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var s=r[i.index];if(null!==s&&o.push(ot(s)),ze(s))for(var c=10;c<s.length;c++){var l=s[c],u=l[1].firstChild;null!==u&&e(l[1],l,u,o)}var h=i.type;if(4===h||5===h)e(n,r,i.child,o);else if(1===h){var d=r[16],p=d[6].projection[i.projection];if(Array.isArray(p))o.push.apply(o,t(p));else{var b=Gr(d);e(b[1],b,p,o,!0)}}i=a?i.projectionNext:i.next}return o}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),bo=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._view=e,r}return m(n,[{key:"detectChanges",value:function(){Mi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){St(!0);try{Mi(e)}finally{St(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(po);function fo(e,t,n){return lo||(lo=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(e)),new lo(st(t,n))}function mo(e,t,n,r){return uo||(uo=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return m(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=ni(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),ii(t,n,e),new po(n)}}]),n}(e)),0===n.type?new uo(r,n,fo(t,n,r)):null}function vo(e,t,n,r){var i;ho||(ho=function(e){s(r,e);var n=l(r);function r(e,t,i){var o;return b(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return m(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(me,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ze(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new ho(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ye(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Bi(r,n,!0,ro(s,this._lContainer)),e.attachToViewContainerRef(this),ye(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Wi(this._lContainer,t);n&&(we(this._lContainer[8],t),Ji(n[1],n))}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Wi(this._lContainer,t);return n&&null!=we(this._lContainer[8],t)?new po(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return fo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new An(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Hn(this._hostTNode,this._hostView),t=un(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=ln(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return sn(e)&&null!=n?new An(n,t):new An(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(ze(o))i=o;else{var a;if(4===n.type)a=ot(o);else if(a=r[11].createComment(""),Ye(r)){var c=r[11],u=st(n,r);Ki(c,eo(c,u),a,function(e,t){return rt(e)?e.nextSibling(t):t.nextSibling}(c,u))}else no(r[1],r,a,n);r[n.index]=i=Oi(o,r,a,n),Ai(r,i)}return new ho(i,n,r)}function go(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Ve(e)){var r=ut(e.index,t);return new po(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new po(t[16],t):null}(Ht(),yt(),e)}var yo=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=function(){return wo()},e}(),wo=go,Io=Function,Ho=new re("Set Injector scope."),ko={},_o={},xo=[],Co=void 0;function So(){return void 0===Co&&(Co=new fe),Co}function Oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new To(e,n,t||So(),r)}var To=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ge(n,(function(e){return i.processProvider(e,t,n)})),ge([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(ie,Ao(void 0,this));var s=this.records.get(Ho);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:F(t))}return m(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Default;this.assertNotDestroyed();var r,i=le(this);try{if(!(n&x.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof re)&&E(e);o=a&&this.injectableDefInScope(a)?Ao(Eo(e),ko):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&x.Self?So():this.parent).get(e,t=n&x.Optional&&t===oe?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(F(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=F(t);if(Array.isArray(t))i=t.map(F).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):F(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(ae,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{le(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(F(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=G(e)))return!1;var i=P(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=P(o)),null==i)return!1;if(null!=i.imports&&!s){var c;n.push(a);try{ge(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===c&&(c=[]),c.push(e))}))}finally{}if(void 0!==c)for(var l=function(e){var t=c[e],n=t.ngModule,i=t.providers;ge(i,(function(e){return r.processProvider(e,n,i||xo)}))},u=0;u<c.length;u++)l(u)}this.injectorDefTypes.add(a),this.records.set(a,Ao(i.factory,ko));var h=i.providers;if(null!=h&&!s){var d=e;ge(h,(function(e){return r.processProvider(e,d,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,n,r){var i=jo(e=G(e))?e:G(e&&e.provide),a=function(e,n,r){return Po(e)?Ao(void 0,e.useValue):Ao(function(e,n,r){var i,a=void 0;if(jo(e)){var s=G(e);return Le(s)||Eo(s)}if(Po(e))a=function(){return G(e.useValue)};else if((i=e)&&i.useFactory)a=function(){return e.useFactory.apply(e,t(be(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))a=function(){return de(G(e.useExisting))};else{var c=G(e&&(e.useClass||e.provide));if(c||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(F(e),"'")+r)}(n,r,e),!function(e){return!!e.deps}(e))return Le(c)||Eo(c);a=function(){return o(c,t(be(e.deps)))}}return a}(e,n,r),ko)}(e,n,r);if(jo(e)||!0!==e.multi){var s=this.records.get(i);s&&void 0!==s.multi&&Tr()}else{var c=this.records.get(i);c?void 0===c.multi&&Tr():((c=Ao(void 0,ko,!0)).factory=function(){return be(c.multi)},this.records.set(i,c)),i=e,c.multi.push(e)}this.records.set(i,a)}},{key:"hydrate",value:function(e,t){var n;return t.value===_o?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(F(e)):t.value===ko&&(t.value=_o,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Eo(e){var t=E(e),n=null!==t?t.factory:Le(e);if(null!==n)return n;var r=P(e);if(null!==r)return r.factory;if(e instanceof re)throw new Error("Token ".concat(F(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Ie(t,"?");throw new Error("Can't resolve all parameters for ".concat(F(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[j]||e[N]||e[R]&&e[R]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ao(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Po(e){return null!==e&&"object"==typeof e&&se in e}function jo(e){return"function"==typeof e}var Mo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Oo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Ro=function(){var e=function(){function e(){b(this,e)}return m(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Mo(e,t,""):Mo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=oe,e.NULL=new fe,e.\u0275prov=O({token:e,providedIn:"any",factory:function(){return de(ie)}}),e.__NG_ELEMENT_ID__=-1,e}(),No=new re("AnalyzeForEntryComponents");function Do(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=q(i,s):2==o&&(r=q(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Fo=null;function qo(){if(!Fo){var e=X.Symbol;if(e&&e.iterator)Fo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Fo=r)}}return Fo}var Lo=function(){function e(t){b(this,e),this.wrapped=t}return m(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Uo(e){return!!Go(e)&&(Array.isArray(e)||!(e instanceof Map)&&qo()in e)}function Go(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zo(e,t,n){return e[t]=n}function Bo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vo(e,t,n,r){var i=Bo(e,t,n);return Bo(e,t+1,r)||i}function Wo(e,t,n,r){var i=yt();return Bo(i,Et(),t)&&(wt(),function(e,t,n,r,i,o){var a=st(e,t),s=t[11];if(null==r)rt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var c=null==i?hn(r):i(r,e.tagName||"",n);rt(s)?s.setAttribute(a,n,c,o):o?a.setAttributeNS(o,n,c):a.setAttribute(n,c)}}(Vt(),i,e,t,n,r)),Wo}function Jo(e,t,n,r){return Bo(e,Et(),n)?t+hn(n)+r:Ur}function Yo(e,t,n,r,i,o){var a=Vo(e,Tt(),n,i);return At(2),a?t+hn(n)+r+hn(i)+o:Ur}function Xo(e,t,n,r,i,o,a,s){var c=yt(),l=wt(),u=e+20,h=l.firstCreatePass?function(e,t,n,r,i,o,a,s,c){var l=t.consts,u=ri(t,n[6],e,0,a||null,bt(l,s));mi(t,n,u,bt(l,c)),Yt(t,u);var h=u.tViews=hi(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l),d=pi(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(e,l,c,t,n,r,i,o,a):l.data[u];kt(h,!1);var d=c[11].createComment("");no(l,c,d,h),Sr(d,c),Ai(c,c[u]=Oi(d,c,d,h)),We(h)&&ci(l,c,h),null!=a&&li(c,h,s)}function Qo(e){return lt(vt.lFrame.contextLView,e)}function Ko(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.Default,n=yt();return null==n?de(e,t):_n(Ht(),n,G(e),t)}function Zo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(nn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Ht(),e)}function $o(e,t,n){var r=yt();return Bo(r,Et(),t)&&fi(wt(),Vt(),r,e,t,r[11],n,!1),$o}function ea(e,t,n,r,i){var o=i?"class":"style";qi(e,n,t.inputs[o],o,r)}function ta(e,t,n,r){var i=yt(),o=wt(),a=20+e,s=i[11],c=i[a]=ti(t,s,vt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,c=bt(s,o),l=ri(t,n[6],e,3,i,c);return mi(t,n,l,bt(s,a)),null!==l.attrs&&Do(l,l.attrs,!1),null!==l.mergedAttrs&&Do(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,o,i,0,t,n,r):o.data[a];kt(l,!0);var u=l.mergedAttrs;null!==u&&tn(s,c,u);var h=l.classes;null!==h&&co(s,c,h);var d=l.styles;null!==d&&so(s,c,d),no(o,i,c,l),0===vt.lFrame.elementDepthCount&&Sr(c,i),vt.lFrame.elementDepthCount++,We(l)&&(ci(o,i,l),function(e,t,n){if(Be(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,l,i)),null!==r&&li(i,l)}function na(){var e=Ht();_t()?xt():kt(e=e.parent,!1);var t=e;vt.lFrame.elementDepthCount--;var n=wt();n.firstCreatePass&&(Yt(n,e),Be(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ea(n,t,yt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ea(n,t,yt(),t.stylesWithoutHost,!1)}function ra(e,t,n,r){ta(e,t,n,r),na()}function ia(){return yt()}function oa(e){return!!e&&"function"==typeof e.then}function aa(e){return!!e&&"function"==typeof e.subscribe}function sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=yt(),o=wt(),a=Ht();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=We(r),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=Di(t),h=!0;if(3===r.type){var d=st(r,t),p=s?s(d):Se,b=p.target||d,f=u.length,m=s?function(e){return s(ot(e[r.index])).target}:r.index;if(rt(n)){var v=null;if(!s&&c&&(v=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],c=i[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=la(r,t,o,!1);var g=n.listen(p.name||b,i,o);u.push(o,g),l&&l.push(i,m,f,f+1)}}else o=la(r,t,o,!0),b.addEventListener(i,o,a),u.push(o),l&&l.push(i,m,f,a)}var y,w=r.outputs;if(h&&null!==w&&(y=w[i])){var I=y.length;if(I)for(var H=0;H<I;H+=2){var k=t[y[H]][y[H+1]].subscribe(o),_=u.length;u.push(o,k),l&&l.push(i,r.index,_,-(_+1))}}}(o,i,i[11],a,e,t,n,r),sa}function ca(e,t,n){try{return!1!==t(n)}catch(r){return Fi(e,r),!1}}function la(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?ut(e.index,t):t;0==(32&t[2])&&Pi(a);for(var s=ca(t,n,o),c=i.__ngNextListenerFn__;c;)s=ca(t,c,o)&&s,c=c.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(vt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,vt.lFrame.contextLView))[8]}(e)}function ha(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Dr(e,o,!0):Fr(r,o))return i}else n=i}return n}function da(e){var t=yt()[16][6];if(!t.projection)for(var n=t.projection=Ie(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?ha(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=yt(),i=wt(),o=ri(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),xt(),function(e,t,n){ao(t[11],0,t,n,Qi(e,n,t),to(n.parent||t[6],t))}(i,r,o)}function ba(e,t,n){return fa(e,"",t,"",n),ba}function fa(e,t,n,r,i){var o=yt(),a=Jo(o,t,n,r);return a!==Ur&&fi(wt(),Vt(),o,e,a,o[11],i,!1),fa}function ma(e,t,n,r,i,o,a){var s=yt(),c=Yo(s,t,n,r,i,o);return c!==Ur&&fi(wt(),Vt(),s,e,c,s[11],a,!1),ma}var va=[];function ga(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Xr(o):Kr(o),c=!1;0!==s&&(!1===c||a);){var l=e[s+1];ya(e[s],t)&&(c=!0,e[s+1]=r?$r(l):Qr(l)),s=r?Xr(l):Kr(l)}c&&(e[n+1]=r?Qr(o):$r(o))}function ya(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ke(e,t)>=0}function wa(e,t){return function(e,t,n,r){var i=yt(),o=wt(),a=At(2);o.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[zt()+20],a=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(o)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=vt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=t.residualClasses;if(null===i)0===t.classBindings&&(n=Ha(n=Ia(null,e,t,n,!0),t.attrs,!0),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Ia(i,e,t,n,!0),null===o){var s=function(e,t,n){var r=t.classBindings;if(0!==Kr(r))return e[Xr(r)]}(e,t);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Xr(t.classBindings)]=r}(e,t,0,s=Ha(s=Ia(null,e,t,s[1],!0),t.attrs,!0))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ha(r,e[o].hostAttrs,!0);return Ha(r,t.attrs,!0)}(e,t)}return void 0!==o&&(t.residualClasses=o),n}(i,o,t),function(e,t,n,r,i,o){var a=t.classBindings,s=Xr(a),c=Kr(a);e[r]=n;var l,u=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||ke(h,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){var d=Xr(e[s+1]);e[r+1]=Yr(d,s),0!==d&&(e[d+1]=Zr(e[d+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Yr(s,0),0!==s&&(e[s+1]=Zr(e[s+1],r)),s=r;else e[r+1]=Yr(c,0),0===s?s=r:e[c+1]=Zr(e[c+1],r),c=r;u&&(e[r+1]=Qr(e[r+1])),ga(e,l,r,!0),ga(e,l,r,!1),function(e,t,n,r,i){var o=e.residualClasses;null!=o&&"string"==typeof t&&ke(o,t)>=0&&(n[r+1]=$r(n[r+1]))}(t,l,e,r),a=Yr(s,c),t.classBindings=a}(i,o,t,n,a)}}(o,e,a),t!==Ur&&Bo(i,a,t)&&function(e,t,n,r,i,o,a,s){if(3===t.type){var c=e.data,l=c[s+1];_a(1==(1&l)?ka(c,t,n,i,Kr(l),!0):void 0)||(_a(o)||2==(2&l)&&(o=ka(c,null,n,i,s,!0)),function(e,t,n,r,i){var o=rt(e);i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r)}(r,0,at(zt(),n),i,o))}}(o,o.data[zt()+20],i,i[11],e,i[a+1]=function(e,t){return null==e||"object"==typeof e&&(e=F(Bn(e))),e}(t),0,a)}(e,t),wa}function Ia(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ha(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ha(e,t,n){var r,i,o,a,s=n?1:2,c=-1;if(null!==t)for(var l=0;l<t.length;l++){var u=t[l];"number"==typeof u?c=u:c===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),r=e,i=u,o=!!n||t[++l],a=void 0,(a=ke(r,i))>=0?r[1|a]=o:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(r,a=~a,i,o))}return void 0===e?null:e}function ka(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var c=e[i],l=Array.isArray(c),u=l?c[1]:c,h=null===u,d=n[i+1];d===Ur&&(d=h?va:void 0);var p=h?He(d,r):u===r?d:void 0;if(l&&!_a(p)&&(p=He(c,r)),_a(p)&&(s=p,a))return s;var b=e[i+1];i=a?Xr(b):Kr(b)}if(null!==t){var f=o?t.residualClasses:t.residualStyles;null!=f&&(s=He(f,r))}return s}function _a(e){return void 0!==e}function xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=yt(),r=wt(),i=e+20,o=r.firstCreatePass?ri(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return rt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);no(r,n,a,o),kt(o,!1)}function Ca(e){return Sa("",e,""),Ca}function Sa(e,t,n){var r=yt(),i=Jo(r,e,t,n);return i!==Ur&&Li(r,zt(),i),Sa}function Oa(e,t,n,r,i){var o=yt(),a=Yo(o,e,t,n,r,i);return a!==Ur&&Li(o,zt(),a),Oa}function Ta(e,t,n){var r=yt();return Bo(r,Et(),t)&&fi(wt(),Vt(),r,e,t,r[11],n,!0),Ta}function Ea(e,t){var n=ht(e)[1],r=n.data.length-1;Yt(n,{directiveStart:r,directiveEnd:r+1})}function Aa(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Je(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Pa(e.inputs),o.declaredInputs=Pa(e.declaredInputs),o.outputs=Pa(e.outputs);var a=i.hostBindings;a&&Ra(e,a);var s=i.viewQuery,c=i.contentQueries;if(s&&ja(e,s),c&&Ma(e,c),S(e.inputs,i.inputs),S(e.declaredInputs,i.declaredInputs),S(e.outputs,i.outputs),Je(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var u=i.features;if(u)for(var h=0;h<u.length;h++){var d=u[h];d&&d.ngInherit&&d(e),d===Aa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=on(i.hostAttrs,n=on(n,i.hostAttrs))}}(r)}function Pa(e){return e===Se?{}:e===Oe?[]:e}function ja(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Ma(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Ra(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Na=function e(){b(this,e)},Da=function(){function e(){b(this,e)}return m(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(F(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Fa=function(){var e=function e(){b(this,e)};return e.NULL=new Da,e}(),qa=function(){var e=function e(t){b(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return La(e)},e}(),La=function(e){return fo(e,Ht(),yt())},Ua=function e(){b(this,e)},Ga=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),za=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ba()},e}(),Ba=function(){var e=yt(),t=ut(Ht().index,e);return function(e){var t=e[11];if(rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ge(t)?t:e)},Va=function(){var e=function e(){b(this,e)};return e.\u0275prov=O({token:e,providedIn:"root",factory:function(){return null}}),e}(),Wa=function e(t){b(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ja=new Wa("10.0.14"),Ya=function(){function e(){b(this,e)}return m(e,[{key:"supports",value:function(e){return Uo(e)}},{key:"create",value:function(e){return new Qa(e)}}]),e}(),Xa=function(e,t){return t},Qa=function(){function e(t){b(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xa}return m(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<es(n,r,i)?t:n,a=es(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var c=a-r,l=s-r;if(c!=l){for(var u=0;u<c;u++){var h=u<i.length?i[u]:i[u]=0,d=h+u;l<=d&&d<c&&(i[u]=h+1)}i[o.previousIndex]=l-c}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Uo(e))throw new Error("Error trying to diff '".concat(F(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[qo()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ka(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $a),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $a),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Ka=function e(t,n){b(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Za=function(){function e(){b(this,e),this._head=null,this._tail=null}return m(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),$a=function(){function e(){b(this,e),this.map=new Map}return m(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Za,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function es(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var ts=function(){function e(){b(this,e)}return m(e,[{key:"supports",value:function(e){return e instanceof Map||Go(e)}},{key:"create",value:function(){return new ns}}]),e}(),ns=function(){function e(){b(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return m(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Go(e)))throw new Error("Error trying to diff '".concat(F(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new rs(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),rs=function e(t){b(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},is=function(){var e=function(){function e(t){b(this,e),this.factories=t}return m(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new H]]}}}]),e}();return e.\u0275prov=O({token:e,providedIn:"root",factory:function(){return new e([new Ya])}}),e}(),os=function(){var e=function(){function e(t){b(this,e),this.factories=t}return m(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new H]]}}}]),e}();return e.\u0275prov=O({token:e,providedIn:"root",factory:function(){return new e([new ts])}}),e}(),as=[new ts],ss=new is([new Ya]),cs=new os(as),ls=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=function(){return us(e,qa)},e}(),us=function(e,t){return mo(e,t,Ht(),yt())},hs=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=function(){return ds(e,qa)},e}(),ds=function(e,t){return vo(e,t,Ht(),yt())},ps={},bs=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this)).ngModule=e,r}return m(n,[{key:"resolveComponentFactory",value:function(e){var t=qe(e);return new vs(t,this.ngModule)}}]),n}(Fa);function fs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ms=new re("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return pn}}),vs=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Lr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return m(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,ps,i);return o!==ps||r===ps?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Ua,it),c=a.get(Va,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(rt(e))return e.selectRootElement(t,n===Ce.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):ti(u,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,p={components:[],scheduler:pn,clean:Ni,playerHandler:null,flags:0},b=hi(0,-1,null,1,0,null,null,null,null,null),f=ni(null,b,p,d,null,null,s,l,c,a);Dt(f,null);try{var m=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=ri(a,null,0,3,null,null),c=s.mergedAttrs=t.hostAttrs;null!==c&&(Do(s,c,!0),null!==e&&(tn(i,e,c),null!==s.classes&&co(i,e,s.classes),null!==s.styles&&so(i,e,s.styles)));var l=r.createRenderer(e,t),u=ni(n,ui(t),null,t.onPush?64:16,n[20],s,r,l,void 0);return a.firstCreatePass&&(kn(yn(s,n),a,t.type),Ii(a,s),ki(s,n.length,1)),Ai(n,u),n[20]=u}(h,this.componentDef,f,s,l);if(h)if(n)tn(l,h,["ng-version",Ja.full]);else{var v=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Rr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),g=v.attrs,y=v.classes;g&&tn(l,h,g),y&&y.length>0&&co(l,h,y.join(" "))}if(o=ct(b,0),void 0!==t)for(var w=o.projection=[],I=0;I<this.ngContentSelectors.length;I++){var H=t[I];w.push(null!=H?Array.from(H):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=Ht();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),wi(e,r,1),_i(e,t,n));var i=On(t,e,t.length-1,r);Sr(i,t);var o=st(r,t);return o&&Sr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=Ht();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Bt(s.index-20);var c=n[1];vi(c,t),gi(c,n,t.hostVars),yi(t,a)}return a}(m,this.componentDef,f,p,[Ea]),ii(b,f,null)}finally{Gt()}var k=new gs(this.componentType,i,fo(qa,o,f),f,o);return b.node.child=o,k}},{key:"inputs",get:function(){return fs(this.componentDef.inputs)}},{key:"outputs",get:function(){return fs(this.componentDef.outputs)}}]),n}(Na),gs=function(e){s(n,e);var t=l(n);function n(e,r,i,o,a){var s,c,l,u;return b(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new bo(o),c=o[1],l=o,null==(u=c.node)&&(c.node=u=pi(0,null,2,-1,null,null)),l[6]=u,s.componentType=e,s}return m(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new An(this._tNode,this._rootLView)}}]),n}(function(){return function e(){b(this,e)}}()),ys=void 0,ws=["en",[["a","p"],["AM","PM"],ys],[["AM","PM"],ys,ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ys,"{1} 'at' {0}",ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Is={};function Hs(e,t,n){"string"!=typeof t&&(n=t,t=e[Ss.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Is[t]=e,n&&(Is[t][Ss.ExtraData]=n)}function ks(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Cs(t);if(n)return n;var r=t.split("-")[0];if(n=Cs(r))return n;if("en"===r)return ws;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function _s(e){return ks(e)[Ss.CurrencyCode]||null}function xs(e){return ks(e)[Ss.PluralCase]}function Cs(e){return e in Is||(Is[e]=X.ng&&X.ng.common&&X.ng.common.locales&&X.ng.common.locales[e]),Is[e]}var Ss=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});function Os(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ts=new Map,Es=function(e){s(n,e);var t=l(n);function n(e,r){var i;b(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=h(i),i.destroyCbs=[],i.componentFactoryResolver=new bs(h(i));var o=Ue(e),a=e[ee]||null;return a&&Os(a),i._bootstrapComponents=fn(o.bootstrap),i._r3Injector=Oo(e,r,[{provide:me,useValue:h(i)},{provide:Fa,useValue:i.componentFactoryResolver}],F(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return m(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Default;return e===Ro||e===me||e===ie?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(me),As=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this)).moduleType=e,null!==Ue(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(F(t)," vs ").concat(F(t.name)))})(n,Ts.get(n),t),Ts.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return m(n,[{key:"create",value:function(e){return new Es(this.moduleType,e)}}]),n}(ve);function Ps(e,t,n){var r=Ot()+e,i=yt();return i[r]===Ur?zo(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function js(e,t){var n,r=wt(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Le(n.type)),a=ue(Ko),s=vn(!1),c=o();return vn(s),ue(a),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,yt(),e,c),c}function Ms(e,t,n,r){var i=yt(),o=lt(i,e);return function(e,t){return Lo.isWrapped(t)&&(t=Lo.unwrap(t),e[Tt()]=Ur),t}(i,function(e,t){return e[1].data[t+20].pure}(i,e)?function(e,t,n,r,i,o,a){var s=t+n;return Vo(e,s,i,o)?zo(e,s+2,a?r.call(a,i,o):r(i,o)):function(e,t){var n=e[t];return n===Ur?void 0:n}(e,s+2)}(i,Ot(),t,o.transform,n,r,o):o.transform(n,r))}var Rs=function(e){s(n,e);var t=l(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return b(this,n),(e=t.call(this)).__isAsync=r,e}return m(n,[{key:"emit",value:function(e){a(p(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var c=a(p(n.prototype),"subscribe",this).call(this,i,o,s);return e instanceof d.a&&e.add(c),c}}]),n}(u.a);function Ns(){return this._results[qo()]()}var Ds=function(){function e(){b(this,e),this.dirty=!0,this._results=[],this.changes=new Rs,this.length=0;var t=qo(),n=e.prototype;n[t]||(n[t]=Ns)}return m(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Fs=function(){function e(t){b(this,e),this.queryList=t,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),qs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];b(this,e),this.queries=t}return m(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Zs(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Ls=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Us=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];b(this,e),this.queries=t}return m(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Gs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;b(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return m(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,zs(t,i)),this.matchTNodeWithReadOption(e,t,Sn(t,e,i,!1,!1))}else n===ls?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Sn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===qa||r===hs||r===ls&&0===t.type)this.addMatch(t.index,-2);else{var i=Sn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function zs(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Bs(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?fo(qa,e,t):0===e.type?mo(ls,qa,e,t):null}(t,e):-2===n?function(e,t,n){return n===qa?fo(qa,t,e):n===ls?mo(ls,qa,t,e):n===hs?vo(hs,qa,t,e):void 0}(e,t,r):On(e,e[1],n,t)}function Vs(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var l=a[c];s.push(l<0?null:Bs(t,o[l],a[c+1],n.metadata.read))}i.matches=s}return i.matches}function Ws(e){var t=yt(),n=wt(),r=Mt();Rt(r+1);var i=Zs(n,r);if(e.dirty&&dt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Vs(t,n,o,r),c=0;c<a.length;c+=2){var l=a[c];if(l>0)i.push(s[c/2]);else{for(var u=a[c+1],h=n[-l],d=10;d<h.length;d++){var p=h[d];p[17]===p[3]&&e(p[1],p,u,i)}if(null!==h[9])for(var b=h[9],f=0;f<b.length;f++){var m=b[f];e(m[1],m,u,i)}}}return i}(n,t,r,[]):Vs(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Js(e,t,n){!function(e,t,n,r,i,o){e.firstCreatePass&&(Ks(e,new Ls(n,r,!0,i),-1),e.staticViewQueries=!0),Qs(e,t)}(wt(),yt(),e,t,n)}function Ys(e,t,n,r){!function(e,t,n,r,i,o,a,s){e.firstCreatePass&&(Ks(e,new Ls(n,r,!1,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),Qs(e,t)}(wt(),yt(),t,n,r,0,Ht(),e)}function Xs(){return e=yt(),t=Mt(),e[19].queries[t].queryList;var e,t}function Qs(e,t){var n=new Ds;di(e,t,n,n.destroy),null===t[19]&&(t[19]=new qs),t[19].queries.push(new Fs(n))}function Ks(e,t,n){null===e.queries&&(e.queries=new Us),e.queries.track(new Gs(t,n))}function Zs(e,t){return e.queries.getByIndex(t)}function $s(e,t){return mo(ls,qa,e,t)}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.Default,t=go(!0);if(null!=t||e&x.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var tc=new re("Application Initializer"),nc=function(){var e=function(){function e(t){var n=this;b(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return m(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();oa(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(de(tc,8))},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}(),rc=new re("AppId"),ic={provide:rc,useFactory:function(){return"".concat(oc()).concat(oc()).concat(oc())},deps:[]};function oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ac=new re("Platform Initializer"),sc=new re("Platform ID"),cc=new re("appBootstrapListener"),lc=function(){var e=function(){function e(){b(this,e)}return m(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}(),uc=new re("LocaleId"),hc=new re("DefaultCurrencyCode"),dc=function e(t,n){b(this,e),this.ngModuleFactory=t,this.componentFactories=n},pc=function(e){return new As(e)},bc=pc,fc=function(e){return Promise.resolve(pc(e))},mc=function(e){var t=pc(e),n=fn(Ue(e).declarations).reduce((function(e,t){var n=qe(t);return n&&e.push(new vs(n)),e}),[]);return new dc(t,n)},vc=mc,gc=function(e){return Promise.resolve(mc(e))},yc=function(){var e=function(){function e(){b(this,e),this.compileModuleSync=bc,this.compileModuleAsync=fc,this.compileModuleAndAllComponentsSync=vc,this.compileModuleAndAllComponentsAsync=gc}return m(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}(),wc=Promise.resolve(0);function Ic(e){"undefined"==typeof Zone?wc.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Hc=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(b(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rs(!1),this.onMicrotaskEmpty=new Rs(!1),this.onStable=new Rs(!1),this.onError=new Rs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=X.requestAnimationFrame,t=X.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(X,(function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){e.lastRequestAnimationFrameId=-1,Cc(e),xc(e)}),void 0,(function(){}),(function(){}))),e.fakeTopEventTask.invoke()})),Cc(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return Sc(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Oc(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return Sc(n),e.invoke(r,i,o,a,s)}finally{Oc(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Cc(n),xc(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return m(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,_c,kc,kc);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function kc(){}var _c={};function xc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Cc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Sc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Oc(e){e._nesting--,xc(e)}var Tc=function(){function e(){b(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rs,this.onMicrotaskEmpty=new Rs,this.onStable=new Rs,this.onError=new Rs}return m(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Ec=function(){var e=function(){function e(t){var n=this;b(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return m(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Hc.assertNotInAngularZone(),Ic((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Ic((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(de(Hc))},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}(),Ac=function(){var e=function(){function e(){b(this,e),this._applications=new Map,Mc.addToWindow(this)}return m(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Mc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}();function Pc(e){Mc=e}var jc,Mc=new(function(){function e(){b(this,e)}return m(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Rc=new re("AllowMultipleToken"),Nc=function e(t,n){b(this,e),this.name=t,this.token=n};function Dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new re(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Fc();if(!o||o.injector.get(Rc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Ho,useValue:"platform"});!function(e){if(jc&&!jc.destroyed&&!jc.injector.get(Rc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jc=e.get(qc);var t=e.get(ac,null);t&&t.forEach((function(e){return e()}))}(Ro.create({providers:a,name:r}))}return function(e){var t=Fc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Fc(){return jc&&!jc.destroyed?jc:null}var qc=function(){var e=function(){function e(t){b(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return m(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Tc:("zone.js"===n?void 0:n)||new Hc({enableLongStackTrace:er(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Hc,useValue:o}];return o.run((function(){var t=Ro.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Dn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Gc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(nc)).runInitializers(),a.donePromise.then((function(){return Os(n.injector.get(uc,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return oa(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Lc({},n);return function(e,t,n){var r=new As(n);return Promise.resolve(r)}(0,0,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Uc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(F(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(de(Ro))},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}();function Lc(e,t){return Array.isArray(t)?t.reduce(Lc,e):Object.assign(Object.assign({},e),t)}var Uc=function(){var e=function(){function e(t,n,r,i,o,a){var s=this;b(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=er(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var c=new f.a((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),l=new f.a((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Hc.assertNotInAngularZone(),Ic((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Hc.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(v.a)(c,l.pipe(Object(g.a)()))}return m(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Na?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(me),o=n.create(Ro.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ec,null);return a&&o.injector.get(Ac).registerApplication(o.location.nativeElement,a),this._loadComponent(o),er()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,r=n(this._views);try{for(r.s();!(t=r.n()).done;){t.value.detectChanges()}}catch(a){r.e(a)}finally{r.f()}if(this._enforceNoNewChanges){var i,o=n(this._views);try{for(o.s();!(i=o.n()).done;){i.value.checkNoChanges()}}catch(a){o.e(a)}finally{o.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Gc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(cc,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Gc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(de(Hc),de(lc),de(Ro),de(Dn),de(Fa),de(nc))},e.\u0275prov=O({token:e,factory:e.\u0275fac}),e}();function Gc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var zc=function e(){b(this,e)},Bc=function e(){b(this,e)},Vc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Wc=function(){var t=function(){function t(e,n){b(this,t),this._compiler=e,this._config=n||Vc}return m(t,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(t){var n=this,r=e(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),c("crnd")(i).then((function(e){return e[o]})).then((function(e){return Jc(e,i,o)})).then((function(e){return n._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),c("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Jc(e,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(de(yc),de(Bc,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t}();function Jc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Yc=function(e){return null},Xc=Dc(null,"core",[{provide:sc,useValue:"unknown"},{provide:qc,deps:[Ro]},{provide:Ac,deps:[]},{provide:lc,deps:[]}]),Qc=[{provide:Uc,useClass:Uc,deps:[Hc,lc,Ro,Dn,Fa,nc]},{provide:ms,deps:[Hc],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:nc,useClass:nc,deps:[[new H,tc]]},{provide:yc,useClass:yc,deps:[]},ic,{provide:is,useFactory:function(){return ss},deps:[]},{provide:os,useFactory:function(){return cs},deps:[]},{provide:uc,useFactory:function(e){return Os(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new I(uc),new H,new _]]},{provide:hc,useValue:"USD"}],Kc=function(){var e=function e(t){b(this,e)};return e.\u0275mod=Me({type:e}),e.\u0275inj=T({factory:function(t){return new(t||e)(de(Uc))},providers:Qc}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},itXk:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d}));var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),a=n("ZUHj"),c=n("yCtX"),u={};function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=void 0,a=void 0;return Object(r.a)(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(c.a)(t,a).lift(new d(o))}var d=function(){function e(t){b(this,e),this.resultSelector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new p(e,this.resultSelector))}}]),e}(),p=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return m(n,[{key:"_next",value:function(e){this.values.push(u),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a.a)(this,r,void 0,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o.a)},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){b(this,e),this.project=t,this.thisArg=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||h(o),o}return m(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},nYR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){b(this,e),this.callback=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.callback))}}]),e}(),c=function(e){s(n,e);var t=l(n);function n(e,r){var o;return b(this,n),(o=t.call(this,e)).add(new i.a(r)),o}return n}(r.a)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},oB13:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("EQ5u");function i(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(i,t));var a=Object.create(n,r.b);return a.source=n,a.subjectFactory=i,a}}var o=function(){function e(t,n){b(this,e),this.subjectFactory=t,this.selector=n}return m(e,[{key:"call",value:function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}]),e}()},ofXK:function(t,r,i){"use strict";i.d(r,"a",(function(){return S})),i.d(r,"b",(function(){return B})),i.d(r,"c",(function(){return p})),i.d(r,"d",(function(){return T})),i.d(r,"e",(function(){return g})),i.d(r,"f",(function(){return E})),i.d(r,"g",(function(){return x})),i.d(r,"h",(function(){return q})),i.d(r,"i",(function(){return U})),i.d(r,"j",(function(){return O})),i.d(r,"k",(function(){return f})),i.d(r,"l",(function(){return J})),i.d(r,"m",(function(){return W})),i.d(r,"n",(function(){return d})),i.d(r,"o",(function(){return V})),i.d(r,"p",(function(){return c})),i.d(r,"q",(function(){return D})),i.d(r,"r",(function(){return h}));var o=i("fXoL"),a=null;function c(){return a}function h(e){a||(a=e)}var d=function e(){b(this,e)},p=new o.q("DocumentToken"),f=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Bb)({factory:v,token:e,providedIn:"platform"}),e}();function v(){return Object(o.Mb)(y)}var g=new o.q("Location Initialized"),y=function(){var e=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this))._doc=e,r._init(),r}return m(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){w()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){w()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(o.Mb(p))},e.\u0275prov=Object(o.Bb)({factory:I,token:e,providedIn:"platform"}),e}();function w(){return!!window.history.pushState}function I(){return new y(Object(o.Mb)(p))}function H(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function k(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function _(e){return e&&"?"!==e[0]?"?"+e:e}var x=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Bb)({factory:C,token:e,providedIn:"root"}),e}();function C(e){var t=Object(o.Mb)(p).location;return new O(Object(o.Mb)(f),t&&t.origin||"")}var S=new o.q("appBaseHref"),O=function(){var e=function(e){s(n,e);var t=l(n);function n(e,r){var i;if(b(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,u(i)}return m(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return H(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+_(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+_(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+_(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(x);return e.\u0275fac=function(t){return new(t||e)(o.Mb(f),o.Mb(S,8))},e.\u0275prov=o.Bb({token:e,factory:e.\u0275fac}),e}(),T=function(){var e=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return m(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=H(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+_(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+_(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(x);return e.\u0275fac=function(t){return new(t||e)(o.Mb(f),o.Mb(S,8))},e.\u0275prov=o.Bb({token:e,factory:e.\u0275fac}),e}(),E=function(){var e=function(){function e(t,n){var r=this;b(this,e),this._subject=new o.n,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=k(P(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return m(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+_(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,P(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Mb(x),o.Mb(f))},e.normalizeQueryParams=_,e.joinWithSlash=H,e.stripTrailingSlash=k,e.\u0275prov=Object(o.Bb)({factory:A,token:e,providedIn:"root"}),e}();function A(){return new E(Object(o.Mb)(x),Object(o.Mb)(f))}function P(e){return e.replace(/\/index.html$/,"")}var j=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),M=o.jb,R=function e(){b(this,e)},N=function(){var e=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this)).locale=e,r}return m(n,[{key:"getPluralCategory",value:function(e,t){switch(M(t||this.locale)(e)){case j.Zero:return"zero";case j.One:return"one";case j.Two:return"two";case j.Few:return"few";case j.Many:return"many";default:return"other"}}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(o.Mb(o.u))},e.\u0275prov=o.Bb({token:e,factory:e.\u0275fac}),e}();function D(t,r){r=encodeURIComponent(r);var i,o=n(t.split(";"));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.indexOf("="),c=e(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),l=c[0],u=c[1];if(l.trim()===r)return decodeURIComponent(u)}}catch(h){o.e(h)}finally{o.f()}return null}var F=function(){function e(t,n,r,i){b(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return m(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),q=function(){var e=function(){function e(t,n,r){b(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return m(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new F(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new L(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var c=new L(e,s);n.push(c)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(o.S)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Fb(o.O),o.Fb(o.K),o.Fb(o.s))},e.\u0275dir=o.Ab({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),L=function e(t,n){b(this,e),this.record=t,this.view=n},U=function(){var e=function(){function e(t,n){b(this,e),this._viewContainer=t,this._context=new G,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return m(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){z("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){z("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Fb(o.O),o.Fb(o.K))},e.\u0275dir=o.Ab({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),G=function e(){b(this,e),this.$implicit=null,this.ngIf=null};function z(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(o.rb)(t),"'."))}var B=function(){var e=function e(){b(this,e)};return e.\u0275mod=o.Db({type:e}),e.\u0275inj=o.Cb({factory:function(t){return new(t||e)},providers:[{provide:R,useClass:N}]}),e}(),V="browser";function W(e){return e===V}var J=function(){var e=function e(){b(this,e)};return e.\u0275prov=Object(o.Bb)({token:e,providedIn:"root",factory:function(){return new Y(Object(o.Mb)(p),window,Object(o.Mb)(o.m))}}),e}(),Y=function(){function e(t,n,r){b(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return m(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var e=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(e){return!1}}}]),e}();function X(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){b(this,e),this.predicate=t,this.thisArg=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return m(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(r.a)},pjAE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),a=n("pjAE"),s=function(){var e,t=function(){function e(t){b(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return m(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,l=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(o.a)(l)){s&&(this._unsubscribe=void 0);try{l.call(this)}catch(f){t=f instanceof a.a?c(f.errors):[f]}}if(Object(r.a)(u))for(var d=-1,p=u.length;++d<p;){var b=u[d];if(Object(i.a)(b))try{b.unsubscribe()}catch(f){t=t||[],f instanceof a.a?t=t.concat(c(f.errors)):t.push(f)}}if(t)throw new a.a(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return t.EMPTY=((e=new t).closed=!0,e),t}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},rOQQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.zb({type:e,selectors:[["app-banner-shop"]],decls:10,vars:0,consts:[[1,"banner"],["href","https://nestjs.threadless.com/","target","_blank","title","Shop | NestJS - A node.js framework built on top of TypeScript",1,"btn-more"]],template:function(e,t){1&e&&(r.Ib(0,"div",0),r.Ib(1,"h2"),r.lc(2,"Hoodies, "),r.Ib(3,"span"),r.lc(4,"T-shirts"),r.Hb(),r.lc(5,", and accessories!"),r.Hb(),r.Ib(6,"p"),r.lc(7," Support our future development by shopping in the official store! "),r.Hb(),r.Ib(8,"a",1),r.lc(9,"See more"),r.Hb(),r.Hb())},styles:[".banner[_ngcontent-%COMP%] {\n        background-color: #111;\n        background-image: url('/assets/banners/shop.jpg');\n      }"],changeDetection:0}),e}()},sVev:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},tnsW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zx2A");function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){b(this,e),this.durationSelector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.durationSelector))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i}return m(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Object(r.c)(t,new r.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(r.b)},tyNb:function(e,r,i){"use strict";i.d(r,"a",(function(){return qe})),i.d(r,"b",(function(){return L})),i.d(r,"c",(function(){return cn})),i.d(r,"d",(function(){return $t})),i.d(r,"e",(function(){return rn})),i.d(r,"f",(function(){return tn})),i.d(r,"g",(function(){return mn})),i.d(r,"h",(function(){return on}));var o=i("ofXK"),a=i("fXoL"),c=i("LRne"),u=i("Cfvw"),d=i("2Vo4"),p=i("HDdC"),f=i("sVev"),v=i("itXk"),g=i("NXyV"),y=i("EY2u"),w=i("XNiG"),I=i("lJxs"),H=i("0EUg"),k=i("NJ9Y"),_=i("JIr8"),x=i("SxV6"),C=i("5+tZ"),S=i("vkgz"),O=i("Gi4w"),T=i("eIep"),E=i("IzEk"),A=i("JX91"),P=i("Kqap"),j=i("pLZG"),M=i("bOdf"),R=i("BFxc"),N=i("nYR2"),D=i("bHdf"),F=function e(t,n){b(this,e),this.id=t,this.url=n},q=function(e){s(n,e);var t=l(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return b(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return m(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(F),L=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return m(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(F),U=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e,r)).reason=i,o}return m(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(F),G=function(e){s(n,e);var t=l(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e,r)).error=i,o}return m(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(F),z=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(F),B=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(F),V=function(e){s(n,e);var t=l(n);function n(e,r,i,o,a){var s;return b(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return m(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(F),W=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(F),J=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(F),Y=function(){function e(t){b(this,e),this.route=t}return m(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),X=function(){function e(t){b(this,e),this.route=t}return m(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Q=function(){function e(t){b(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),K=function(){function e(t){b(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Z=function(){function e(t){b(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),$=function(){function e(t){b(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ee=function(){function e(t,n,r){b(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return m(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),te=function(){function e(t){b(this,e),this.params=t||{}}return m(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ne(e){return new te(e)}function re(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ie(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function oe(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ae(e[n=r[o]],t[n]))return!1;return!0}function ae(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function se(e){return Array.prototype.concat.apply([],e)}function ce(e){return e.length>0?e[e.length-1]:null}function le(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ue(e){return Object(a.nb)(e)?e:Object(a.ob)(e)?Object(u.a)(Promise.resolve(e)):Object(c.a)(e)}function he(e,t,n){return n?function(e,t){return oe(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!fe(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return ae(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!fe(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!fe(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!fe(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var de=function(){function e(t,n,r){b(this,e),this.root=t,this.queryParams=n,this.fragment=r}return m(e,[{key:"toString",value:function(){return ye.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ne(this.queryParams)),this._queryParamMap}}]),e}(),pe=function(){function e(t,n){var r=this;b(this,e),this.segments=t,this.children=n,this.parent=null,le(n,(function(e,t){return e.parent=r}))}return m(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return we(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),be=function(){function e(t,n){b(this,e),this.path=t,this.parameters=n}return m(e,[{key:"toString",value:function(){return Ce(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ne(this.parameters)),this._parameterMap}}]),e}();function fe(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function me(e,t){var n=[];return le(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),le(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var ve=function e(){b(this,e)},ge=function(){function e(){b(this,e)}return m(e,[{key:"parse",value:function(e){var t=new Ae(e);return new de(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return we(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return le(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=me(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(we(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(He(e),"=").concat(He(t))})).join("&"):"".concat(He(e),"=").concat(He(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),ye=new ge;function we(e){return e.segments.map((function(e){return Ce(e)})).join("/")}function Ie(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function He(e){return Ie(e).replace(/%3B/gi,";")}function ke(e){return Ie(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _e(e){return decodeURIComponent(e)}function xe(e){return _e(e.replace(/\+/g,"%20"))}function Ce(e){return"".concat(ke(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(ke(e),"=").concat(ke(t[e]))})).join("")));var t}var Se=/^[^\/()?;=#]+/;function Oe(e){var t=e.match(Se);return t?t[0]:""}var Te=/^[^=?&#]+/,Ee=/^[^?&#]+/,Ae=function(){function e(t){b(this,e),this.url=t,this.remaining=t}return m(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new pe(e,t)),n}},{key:"parseSegment",value:function(){var e=Oe(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new be(_e(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Oe(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Oe(this.remaining);r&&(n=r,this.capture(n))}e[_e(t)]=_e(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Te);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Ee);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=xe(t),o=xe(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Oe(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new pe([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Pe=function(){function e(t){b(this,e),this._root=t}return m(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=je(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=je(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Me(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Me(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function je(e,t){if(e===t.value)return t;var r,i=n(t.children);try{for(i.s();!(r=i.n()).done;){var o=je(e,r.value);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return null}function Me(e,t){if(e===t.value)return[t];var r,i=n(t.children);try{for(i.s();!(r=i.n()).done;){var o=Me(e,r.value);if(o.length)return o.unshift(t),o}}catch(a){i.e(a)}finally{i.f()}return[]}var Re=function(){function e(t,n){b(this,e),this.value=t,this.children=n}return m(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ne(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var De=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).snapshot=r,ze(h(i),e),i}return m(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Pe);function Fe(e,t){var n=function(e,t){var n=new Ue([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Ge("",new Re(n,[]))}(e,t),r=new d.a([new be("",{})]),i=new d.a({}),o=new d.a({}),a=new d.a({}),s=new d.a(""),c=new qe(r,i,a,s,o,"primary",t,n.root);return c.snapshot=n.root,new De(new Re(c,[]),n)}var qe=function(){function e(t,n,r,i,o,a,s,c){b(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return m(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(I.a)((function(e){return ne(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(I.a)((function(e){return ne(e)})))),this._queryParamMap}}]),e}();function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Ue=function(){function e(t,n,r,i,o,a,s,c,l,u,h){b(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=h}return m(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ne(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ne(this.queryParams)),this._queryParamMap}}]),e}(),Ge=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,r)).url=e,ze(h(i),r),i}return m(n,[{key:"toString",value:function(){return Be(this._root)}}]),n}(Pe);function ze(e,t){t.value._routerState=e,t.children.forEach((function(t){return ze(e,t)}))}function Be(e){var t=e.children.length>0?" { ".concat(e.children.map(Be).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Ve(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,oe(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),oe(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!oe(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),oe(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function We(e,t){var n,r;return oe(e.params,t.params)&&fe(n=e.url,r=t.url)&&n.every((function(e,t){return oe(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||We(e.parent,t.parent))}function Je(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ye(e,t,n,r,i){var o={};return r&&le(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new de(n.root===e?t:function e(t,n,r){var i={};return le(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new pe(t.segments,i)}(n.root,e,t),o,i)}var Xe=function(){function e(t,n,r){if(b(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Je(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==ce(r))throw new Error("{outlets:{}} has to be the last command")}return m(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Qe=function e(t,n,r){b(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Ke(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Ze(e,t,n){if(e||(e=new pe([],{})),0===e.segments.length&&e.hasChildren())return $e(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=Ke(n[r]),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!rt(s,c,a))return o;r+=2}else{if(!rt(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new pe(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new pe(e.segments.slice(r.pathIndex),e.children),$e(o,0,i)}return r.match&&0===i.length?new pe(e.segments,{}):r.match&&!e.hasChildren()?et(e,t,n):r.match?$e(e,0,i):et(e,t,n)}function $e(e,t,n){if(0===n.length)return new pe(e.segments,{});var r=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e}}(n),i={};return le(r,(function(n,r){null!==n&&(i[r]=Ze(e.children[r],t,n))})),le(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new pe(e.segments,i)}function et(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){var o=tt(n[i].outlets);return new pe(r,o)}if(0===i&&Je(n[0]))r.push(new be(e.segments[t].path,n[0])),i++;else{var a=Ke(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Je(s)?(r.push(new be(a,nt(s))),i+=2):(r.push(new be(a,{})),i++)}}return new pe(r,{})}function tt(e){var t={};return le(e,(function(e,n){null!==e&&(t[n]=et(new pe([],{}),0,e))})),t}function nt(e){var t={};return le(e,(function(e,n){return t[n]=""+e})),t}function rt(e,t,n){return e==n.path&&oe(t,n.parameters)}var it=function(){function e(t,n,r,i){b(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return m(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Ve(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Ne(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),le(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Ne(e),o=e.value.component?r.children:t;le(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Ne(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new $(e.value.snapshot))})),e.children.length&&this.forwardEvent(new K(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Ve(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ot(s.route)}else{var c=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function ot(e){Ve(e.value),e.children.forEach(ot)}var at=function e(t,n){b(this,e),this.routes=t,this.module=n};function st(e){return"function"==typeof e}function ct(e){return e instanceof de}var lt=function e(t){b(this,e),this.segmentGroup=t||null},ut=function e(t){b(this,e),this.urlTree=t};function ht(e){return new p.a((function(t){return t.error(new lt(e))}))}function dt(e){return new p.a((function(t){return t.error(new ut(e))}))}function pt(e){return new p.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var bt=function(){function e(t,n,r,i,o){b(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(a.x)}return m(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(I.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(_.a)((function(t){if(t instanceof ut)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof lt)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(I.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(_.a)((function(e){if(e instanceof lt)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new pe([],{primary:e}):e;return new de(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(I.a)((function(e){return new pe([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(c.a)({});var o=[],a=[],s={};return le(n,(function(n,i){var c,l,u=(c=i,l=n,r.expandSegmentGroup(e,t,l,c)).pipe(Object(I.a)((function(e){return s[i]=e})));"primary"===i?o.push(u):a.push(u)})),c.a.apply(null,o.concat(a)).pipe(Object(H.a)(),Object(k.a)(),Object(I.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,n,r,i,o,a){var s=this;return Object(c.a).apply(void 0,t(r)).pipe(Object(I.a)((function(t){return s.expandSegmentAgainstRoute(e,n,r,t,i,o,a).pipe(Object(_.a)((function(e){if(e instanceof lt)return Object(c.a)(null);throw e})))})),Object(H.a)(),Object(x.a)((function(e){return!!e})),Object(_.a)((function(e,t){if(e instanceof f.a||"EmptyError"===e.name){if(s.noLeftoversInUrl(n,i,o))return Object(c.a)(new pe([],{}));throw new lt(n)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return gt(r)!==o?ht(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):ht(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dt(o):this.lineralizeSegments(n,o).pipe(Object(C.b)((function(n){var o=new pe(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=ft(t,r,i),c=s.matched,l=s.consumedSegments,u=s.lastChild,h=s.positionalParamSegments;if(!c)return ht(t);var d=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?dt(d):this.lineralizeSegments(r,d).pipe(Object(C.b)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,r,i){var o=this;if("**"===r.path)return r.loadChildren?this.configLoader.load(e.injector,r).pipe(Object(I.a)((function(e){return r._loadedConfig=e,new pe(i,{})}))):Object(c.a)(new pe(i,{}));var a=ft(t,r,i),s=a.matched,l=a.consumedSegments,u=a.lastChild;if(!s)return ht(t);var h=i.slice(u);return this.getChildConfig(e,r,i).pipe(Object(C.b)((function(e){var r=e.module,i=e.routes,a=function(e,t,r,i){return r.length>0&&function(e,t,n){return n.some((function(n){return vt(e,t,n)&&"primary"!==gt(n)}))}(e,r,i)?{segmentGroup:mt(new pe(t,function(e,t){var r={};r.primary=t;var i,o=n(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;""===a.path&&"primary"!==gt(a)&&(r[gt(a)]=new pe([],{}))}}catch(s){o.e(s)}finally{o.f()}return r}(i,new pe(r,e.children)))),slicedSegments:[]}:0===r.length&&function(e,t,n){return n.some((function(n){return vt(e,t,n)}))}(e,r,i)?{segmentGroup:mt(new pe(e.segments,function(e,t,r,i){var o,a={},s=n(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;vt(e,t,c)&&!i[gt(c)]&&(a[gt(c)]=new pe([],{}))}}catch(l){s.e(l)}finally{s.f()}return Object.assign(Object.assign({},i),a)}(e,r,i,e.children))),slicedSegments:r}:{segmentGroup:e,slicedSegments:r}}(t,l,h,i),s=a.segmentGroup,u=a.slicedSegments;return 0===u.length&&s.hasChildren()?o.expandChildren(r,i,s).pipe(Object(I.a)((function(e){return new pe(l,e)}))):0===i.length&&0===u.length?Object(c.a)(new pe(l,{})):o.expandSegment(r,s,i,u,"primary",!0).pipe(Object(I.a)((function(e){return new pe(l.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(c.a)(new at(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(c.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(C.b)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(I.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new p.a((function(t){return t.error(re("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(c.a)(new at([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?Object(u.a)(i).pipe(Object(I.a)((function(r){var i,o=e.get(r);if(function(e){return e&&st(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!st(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return ue(i)}))).pipe(Object(H.a)(),Object(S.a)((function(e){if(ct(e)){var t=re('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}})),Object(O.a)((function(e){return!0===e}))):Object(c.a)(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(c.a)(n);if(r.numberOfChildren>1||!r.children.primary)return pt(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new de(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return le(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return le(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new pe(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var r,i=0,o=n(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.path===e.path)return t.splice(i),a;i++}}catch(s){o.e(s)}finally{o.f()}return e}}]),e}();function ft(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||ie)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mt(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new pe(e.segments.concat(t.segments),t.children)}return e}function vt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gt(e){return e.outlet||"primary"}var yt=function e(t){b(this,e),this.path=t,this.route=this.path[this.path.length-1]},wt=function e(t,n){b(this,e),this.component=t,this.route=n};function It(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ht(e,t,n){var r=Ne(e),i=e.value;le(r,(function(e,r){Ht(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new wt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var kt=Symbol("INITIAL_VALUE");function _t(){return Object(T.a)((function(e){return Object(v.b).apply(void 0,t(e.map((function(e){return e.pipe(Object(E.a)(1),Object(A.a)(kt))})))).pipe(Object(P.a)((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==kt)return e;if(r===kt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||ct(r))return r}return e}),e)}),kt),Object(j.a)((function(e){return e!==kt})),Object(I.a)((function(e){return ct(e)?e:!0===e})),Object(E.a)(1))}))}function xt(e,t){return null!==e&&t&&t(new Z(e)),Object(c.a)(!0)}function Ct(e,t){return null!==e&&t&&t(new Q(e)),Object(c.a)(!0)}function St(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(c.a)(!0);var i=r.map((function(r){return Object(g.a)((function(){var i,o=It(r,t,n);if(function(e){return e&&st(e.canActivate)}(o))i=ue(o.canActivate(t,e));else{if(!st(o))throw new Error("Invalid CanActivate guard");i=ue(o(t,e))}return i.pipe(Object(x.a)())}))}));return Object(c.a)(i).pipe(_t())}function Ot(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Object(g.a)((function(){var i=t.guards.map((function(i){var o,a=It(i,t.node,n);if(function(e){return e&&st(e.canActivateChild)}(a))o=ue(a.canActivateChild(r,e));else{if(!st(a))throw new Error("Invalid CanActivateChild guard");o=ue(a(r,e))}return o.pipe(Object(x.a)())}));return Object(c.a)(i).pipe(_t())}))}));return Object(c.a)(i).pipe(_t())}var Tt=function e(){b(this,e)},Et=function(){function e(t,n,r,i,o,a){b(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return m(e,[{key:"recognize",value:function(){try{var e=jt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Ue([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Re(n,t),i=new Ge(this.url,r);return this.inheritParamsAndData(i._root),Object(c.a)(i)}catch(o){return new p.a((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Le(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=me(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,r,i){var o,a=n(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;try{return this.processSegmentAgainstRoute(s,t,r,i)}catch(c){if(!(c instanceof Tt))throw c}}}catch(l){a.e(l)}finally{a.f()}if(this.noLeftoversInUrl(t,r,i))return[];throw new Tt}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Tt;if((e.outlet||"primary")!==r)throw new Tt;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?ce(n).parameters:{};i=new Ue(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nt(e),r,e.component,e,At(t),Pt(t)+n.length,Dt(e))}else{var c=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Tt;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||ie)(n,e,t);if(!r)throw new Tt;var i={};le(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=c.consumedSegments,a=n.slice(c.lastChild),i=new Ue(o,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nt(e),r,e.component,e,At(t),Pt(t)+o.length,Dt(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=jt(t,o,a,l,this.relativeLinkResolution),h=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(l,h);return[new Re(i,p)]}if(0===l.length&&0===d.length)return[new Re(i,[])];var b=this.processSegment(l,h,d,"primary");return[new Re(i,b)]}}]),e}();function At(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Pt(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function jt(e,t,r,i,o){if(r.length>0&&function(e,t,n){return n.some((function(n){return Mt(e,t,n)&&"primary"!==Rt(n)}))}(e,r,i)){var a=new pe(t,function(e,t,r,i){var o={};o.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var a,s=n(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(""===c.path&&"primary"!==Rt(c)){var l=new pe([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,o[Rt(c)]=l}}}catch(u){s.e(u)}finally{s.f()}return o}(e,t,i,new pe(r,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function(e,t,n){return n.some((function(n){return Mt(e,t,n)}))}(e,r,i)){var s=new pe(e.segments,function(e,t,r,i,o,a){var s,c={},l=n(i);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(Mt(e,r,u)&&!o[Rt(u)]){var h=new pe([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===a?e.segments.length:t.length,c[Rt(u)]=h}}}catch(d){l.e(d)}finally{l.f()}return Object.assign(Object.assign({},o),c)}(e,t,r,i,e.children,o));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:r}}var c=new pe(e.segments,e.children);return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:r}}function Mt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Rt(e){return e.outlet||"primary"}function Nt(e){return e.data||{}}function Dt(e){return e.resolve||{}}function Ft(e){return function(t){return t.pipe(Object(T.a)((function(t){var n=e(t);return n?Object(u.a)(n).pipe(Object(I.a)((function(){return t}))):Object(u.a)([t])})))}}var qt=function(){function e(){b(this,e)}return m(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Lt=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.zb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&a.Gb(0,"router-outlet")},directives:function(){return[on]},encapsulation:2}),e}();function Ut(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Gt(r,zt(t,r))}}function Gt(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Ut(e.children,t)}function zt(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Bt(e){var t=e.children&&e.children.map(Bt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Lt),n}var Vt=new a.q("ROUTES"),Wt=function(){function e(t,n,r,i){b(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return m(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(I.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new at(se(i.injector.get(Vt)).map(Bt),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(u.a)(this.loader.load(e)):ue(e()).pipe(Object(C.b)((function(e){return e instanceof a.v?Object(c.a)(e):Object(u.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),Jt=function e(){b(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Yt,this.attachRef=null},Yt=function(){function e(){b(this,e),this.contexts=new Map}return m(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Jt,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Xt=function(){function e(){b(this,e)}return m(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Qt(e){throw e}function Kt(e,t,n){return t.parse("/")}function Zt(e,t){return Object(c.a)(null)}var $t=function(){var e=function(){function e(t,n,r,i,o,s,c,l){var u=this;b(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new w.a,this.errorHandler=Qt,this.malformedUriErrorHandler=Kt,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zt,afterPreactivation:Zt},this.urlHandlingStrategy=new Xt,this.routeReuseStrategy=new qt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(a.x),this.console=o.get(a.V);var h=o.get(a.z);this.isNgZoneEnabled=h instanceof a.z,this.resetConfig(l),this.currentUrlTree=new de(new pe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wt(s,c,(function(e){return u.triggerEvent(new Y(e))}),(function(e){return u.triggerEvent(new X(e))})),this.routerState=Fe(this.currentUrlTree,this.rootComponentType),this.transitions=new d.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return m(e,[{key:"setupNavigations",value:function(e){var t=this,r=this.events;return e.pipe(Object(j.a)((function(e){return 0!==e.id})),Object(I.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Object(T.a)((function(e){var i,o,a,s=!1,l=!1;return Object(c.a)(e).pipe(Object(S.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(T.a)((function(e){var n,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(c.a)(e).pipe(Object(T.a)((function(e){var n=t.transitions.getValue();return r.next(new q(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==t.transitions.getValue()?y.a:[e]})),Object(T.a)((function(e){return Promise.resolve(e)})),(n=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Object(T.a)((function(e){return function(e,t,n,r,i){return new bt(e,t,n,r,i).apply()}(n,i,o,e.extractedUrl,a).pipe(Object(I.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(S.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(C.b)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Et(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(I.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(S.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(S.a)((function(e){var n=new z(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);r.next(n)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,u=e.extractedUrl,h=e.source,d=e.restoredState,p=e.extras,b=new q(l,t.serializeUrl(u),h,d);r.next(b);var f=Fe(u,t.rootComponentType).snapshot;return Object(c.a)(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:u,extras:Object.assign(Object.assign({},p),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),y.a})),Ft((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(S.a)((function(e){var n=new B(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(I.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Ne(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,c=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!fe(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fe(e.url,t.url)||!oe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!We(e,t)||!oe(e.queryParams,t.queryParams);case"paramsChange":default:return!We(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new yt(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?c?c.children:null:r,i,o),l&&o.canDeactivateChecks.push(new wt(c&&c.outlet&&c.outlet.component||null,s))}else s&&Ht(n,c,o),o.canActivateChecks.push(new yt(i)),e(t,null,a.component?c?c.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),le(a,(function(e,t){return Ht(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(C.b)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(c.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(u.a)(e).pipe(Object(C.b)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(c.a)(!0);var a=o.map((function(o){var a,s=It(o,t,i);if(function(e){return e&&st(e.canDeactivate)}(s))a=ue(s.canDeactivate(e,t,n,r));else{if(!st(s))throw new Error("Invalid CanDeactivate guard");a=ue(s(e,t,n,r))}return a.pipe(Object(x.a)())}));return Object(c.a)(a).pipe(_t())}(e.component,e.route,n,t,r)})),Object(x.a)((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(C.b)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(u.a)(t).pipe(Object(M.a)((function(t){return Object(u.a)([Ct(t.route.parent,r),xt(t.route,r),Ot(e,t.path,n),St(e,t.route,n)]).pipe(Object(H.a)(),Object(x.a)((function(e){return!0!==e}),!0))})),Object(x.a)((function(e){return!0!==e}),!0))}(r,a,e,t):Object(c.a)(n)})),Object(I.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(S.a)((function(e){if(ct(e.guardsResult)){var n=re('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(S.a)((function(e){var n=new V(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(j.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var n=new U(e.id,t.serializeUrl(e.extractedUrl),"");return r.next(n),e.resolve(!1),!1}return!0})),Ft((function(e){if(e.guards.canActivateChecks.length)return Object(c.a)(e).pipe(Object(S.a)((function(e){var n=new W(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(T.a)((function(e){var n,i,o=!1;return Object(c.a)(e).pipe((n=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(Object(C.b)((function(e){var t=e.targetSnapshot,r=e.guards.canActivateChecks;if(!r.length)return Object(c.a)(e);var o=0;return Object(u.a)(r).pipe(Object(M.a)((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(c.a)({});var o={};return Object(u.a)(i).pipe(Object(C.b)((function(i){return function(e,t,n,r){var i=It(e,t,r);return ue(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(Object(S.a)((function(e){o[i]=e})))})),Object(R.a)(1),Object(C.b)((function(){return Object.keys(o).length===i.length?Object(c.a)(o):y.a})))}(e._resolve,e,t,r).pipe(Object(I.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Le(e,n).resolve),null})))}(e.route,t,n,i)})),Object(S.a)((function(){return o++})),Object(R.a)(1),Object(C.b)((function(t){return o===r.length?Object(c.a)(e):y.a})))})))}),Object(S.a)({next:function(){return o=!0},complete:function(){if(!o){var n=new U(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");r.next(n),e.resolve(!1)}}}))})),Object(S.a)((function(e){var n=new J(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})))})),Ft((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(I.a)((function(e){var r=function(e,t,r){var i=function e(t,r,i){if(i&&t.shouldReuseRoute(r.value,i.value.snapshot)){var o=i.value;o._futureSnapshot=r.value;var a=function(t,r,i){return r.children.map((function(r){var o,a=n(i.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t.shouldReuseRoute(s.value.snapshot,r.value))return e(t,r,s)}}catch(c){a.e(c)}finally{a.f()}return e(t,r)}))}(t,r,i);return new Re(o,a)}var s=t.retrieve(r.value);if(s){var c=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(r,c),c}var l,u=new qe(new d.a((l=r.value).url),new d.a(l.params),new d.a(l.queryParams),new d.a(l.fragment),new d.a(l.data),l.outlet,l.component,l),h=r.children.map((function(n){return e(t,n)}));return new Re(u,h)}(e,t._root,r?r._root:void 0);return new De(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:r})})),Object(S.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(I.a)((function(e){return new it(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Object(S.a)({next:function(){s=!0},complete:function(){s=!0}}),Object(N.a)((function(){if(!s&&!l){t.resetUrlToCurrentUrlTree();var n=new U(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));r.next(n),e.resolve(!1)}t.currentNavigation=null})),Object(_.a)((function(n){if(l=!0,(s=n)&&s.ngNavigationCancelingError){var i=ct(n.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new U(e.id,t.serializeUrl(e.extractedUrl),n.message);r.next(o),i?setTimeout((function(){var r=t.urlHandlingStrategy.merge(n.url,t.rawUrlTree);return t.scheduleNavigation(r,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new G(e.id,t.serializeUrl(e.extractedUrl),n);r.next(a);try{e.resolve(t.errorHandler(n))}catch(c){e.reject(c)}}var s;return y.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Ut(e),this.config=e.map(Bt),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.relativeTo,i=n.queryParams,o=n.fragment,s=n.preserveQueryParams,c=n.queryParamsHandling,l=n.preserveFragment;Object(a.S)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=r||this.routerState.root,h=l?this.currentUrlTree.fragment:o,d=null;if(c)switch(c){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=s?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(e,n,r,i,o){if(0===r.length)return Ye(n.root,n.root,n,i,o);var a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Xe(!0,0,e);var n=0,r=!1,i=e.reduce((function(e,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return le(i.outlets,(function(e,t){a[t]="string"==typeof e?e.split("/"):e})),[].concat(t(e),[{outlets:a}])}if(i.segmentPath)return[].concat(t(e),[i.segmentPath])}return"string"!=typeof i?[].concat(t(e),[i]):0===o?(i.split("/").forEach((function(t,i){0==i&&"."===t||(0==i&&""===t?r=!0:".."===t?n++:""!=t&&e.push(t))})),e):[].concat(t(e),[i])}),[]);return new Xe(r,n,i)}(r);if(a.toRoot())return Ye(n.root,new pe([],{}),n,i,o);var s=function(e,t,n){if(e.isAbsolute)return new Qe(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Qe(r,r===t.root,0)}var i=Je(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Qe(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(a,n,e),c=s.processChildren?$e(s.segmentGroup,s.index,a.commands):Ze(s.segmentGroup,s.index,a.commands);return Ye(s.segmentGroup,c,n,i,o)}(u,this.currentUrlTree,e,d,h)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(a.S)()&&this.isNgZoneEnabled&&!a.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ct(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(ct(e))return he(this.currentUrlTree,e,t);var n=this.parseUrl(e);return he(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new L(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,c=this.getTransition();if(c&&"imperative"!==t&&"imperative"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"hashchange"==t&&"popstate"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"popstate"==t&&"hashchange"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Mb(a.M),a.Mb(ve),a.Mb(Yt),a.Mb(o.f),a.Mb(a.r),a.Mb(a.w),a.Mb(a.i),a.Mb(void 0))},e.\u0275prov=a.Bb({token:e,factory:e.\u0275fac}),e}(),en=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new w.a,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return m(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"onClick",value:function(){var e={skipLocationChange:nn(this.skipLocationChange),replaceUrl:nn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(a.S)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:nn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:nn(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Fb($t),a.Fb(qe),a.Nb("tabindex"),a.Fb(a.D),a.Fb(a.l))},e.\u0275dir=a.Ab({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&a.Pb("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[a.ub]}),e}(),tn=function(){var e=function(){function e(t,n,r){var i=this;b(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new w.a,this.subscription=t.events.subscribe((function(e){e instanceof L&&i.updateTargetUrlAndHref()}))}return m(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:nn(this.skipLocationChange),replaceUrl:nn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(a.S)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:nn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:nn(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Fb($t),a.Fb(qe),a.Fb(o.g))},e.\u0275dir=a.Ab({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&a.Pb("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(a.Lb("href",t.href,a.gc),a.wb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[a.ub]}),e}();function nn(e){return""===e||!!e}var rn=function(){var e=function(){function e(t,n,r,i,o,a){var s=this;b(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe((function(e){e instanceof L&&s.update()}))}return m(e,[{key:"ngAfterContentInit",value:function(){var e=this;Object(u.a)([this.links.changes,this.linksWithHrefs.changes,Object(c.a)(null)]).pipe(Object(D.a)()).subscribe((function(t){e.update(),e.subscribeToEachLinkOnChanges()}))}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,n=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var r=[].concat(t(this.links.toArray()),t(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter((function(e){return!!e})).map((function(e){return e.onChanges}));this.linkInputChangesSubscription=Object(u.a)(r).pipe(Object(D.a)()).subscribe((function(e){n.isActive!==n.isLinkActive(n.router)(e)&&n.update()}))}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Fb($t),a.Fb(a.l),a.Fb(a.D),a.Fb(a.h),a.Fb(en,8),a.Fb(tn,8))},e.\u0275dir=a.Ab({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(a.yb(n,en,!0),a.yb(n,tn,!0)),2&e&&(a.cc(r=a.Qb())&&(t.links=r),a.cc(r=a.Qb())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[a.ub]}),e}(),on=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.n,this.deactivateEvents=new a.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return m(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new an(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Fb(Yt),a.Fb(a.O),a.Fb(a.j),a.Nb("name"),a.Fb(a.h))},e.\u0275dir=a.Ab({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),an=function(){function e(t,n,r){b(this,e),this.route=t,this.childContexts=n,this.parent=r}return m(e,[{key:"get",value:function(e,t){return e===qe?this.route:e===Yt?this.childContexts:this.parent.get(e,t)}}]),e}(),sn=function e(){b(this,e)},cn=function(){function e(){b(this,e)}return m(e,[{key:"preload",value:function(e,t){return t().pipe(Object(_.a)((function(){return Object(c.a)(null)})))}}]),e}(),ln=function(){function e(){b(this,e)}return m(e,[{key:"preload",value:function(e,t){return Object(c.a)(null)}}]),e}(),un=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Wt(n,r,(function(e){return t.triggerEvent(new Y(e))}),(function(e){return t.triggerEvent(new X(e))}))}return m(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(j.a)((function(e){return e instanceof L})),Object(M.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(a.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var r,i=[],o=n(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(e,a)):a.children&&i.push(this.processRoutes(e,a.children))}}catch(c){o.e(c)}finally{o.f()}return Object(u.a)(i).pipe(Object(D.a)(),Object(I.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(C.b)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Mb($t),a.Mb(a.w),a.Mb(a.i),a.Mb(a.r),a.Mb(sn))},e.\u0275prov=a.Bb({token:e,factory:e.\u0275fac}),e}(),hn=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return m(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof q?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof L&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof ee&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ee(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Mb($t),a.Mb(o.l),a.Mb(void 0))},e.\u0275prov=a.Bb({token:e,factory:e.\u0275fac}),e}(),dn=new a.q("ROUTER_CONFIGURATION"),pn=new a.q("ROUTER_FORROOT_GUARD"),bn=[o.f,{provide:ve,useClass:ge},{provide:$t,useFactory:function(e,t,n,r,i,a,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,h=new $t(null,e,t,n,r,i,a,se(s));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var d=Object(o.p)();h.events.subscribe((function(e){d.logGroup("Router Event: "+e.constructor.name),d.log(e.toString()),d.log(e),d.logGroupEnd()}))}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[ve,Yt,o.f,a.r,a.w,a.i,Vt,dn,[function(){return function e(){b(this,e)}}(),new a.A],[function(){return function e(){b(this,e)}}(),new a.A]]},Yt,{provide:qe,useFactory:function(e){return e.routerState.root},deps:[$t]},{provide:a.w,useClass:a.J},un,ln,cn,{provide:dn,useValue:{enableTracing:!1}}];function fn(){return new a.y("Router",$t)}var mn=function(){var e=function(){function e(t,n){b(this,e)}return m(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[bn,wn(t),{provide:pn,useFactory:yn,deps:[[$t,new a.A,new a.I]]},{provide:dn,useValue:n||{}},{provide:o.g,useFactory:gn,deps:[o.k,[new a.p(o.a),new a.A],dn]},{provide:hn,useFactory:vn,deps:[$t,o.l,dn]},{provide:sn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ln},{provide:a.y,multi:!0,useFactory:fn},[In,{provide:a.d,multi:!0,useFactory:Hn,deps:[In]},{provide:_n,useFactory:kn,deps:[In]},{provide:a.b,multi:!0,useExisting:_n}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[wn(t)]}}}]),e}();return e.\u0275mod=a.Db({type:e}),e.\u0275inj=a.Cb({factory:function(t){return new(t||e)(a.Mb(pn,8),a.Mb($t,8))}}),e}();function vn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new hn(e,t,n)}function gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new o.d(e,t):new o.j(e,t)}function yn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wn(e){return[{provide:a.a,multi:!0,useValue:e},{provide:Vt,multi:!0,useValue:e}]}var In=function(){var e=function(){function e(t){b(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new w.a}return m(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(o.e,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get($t),i=e.injector.get(dn);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(c.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(dn),n=this.injector.get(un),r=this.injector.get(hn),i=this.injector.get($t),o=this.injector.get(a.g);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Mb(a.r))},e.\u0275prov=a.Bb({token:e,factory:e.\u0275fac}),e}();function Hn(e){return e.appInitializer.bind(e)}function kn(e){return e.bootstrapListener.bind(e)}var _n=new a.q("Router Initializer")},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(t,n,r){b(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){s(n,e);var t=l(n);function n(e,r,a,s){var c;return b(this,n),(c=t.call(this,e))._tapNext=i.a,c._tapError=i.a,c._tapComplete=i.a,c._tapError=a||i.a,c._tapComplete=s||i.a,Object(o.a)(r)?(c._context=h(c),c._tapNext=r):r&&(c._context=r,c._tapNext=r.next||i.a,c._tapError=r.error||i.a,c._tapComplete=r.complete||i.a),c}return m(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(e){return Object(i.a)()(Object(r.a)(a)(e))}}},wZee:function(e,t,n){var r=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o;switch(n=n||{},r.util.type(t)){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var a in n[o]=i={},t)t.hasOwnProperty(a)&&(i[a]=e(t[a],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(n[o]=i=[],t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c]);n.hasOwnProperty(s)||(a[s]=o[s])}var l=i[e];return i[e]=a,r.languages.DFS(r.languages,(function(t,n){n===l&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var c=t[s],l=r.util.type(c);"Object"!==l||o[a(c)]?"Array"!==l||o[a(c)]||(o[a(c)]=!0,e(c,n,s,o)):(o[a(c)]=!0,e(c,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),r.hooks.run("before-all-elements-highlight",i);for(var o,a=0;o=i.elements[a++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(n,i,o){var a=r.util.getLanguage(n),s=r.languages[a];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a;var c=n.parentElement;c&&"pre"===c.nodeName.toLowerCase()&&(c.className=c.className.replace(t,"").replace(/\s+/g," ")+" language-"+a);var l={element:n,language:a,grammar:s,code:n.textContent};function u(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(i&&e.Worker){var h=new Worker(r.filename);h.onmessage=function(e){u(e.data)},h.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else u(r.highlight(l.code,l.grammar,l.language));else u(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var c in n)t[c]=n[c];delete t.rest}var l=new o;return a(l,l.head,e),function e(t,n,o,c,l,u){for(var h in o)if(o.hasOwnProperty(h)&&o[h]){var d=o[h];d=Array.isArray(d)?d:[d];for(var p=0;p<d.length;++p){if(u&&u.cause==h+","+p)return;var b=d[p],f=b.inside,m=!!b.lookbehind,v=!!b.greedy,g=0,y=b.alias;if(v&&!b.pattern.global){var w=b.pattern.toString().match(/[imsuy]*$/)[0];b.pattern=RegExp(b.pattern.source,w+"g")}for(var I=b.pattern||b,H=c.next,k=l;H!==n.tail&&!(u&&k>=u.reach);k+=H.value.length,H=H.next){var _=H.value;if(n.length>t.length)return;if(!(_ instanceof i)){var x=1;if(v&&H!=n.tail.prev){if(I.lastIndex=k,!(E=I.exec(t)))break;var C=E.index+(m&&E[1]?E[1].length:0),S=E.index+E[0].length,O=k;for(O+=H.value.length;C>=O;)O+=(H=H.next).value.length;if(k=O-=H.value.length,H.value instanceof i)continue;for(var T=H;T!==n.tail&&(O<S||"string"==typeof T.value);T=T.next)x++,O+=T.value.length;x--,_=t.slice(k,O),E.index-=k}else{I.lastIndex=0;var E=I.exec(_)}if(E){m&&(g=E[1]?E[1].length:0),C=E.index+g;var A=E[0].slice(g),P=(S=C+A.length,_.slice(0,C)),j=_.slice(S),M=k+_.length;u&&M>u.reach&&(u.reach=M);var R=H.prev;P&&(R=a(n,R,P),k+=P.length),s(n,R,x),H=a(n,R,new i(h,f?r.tokenize(A,f):A,y,A)),j&&a(n,H,j),x>1&&e(t,n,o,H.prev,k,{cause:h+","+p,reach:M})}}}}}}(e,l,t,l.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(l)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function o(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function a(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function s(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=r,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var i="";return t.forEach((function(t){i+=e(t,n)})),i}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),r.hooks.run("wrap",o);var s="";for(var c in o.attributes)s+=" "+c+'="'+(o.attributes[c]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),i=n.language,o=n.immediateClose;e.postMessage(r.highlight(n.code,r.languages[i],i)),o&&e.close()}),!1),r):r;var c=r.util.currentScript();function l(){r.manual||r.highlightAll()}if(c&&(r.filename=c.src,c.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var u=document.readyState;"loading"===u||"interactive"===u&&c&&c.defer?document.addEventListener("DOMContentLoaded",l):window.requestAnimationFrame?window.requestAnimationFrame(l):window.setTimeout(l,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),"undefined"!=typeof global&&(global.Prism=r),r.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:i},r.languages.insertBefore("markup","cdata",o)}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\((?!\s*\))\s*)(?:[^()]|\((?:[^()]|\([^()]*\))*\))+?(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}}}),r.languages.markup&&r.languages.markup.tag.addInlined("script","javascript"),r.languages.js=r.languages.javascript,function(){if("undefined"!=typeof self&&self.Prism&&self.document){var e=window.Prism,t={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',r=/\blang(?:uage)?-([\w-]+)\b/i;e.hooks.add("before-highlightall",(function(e){e.selector+=", "+n})),e.hooks.add("before-sanity-check",(function(r){var i=r.element;if(i.matches(n)){r.code="",i.setAttribute("data-src-status","loading");var a=i.appendChild(document.createElement("CODE"));a.textContent="Loading\u2026";var s=i.getAttribute("data-src"),c=r.language;if("none"===c){var l=(/\.(\w+)$/.exec(s)||[,"none"])[1];c=t[l]||l}o(a,c),o(i,c);var u=e.plugins.autoloader;u&&u.loadLanguages(c);var h=new XMLHttpRequest;h.open("GET",s,!0),h.onreadystatechange=function(){4==h.readyState&&(h.status<400&&h.responseText?(i.setAttribute("data-src-status","loaded"),a.textContent=h.responseText,e.highlightElement(a)):(i.setAttribute("data-src-status","failed"),a.textContent=h.status>=400?"\u2716 Error "+h.status+" while fetching file: "+h.statusText:"\u2716 Error: File does not exist or is empty"))},h.send(null)}})),e.plugins.fileHighlight={highlight:function(t){for(var r,i=(t||document).querySelectorAll(n),o=0;r=i[o++];)e.highlightElement(r)}};var i=!1;e.fileHighlight=function(){i||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),i=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}function o(e,t){var n=e.className;n=n.replace(r," ")+" language-"+t,e.className=n.replace(/\s+/g," ").trim()}}()},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(e){return e.lift(new o(e))}}var o=function(){function e(t){b(this,e),this.connectable=t}return m(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).connectable=r,i}return m(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},xE8d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){var e=function(){function e(){b(this,e)}return m(e,[{key:"transform",value:function(e,t){return t?e+".js":e+".ts"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Eb({name:"extension",type:e,pure:!0}),e}()},xbPD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){b(this,e),this.defaultValue=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.defaultValue))}}]),e}(),a=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return m(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},xgIS:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var i=r("HDdC"),o=r("DH7j"),a=r("n6bG"),s=r("lJxs");function c(e,n,r,l){return Object(a.a)(r)&&(l=r,r=void 0),l?c(e,n,r).pipe(Object(s.a)((function(e){return Object(o.a)(e)?l.apply(void 0,t(e)):l(e)}))):new i.a((function(t){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,r),a=function(){return c.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,h=t.length;u<h;u++)e(t[u],n,r,i,o)}i.add(a)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,r)}))}},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zUnb:function(r,i,o){"use strict";o.r(i);var c=o("fXoL"),u=o("LRne"),h=o("HDdC"),d=o("bOdf"),f=o("pLZG"),v=o("lJxs"),g=o("ofXK"),y=function e(){b(this,e)},w=function e(){b(this,e)},I=function(){function e(t){var n=this;b(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return m(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var n=e.name.toLowerCase();switch(e.op){case"a":case"s":var r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);var i=("a"===e.op?this.headers.get(n):void 0)||[];i.push.apply(i,t(r)),this.headers.set(n,i);break;case"d":var o=e.value;if(o){var a=this.headers.get(n);if(!a)return;0===(a=a.filter((function(e){return-1===o.indexOf(e)}))).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}else this.headers.delete(n),this.normalizedNames.delete(n)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),H=function(){function e(){b(this,e)}return m(e,[{key:"encodeKey",value:function(e){return k(e)}},{key:"encodeValue",value:function(e){return k(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function k(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var _=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(b(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new H,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.split("&").forEach((function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],c=r.get(a)||[];c.push(s),r.set(a,c)})),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach((function(e){var t=r.fromObject[e];n.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return m(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function x(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function C(e){return"undefined"!=typeof Blob&&e instanceof Blob}function S(e){return"undefined"!=typeof FormData&&e instanceof FormData}var O=function(){function e(t,n,r,i){var o;if(b(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new I),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new _,this.urlWithParams=n}return m(e,[{key:"serializeBody",value:function(){return null===this.body?null:x(this.body)||C(this.body)||S(this.body)||"string"==typeof this.body?this.body:this.body instanceof _?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||S(this.body)?null:C(this.body)?this.body.type||null:x(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),l)),new e(n,r,o,{params:l,headers:c,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),T=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";b(this,e),this.headers=t.headers||new I,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},A=function(e){s(n,e);var t=l(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this,n),(e=t.call(this,r)).type=T.ResponseHeader,e}return m(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(E),P=function(e){s(n,e);var t=l(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this,n),(e=t.call(this,r)).type=T.Response,e.body=void 0!==r.body?r.body:null,e}return m(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(E),j=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(E);function M(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var R,N,D,F,q,L,U,G,z,B,V,W,J,Y=((R=function(){function e(t){b(this,e),this.handler=t}return m(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof O)n=e;else{var o=void 0;o=i.headers instanceof I?i.headers:new I(i.headers);var a=void 0;i.params&&(a=i.params instanceof _?i.params:new _({fromObject:i.params})),n=new O(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(u.a)(n).pipe(Object(d.a)((function(e){return r.handler.handle(e)})));if(e instanceof O||"events"===i.observe)return s;var c=s.pipe(Object(f.a)((function(e){return e instanceof P})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(Object(v.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return c.pipe(Object(v.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return c.pipe(Object(v.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return c.pipe(Object(v.a)((function(e){return e.body})))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new _).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,M(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,M(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,M(n,t))}}]),e}()).\u0275fac=function(e){return new(e||R)(c.Mb(y))},R.\u0275prov=c.Bb({token:R,factory:R.\u0275fac}),R),X=function(){function e(t,n){b(this,e),this.next=t,this.interceptor=n}return m(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Q=new c.q("HTTP_INTERCEPTORS"),K=((N=function(){function e(){b(this,e)}return m(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275prov=c.Bb({token:N,factory:N.\u0275fac}),N),Z=/^\)\]\}',?\n/,$=function e(){b(this,e)},ee=((F=function(){function e(){b(this,e)}return m(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||F)},F.\u0275prov=c.Bb({token:F,factory:F.\u0275fac}),F),te=((D=function(){function e(t){b(this,e),this.xhrFactory=t}return m(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new h.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new I(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new A({headers:i,status:t,statusText:n,url:o})},l=function(){var t=c(),i=t.headers,o=t.status,a=t.statusText,s=t.url,l=null;204!==o&&(l=void 0===r.response?r.responseText:r.response),0===o&&(o=l?200:0);var u=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(Z,"");try{l=""!==l?JSON.parse(l):null}catch(d){l=h,u&&(u=!1,l={error:d,text:l})}}u?(n.next(new P({body:l,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new j({error:l,headers:i,status:o,statusText:a,url:s||void 0}))},u=function(e){var t=c().url,i=new j({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(c()),h=!0);var i={type:T.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:T.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",u),e.reportProgress&&(r.addEventListener("progress",d),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:T.Sent}),function(){r.removeEventListener("error",u),r.removeEventListener("load",l),e.reportProgress&&(r.removeEventListener("progress",d),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.readyState!==r.DONE&&r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||D)(c.Mb($))},D.\u0275prov=c.Bb({token:D,factory:D.\u0275fac}),D),ne=new c.q("XSRF_COOKIE_NAME"),re=new c.q("XSRF_HEADER_NAME"),ie=function e(){b(this,e)},oe=((z=function(){function e(t,n,r){b(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return m(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(g.q)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||z)(c.Mb(g.c),c.Mb(c.B),c.Mb(ne))},z.\u0275prov=c.Bb({token:z,factory:z.\u0275fac}),z),ae=((G=function(){function e(t,n){b(this,e),this.tokenService=t,this.headerName=n}return m(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||G)(c.Mb(ie),c.Mb(re))},G.\u0275prov=c.Bb({token:G,factory:G.\u0275fac}),G),se=((U=function(){function e(t,n){b(this,e),this.backend=t,this.injector=n,this.chain=null}return m(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Q,[]);this.chain=t.reduceRight((function(e,t){return new X(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||U)(c.Mb(w),c.Mb(c.r))},U.\u0275prov=c.Bb({token:U,factory:U.\u0275fac}),U),ce=((L=function(){function e(){b(this,e)}return m(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:ae,useClass:K}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:ne,useValue:t.cookieName}:[],t.headerName?{provide:re,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=c.Db({type:L}),L.\u0275inj=c.Cb({factory:function(e){return new(e||L)},providers:[ae,{provide:Q,useExisting:ae,multi:!0},{provide:ie,useClass:oe},{provide:ne,useValue:"XSRF-TOKEN"},{provide:re,useValue:"X-XSRF-TOKEN"}]}),L),le=((q=function e(){b(this,e)}).\u0275mod=c.Db({type:q}),q.\u0275inj=c.Cb({factory:function(e){return new(e||q)},providers:[Y,{provide:y,useClass:se},te,{provide:w,useExisting:te},ee,{provide:$,useExisting:ee}],imports:[[ce.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),q),ue=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=he||(he=document.querySelector("base"))?he.getAttribute("href"):null;return null==n?null:(t=n,B||(B=document.createElement("a")),B.setAttribute("href",t),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname)}},{key:"resetBaseElement",value:function(){he=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(g.q)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(g.r)(new n)}}]),n}(function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.call(this)}return m(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(g.n)),he=null,de=new c.q("TRANSITION_ID"),pe=[{provide:c.d,useFactory:function(e,t,n){return function(){n.get(c.e).donePromise.then((function(){var n=Object(g.p)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[de,g.c,c.r],multi:!0}],be=function(){function e(){b(this,e)}return m(e,[{key:"addToWindow",value:function(e){c.lb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},c.lb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},c.lb.getAllAngularRootElements=function(){return e.getAllRootElements()},c.lb.frameworkStabilizers||(c.lb.frameworkStabilizers=[]),c.lb.frameworkStabilizers.push((function(e){var t=c.lb.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Object(g.p)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(c.U)(new e)}}]),e}(),fe=new c.q("EventManagerPlugins"),me=((V=function(){function e(t,n){var r=this;b(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return m(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||V)(c.Mb(fe),c.Mb(c.z))},V.\u0275prov=c.Bb({token:V,factory:V.\u0275fac}),V),ve=function(){function e(t){b(this,e),this._doc=t}return m(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Object(g.p)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),ge=((J=function(){function e(){b(this,e),this._stylesSet=new Set}return m(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||J)},J.\u0275prov=c.Bb({token:J,factory:J.\u0275fac}),J),ye=((W=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return m(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(g.p)().remove(e)}))}}]),n}(ge)).\u0275fac=function(e){return new(e||W)(c.Mb(g.c))},W.\u0275prov=c.Bb({token:W,factory:W.\u0275fac}),W),we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ie=/%COMP%/g;function He(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?He(e,i,n):(i=i.replace(Ie,e),n.push(i))}return n}function ke(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var _e,xe,Ce,Se,Oe=((_e=function(){function e(t,n,r){b(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Te(t)}return m(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case c.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Ee(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case c.P.Native:case c.P.ShadowDom:return new Ae(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=He(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||_e)(c.Mb(me),c.Mb(ye),c.Mb(c.c))},_e.\u0275prov=c.Bb({token:_e,factory:_e.\u0275fac}),_e),Te=function(){function e(t){b(this,e),this.eventManager=t,this.data=Object.create(null)}return m(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(we[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=we[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=we[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&c.F.DashCase?e.style.setProperty(t,n,r&c.F.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&c.F.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ke(n)):this.eventManager.addEventListener(e,t,ke(n))}}]),e}(),Ee=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;b(this,n),(a=t.call(this,e)).component=i;var s,c=He(o+"-"+i.id,i.styles,[]);return r.addStyles(c),a.contentAttr="_ngcontent-%COMP%".replace(Ie,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(Ie,s)),a}return m(n,[{key:"applyToHost",value:function(e){a(p(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=a(p(n.prototype),"createElement",this).call(this,e,t);return a(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Te),Ae=function(e){s(n,e);var t=l(n);function n(e,r,i,o){var a;b(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===c.P.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=He(o.id,o.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],a.shadowRoot.appendChild(u)}return a}return m(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return a(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return a(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return a(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(a(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Te),Pe=((xe=function(e){s(n,e);var t=l(n);function n(e){return b(this,n),t.call(this,e)}return m(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(ve)).\u0275fac=function(e){return new(e||xe)(c.Mb(g.c))},xe.\u0275prov=c.Bb({token:xe,factory:xe.\u0275fac}),xe),je=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Re={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ne={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},De=((Ce=function(e){s(n,e);var t=l(n);function n(e){return b(this,n),t.call(this,e)}return m(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(g.p)().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(je.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Re.hasOwnProperty(t)&&(t=Re[t]))}return Me[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),je.forEach((function(r){r!=n&&(0,Ne[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(ve)).\u0275fac=function(e){return new(e||Ce)(c.Mb(g.c))},Ce.\u0275prov=c.Bb({token:Ce,factory:Ce.\u0275fac}),Ce),Fe=[{provide:c.B,useValue:g.o},{provide:c.C,useValue:function(){ue.makeCurrent(),be.init()},multi:!0},{provide:g.c,useFactory:function(){return Object(c.qb)(document),document},deps:[]}],qe=Object(c.Q)(c.T,"browser",Fe),Le=[[],{provide:c.W,useValue:"root"},{provide:c.m,useFactory:function(){return new c.m},deps:[]},{provide:fe,useClass:Pe,multi:!0,deps:[g.c,c.z,c.B]},{provide:fe,useClass:De,multi:!0,deps:[g.c]},[],{provide:Oe,useClass:Oe,deps:[me,ye,c.c]},{provide:c.E,useExisting:Oe},{provide:ge,useExisting:ye},{provide:ye,useClass:ye,deps:[g.c]},{provide:c.L,useClass:c.L,deps:[c.z]},{provide:me,useClass:me,deps:[fe,c.z]},[]],Ue=((Se=function(){function e(t){if(b(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return m(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:c.c,useValue:t.appId},{provide:de,useExisting:c.c},pe]}}}]),e}()).\u0275mod=c.Db({type:Se}),Se.\u0275inj=c.Cb({factory:function(e){return new(e||Se)(c.Mb(Se,12))},providers:Le,imports:[g.b,c.f]}),Se);function Ge(){return new Be(Object(c.Mb)(g.c))}var ze,Be=((ze=function(){function e(t){b(this,e),this._doc=t,this._dom=Object(g.p)()}return m(e,[{key:"addTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this._getOrCreateElement(e,t):null}},{key:"addTags",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?e.reduce((function(e,r){return r&&e.push(t._getOrCreateElement(r,n)),e}),[]):[]}},{key:"getTag",value:function(e){return e&&this._doc.querySelector("meta[".concat(e,"]"))||null}},{key:"getTags",value:function(e){if(!e)return[];var t=this._doc.querySelectorAll("meta[".concat(e,"]"));return t?[].slice.call(t):[]}},{key:"updateTag",value:function(e,t){if(!e)return null;t=t||this._parseSelector(e);var n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}},{key:"removeTag",value:function(e){this.removeTagElement(this.getTag(e))}},{key:"removeTagElement",value:function(e){e&&this._dom.remove(e)}},{key:"_getOrCreateElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=this._parseSelector(e),r=this.getTag(n);if(r&&this._containsAttributes(e,r))return r}var i=this._dom.createElement("meta");return this._setMetaElementAttributes(e,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}},{key:"_setMetaElementAttributes",value:function(e,t){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])})),t}},{key:"_parseSelector",value:function(e){var t=e.name?"name":"property";return"".concat(t,'="').concat(e[t],'"')}},{key:"_containsAttributes",value:function(e,t){return Object.keys(e).every((function(n){return t.getAttribute(n)===e[n]}))}}]),e}()).\u0275fac=function(e){return new(e||ze)(c.Mb(g.c))},ze.\u0275prov=Object(c.Bb)({factory:Ge,token:ze,providedIn:"root"}),ze);function Ve(){return new Je(Object(c.Mb)(g.c))}var We,Je=((We=function(){function e(t){b(this,e),this._doc=t}return m(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}()).\u0275fac=function(e){return new(e||We)(c.Mb(g.c))},We.\u0275prov=Object(c.Bb)({factory:Ve,token:We,providedIn:"root"}),We);"undefined"!=typeof window&&window;var Ye=function e(){b(this,e)};function Xe(e,t){return{type:7,name:e,definitions:t,options:{}}}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Ze(e){return{type:6,styles:e,offset:null}}function $e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}function tt(e){Promise.resolve(null).then(e)}var nt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return m(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;tt((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),rt=function(){function e(t){var n=this;b(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?tt((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return m(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function it(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ot(e){switch(e.length){case 0:return new nt;case 1:return e[0];default:return new rt(e)}}function at(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],c=-1,l=null;if(r.forEach((function(e){var n=e.offset,r=n==c,u=r&&l||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}u[r]=s})),r||s.push(u),l=u,c=n})),a.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(a.join(u)))}return s}function st(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&ct(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&ct(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&ct(n,"destroy",e))}))}}function ct(e,t,n){var r=n.totalTime,i=lt(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function lt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function ut(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function ht(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var dt=function(e,t){return!1},pt=function(e,t){return!1},bt=function(e,t,n){return[]},ft=it();(ft||"undefined"!=typeof Element)&&(dt=function(e,t){return e.contains(t)},pt=function(){if(ft||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:pt}(),bt=function(e,n,r){var i=[];if(r)i.push.apply(i,t(e.querySelectorAll(n)));else{var o=e.querySelector(n);o&&i.push(o)}return i});var mt=null,vt=!1;function gt(e){mt||(mt=("undefined"!=typeof document?document.body:null)||{},vt=!!mt.style&&"WebkitAppearance"in mt.style);var t=!0;return mt.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in mt.style)&&vt)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in mt.style),t}var yt=pt,wt=dt,It=bt;function Ht(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var kt,_t=((kt=function(){function e(){b(this,e)}return m(e,[{key:"validateStyleProperty",value:function(e){return gt(e)}},{key:"matchesElement",value:function(e,t){return yt(e,t)}},{key:"containsElement",value:function(e,t){return wt(e,t)}},{key:"query",value:function(e,t,n){return It(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new nt(n,r)}}]),e}()).\u0275fac=function(e){return new(e||kt)},kt.\u0275prov=c.Bb({token:kt,factory:kt.\u0275fac}),kt),xt=function(){var e=function e(){b(this,e)};return e.NOOP=new _t,e}();function Ct(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:St(parseFloat(t[1]),t[2])}function St(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Ot(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=St(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=St(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else r=e;if(!n){var l=!1,u=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(u,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else Tt(e,n);return n}function At(e,t,n){return n?t+":"+n+";":""}function Pt(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=At(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=At(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function jt(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Ut(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),it()&&Pt(e))}function Mt(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Ut(t);e.style[n]=""})),it()&&Pt(e))}function Rt(e){return Array.isArray(e)?1==e.length?e[0]:Ke(e):e}var Nt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dt(e){var t=[];if("string"==typeof e){for(var n;n=Nt.exec(e);)t.push(n[1]);Nt.lastIndex=0}return t}function Ft(e,t,n){var r=e.toString(),i=r.replace(Nt,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function qt(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Lt=/-+([a-z0-9])/g;function Ut(e){return e.replace(Lt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Gt(e,t){return 0===e||0===t}function zt(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=Vt(e,t)}))},s=1;s<t.length;s++)a()}return t}function Bt(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Vt(e,t){return window.getComputedStyle(e)[t]}var Wt=new Set(["true","1"]),Jt=new Set(["false","0"]);function Yt(e,t){var n=Wt.has(e)||Jt.has(e),r=Wt.has(t)||Jt.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?Wt.has(e):Jt.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?Wt.has(t):Jt.has(t)),a&&s}}var Xt=new RegExp("s*:selfs*,?","g");function Qt(e,t,n){return new Kt(e).build(t,n)}var Kt=function(){function t(e){b(this,t),this._driver=e}return m(t,[{key:"build",value:function(e,t){var n=new Zt(t);return this._resetContextStyleTimingState(n),Bt(this,Rt(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=c}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,a.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if($t(e)){var t=e;Object.keys(t).forEach((function(e){Dt(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=qt(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=Bt(this,Rt(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(Yt(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(Yt(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:en(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return Bt(n,e,t)})),options:en(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=Bt(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:en(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return tn(Ot(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=tn(0,0,"");return i.dynamic=!0,i.strValue=r,i}return tn((n=n||Ot(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Ze({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Ze(s)}t.currentTime+=r.duration+r.delay;var c=this.visitStyle(o,t);c.isEmptyStep=a,n=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if($t(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,c,l,u,h=t.collectedStyles[t.currentQuerySelector],d=h[r],p=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),p=!1),o=d.startTime),p&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,c=t.errors,l=s.params||{},(u=Dt(a)).length&&u.forEach((function(e){l.hasOwnProperty(e)||c.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,c=0,l=e.steps.map((function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if($t(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if($t(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),u=0;return null!=l&&(i++,u=r.offset=l),s=s||u<0||u>1,a=a||u<c,c=u,o.push(u),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,h=0;i>0&&i<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(u-1));var d=u-1,p=t.currentTime,b=t.currentAnimateTimings,f=b.duration;return l.forEach((function(e,i){var a=h>0?i==d?1:h*i:o[i],s=a*f;t.currentTime=p+b.delay+s,b.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Bt(this,Rt(e.animation),t),options:en(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:en(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:en(e.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(Xt,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(t.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,ut(n.collectedStyles,n.currentQuerySelector,{});var c=Bt(this,Rt(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:c,originalSelector:t.selector,options:en(t.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ot(e.timings,t.errors,!0);return{type:12,animation:Bt(this,Rt(e.animation),t),timings:n,options:null}}}]),t}(),Zt=function e(t){b(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function $t(e){return!Array.isArray(e)&&"object"==typeof e}function en(e){var t;return e?(e=Tt(e)).params&&(e.params=(t=e.params)?Tt(t):null):e={},e}function tn(e,t,n){return{duration:e,delay:t,easing:n}}function nn(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var rn=function(){function e(){b(this,e),this._map=new Map}return m(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,n){var r,i=this._map.get(e);i||this._map.set(e,i=[]),(r=i).push.apply(r,t(n))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),on=new RegExp(":enter","g"),an=new RegExp(":leave","g");function sn(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new cn).buildKeyframes(e,t,n,r,i,o,a,s,c,l)}var cn=function(){function e(){b(this,e)}return m(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new rn;var u=new un(e,t,c,r,i,l,[]);u.options=s,u.currentTimeline.setStyles([o],null,u.errors,s),Bt(this,n,u);var h=u.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,u.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[nn(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?Ct(n.duration):null,o=null!=n.delay?Ct(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Bt(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ln);var a=Ct(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return Bt(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ct(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Bt(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return Ot(t.params?Ft(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ct(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ln);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var c=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(c=s.currentTimeline),Bt(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=t.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;Bt(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),ln={},un=function(){function e(t,n,r,i,o,a,s,c){b(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ln,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new hn(this._driver,n,0),s.push(this.currentTimeline)}return m(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=Ct(r.duration)),null!=r.delay&&(i.delay=Ct(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=Ft(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=ln,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new dn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,n,r,i,o,a){var s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(on,"."+this._enterClassName)).replace(an,"."+this._leaveClassName);var c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),s.push.apply(s,t(c))}return o||0!=s.length||a.push('`query("'.concat(n,'")` returned zero elements. (Use `query("').concat(n,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),hn=function(){function e(t,n,r,i){b(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return m(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):Et(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=Ft(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=Et(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?qt(t.values()):[],a=n.size?qt(n.values()):[];if(r){var s=i[0],c=Tt(s);s.offset=0,c.offset=1,i=[s,c]}return nn(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),dn=function(e){s(n,e);var t=l(n);function n(e,r,i,o,a,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return b(this,n),(c=t.call(this,e,r,s.delay)).element=r,c.keyframes=i,c.preStyleProps=o,c.postStyleProps=a,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return m(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,c=Et(e[0],!1);c.offset=0,o.push(c);var l=Et(e[0],!1);l.offset=pn(s),o.push(l);for(var u=e.length-1,h=1;h<=u;h++){var d=Et(e[h],!1);d.offset=pn((n+d.offset*r)/a),o.push(d)}r=a,n=0,i="",e=o}return nn(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(hn);function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var bn=function e(){b(this,e)},fn=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"normalizePropertyName",value:function(e,t){return Ut(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(mn[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(bn),mn=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function vn(e,t,n,r,i,o,a,s,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}var gn={},yn=function(){function e(t,n,r){b(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return m(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,c,l){var u=[],h=this.ast.options&&this.ast.options.params||gn,d=this.buildStyles(n,a&&a.params||gn,u),p=s&&s.params||gn,b=this.buildStyles(r,p,u),f=new Set,m=new Map,v=new Map,g="void"===r,y={params:Object.assign(Object.assign({},h),p)},w=l?[]:sn(e,t,this.ast.animation,i,o,d,b,y,c,u),I=0;if(w.forEach((function(e){I=Math.max(e.duration+e.delay,I)})),u.length)return vn(t,this._triggerName,n,r,g,d,b,[],[],m,v,I,u);w.forEach((function(e){var n=e.element,r=ut(m,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=ut(v,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&f.add(n)}));var H=qt(f.values());return vn(t,this._triggerName,n,r,g,d,b,w,H,m,v,I)}}]),e}(),wn=function(){function e(t,n){b(this,e),this.styles=t,this.defaultParams=n}return m(e,[{key:"buildStyles",value:function(e,t){var n={},r=Tt(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=Ft(o,r,t)),n[e]=o}))}})),n}}]),e}(),In=function(){function e(t,n){var r=this;b(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new wn(e.style,e.options&&e.options.params||{})})),Hn(this.states,"true","1"),Hn(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new yn(t,e,r.states))})),this.fallbackTransition=new yn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return m(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function Hn(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var kn=new rn,_n=function(){function e(t,n,r){b(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return m(e,[{key:"register",value:function(e,t){var n=[],r=Qt(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=at(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=sn(this._driver,t,a,"ng-enter","ng-leave",{},{},i,kn,o)).forEach((function(e){var t=ut(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var c=ot(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=c,c.onDestroy((function(){return r.destroy(e)})),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=lt(t,"","","");return st(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),xn=[],Cn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},On=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";b(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=Tt(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return m(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),Tn=new On("void"),En=function(){function e(t,n,r){b(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Dn(n,this._hostClassName)}return m(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=ut(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var c=ut(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(Dn(e,"ng-trigger"),Dn(e,"ng-trigger-"+t),c[t]=Tn),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete c[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new Pn(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Dn(e,"ng-trigger"),Dn(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var c=s[t],l=new On(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[t]=l,c||(c=Tn),"void"===l.value||c.value!==l.value){var u=ut(this._engine.playersByElement,e,[]);u.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(c.value,l.value,e,l.params),d=!1;if(!h){if(!i)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:a,isFallbackTransition:d}),d||(Dn(e,"ng-animate-queued"),a.onStart((function(){Fn(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),u.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(c.params,l.params)){var p=[],b=o.matchStyles(c.value,c.params,p),f=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){Mt(e,b),jt(e,f)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&ot(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||Tn,s=new On("void"),c=new Pn(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==Cn||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Dn(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=lt(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,st(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),An=function(){function e(t,n,r){b(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return m(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new En(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(jn(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(jn(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dn(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fn(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(jn(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return jn(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return ot(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Cn,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Dn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?ot(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,n){var r=this,i=new rn,o=[],a=new Map,s=[],c=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach((function(e){h.add(e);for(var t=r.driver.query(e,".ng-animate-queued",!0),n=0;n<t.length;n++)h.add(t[n])}));var d=this.bodyNode,p=Array.from(this.statesByElement.keys()),b=Nn(p,this.collectedEnterElements),f=new Map,m=0;b.forEach((function(e,t){var n="ng-enter"+m++;f.set(t,n),e.forEach((function(e){return Dn(e,n)}))}));for(var v=[],g=new Set,y=new Set,w=0;w<this.collectedLeaveElements.length;w++){var I=this.collectedLeaveElements[w],H=I.__ng_removed;H&&H.setForRemoval&&(v.push(I),g.add(I),H.hasAnimation?this.driver.query(I,".ng-star-inserted",!0).forEach((function(e){return g.add(e)})):y.add(I))}var k=new Map,_=Nn(p,Array.from(g));_.forEach((function(e,t){var n="ng-leave"+m++;k.set(t,n),e.forEach((function(e){return Dn(e,n)}))})),e.push((function(){b.forEach((function(e,t){var n=f.get(t);e.forEach((function(e){return Fn(e,n)}))})),_.forEach((function(e,t){var n=k.get(t);e.forEach((function(e){return Fn(e,n)}))})),v.forEach((function(e){r.processLeaveNode(e)}))}));for(var x=[],C=[],S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(n).forEach((function(e){var t=e.player,n=e.element;if(x.push(t),r.collectedEnterElements.length){var a=n.__ng_removed;if(a&&a.setForMove)return void t.destroy()}var h=!d||!r.driver.containsElement(d,n),p=k.get(n),b=f.get(n),m=r._buildInstruction(e,i,b,p,h);if(m.errors&&m.errors.length)C.push(m);else{if(h)return t.onStart((function(){return Mt(n,m.fromStyles)})),t.onDestroy((function(){return jt(n,m.toStyles)})),void o.push(t);if(e.isFallbackTransition)return t.onStart((function(){return Mt(n,m.fromStyles)})),t.onDestroy((function(){return jt(n,m.toStyles)})),void o.push(t);m.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(n,m.timelines),s.push({instruction:m,player:t,element:n}),m.queriedElements.forEach((function(e){return ut(c,e,[]).push(t)})),m.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),m.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(C.length){var O=[];C.forEach((function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return O.push("- ".concat(e,"\n"))}))})),x.forEach((function(e){return e.destroy()})),this.reportError(O)}var T=new Map,E=new Map;s.forEach((function(e){var t=e.element;i.has(t)&&(E.set(t,t),r._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))})),o.forEach((function(e){var t=e.element;r._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){ut(T,t,[]).push(e),e.destroy()}))}));var A=v.filter((function(e){return Ln(e,l,u)})),P=new Map;Rn(P,this.driver,y,u,"*").forEach((function(e){Ln(e,l,u)&&A.push(e)}));var j=new Map;b.forEach((function(e,t){Rn(j,r.driver,new Set(e),l,"!")})),A.forEach((function(e){var t=P.get(e),n=j.get(e);P.set(e,Object.assign(Object.assign({},t),n))}));var M=[],R=[],N={};s.forEach((function(e){var t=e.element,n=e.player,s=e.instruction;if(i.has(t)){if(h.has(t))return n.onDestroy((function(){return jt(t,s.toStyles)})),n.disabled=!0,n.overrideTotalTime(s.totalTime),void o.push(n);var c=N;if(E.size>1){for(var l=t,u=[];l=l.parentNode;){var d=E.get(l);if(d){c=d;break}u.push(l)}u.forEach((function(e){return E.set(e,c)}))}var p=r._buildAnimation(n.namespaceId,s,T,a,j,P);if(n.setRealPlayer(p),c===N)M.push(n);else{var b=r.playersByElement.get(c);b&&b.length&&(n.parentPlayer=ot(b)),o.push(n)}}else Mt(t,s.fromStyles),n.onDestroy((function(){return jt(t,s.toStyles)})),R.push(n),h.has(t)&&o.push(n)})),R.forEach((function(e){var t=a.get(e.element);if(t&&t.length){var n=ot(t);e.setRealPlayer(n)}})),o.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var D=0;D<v.length;D++){var F=v[D],q=F.__ng_removed;if(Fn(F,"ng-leave"),!q||!q.hasAnimation){var L=[];if(c.size){var U=c.get(F);U&&U.length&&L.push.apply(L,t(U));for(var G=this.driver.query(F,".ng-animating",!0),z=0;z<G.length;z++){var B=c.get(G[z]);B&&B.length&&L.push.apply(L,t(B))}}var V=L.filter((function(e){return!e.destroyed}));V.length?qn(this,F,V):this.processLeaveNode(F)}}return v.length=0,M.forEach((function(e){r.players.push(e),e.onDone((function(){e.destroy();var t=r.players.indexOf(e);r.players.splice(t,1)})),e.play()})),M}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var c=!i||"void"==i;s.forEach((function(e){e.queued||(c||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,r){var i,o=this,a=t.element,s=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName,l=n(t.timelines);try{var u=function(){var e=i.value.element,n=e!==a,l=ut(r,e,[]);o._getPreviousPlayers(e,n,s,c,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))};for(l.s();!(i=l.n()).done;)u()}catch(h){l.e(h)}finally{l.f()}Mt(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,c=t.element,l=[],u=new Set,h=new Set,d=t.timelines.map((function(t){var d=t.element;u.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new nt(t.duration,t.delay);var b,f,m=d!==c,v=(b=(n.get(d)||xn).map((function(e){return e.getRealPlayer()})),f=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof rt?e(i.players,n):n.push(i)}}(b,f),f).filter((function(e){return!!e.element&&e.element===d})),g=i.get(d),y=o.get(d),w=at(0,a._normalizer,0,t.keyframes,g,y),I=a._buildPlayer(t,w,v);if(t.subTimeline&&r&&h.add(d),m){var H=new Pn(e,s,d);H.setRealPlayer(I),l.push(H)}return I}));l.forEach((function(e){ut(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),u.forEach((function(e){return Dn(e,"ng-animating")}));var p=ot(d);return p.onDestroy((function(){u.forEach((function(e){return Fn(e,"ng-animating")})),jt(c,t.toStyles)})),h.forEach((function(e){ut(r,e,[]).push(p)})),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new nt(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),Pn=function(){function e(t,n,r){b(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new nt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return m(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return st(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){ut(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function jn(e){return e&&1===e.nodeType}function Mn(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Rn(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(Mn(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Sn,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return Mn(e,o[s++])})),a}function Nn(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function Dn(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Fn(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function qn(e,t,n){ot(n).onDone((function(){return e.processLeaveNode(t)}))}function Ln(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var Un=function(){function t(e,n,r){var i=this;b(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new An(e,n,r),this._timelineEngine=new _n(e,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return m(t,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],c=Qt(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new In(e,t)}(r,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(ht(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var a=e(ht(r),2),s=a[0],c=a[1];return this._timelineEngine.listen(s,n,c,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Gn(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Bn(t[0]),t.length>1&&(r=Bn(t[t.length-1]))):t&&(n=Bn(t)),n||r?new zn(e,n,r):null}var zn=function(){var e=function(){function e(t,n,r){b(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return m(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&jt(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(jt(this._element,this._initialStyles),this._endStyles&&(jt(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Mt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mt(this._element,this._endStyles),this._endStyles=null),jt(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Bn(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Vn(i)&&((t=t||{})[i]=e[i])}return t}function Vn(e){return"display"===e||"position"===e}var Wn=function(){function e(t,n,r,i,o,a,s){var c=this;b(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return m(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Zn(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),Kn(e,"",t),Qn(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Jn(this._element,this._name,"paused")}},{key:"resume",value:function(){Jn(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Yn(this._element,this._name);this._position=e*this._duration,Kn(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Qn(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=Zn(e,"").split(","),(r=Xn(n,t))>=0&&(n.splice(r,1),Kn(e,"",n.join(","))))}}]),e}();function Jn(e,t,n){Kn(e,"PlayState",n,Yn(e,t))}function Yn(e,t){var n=Zn(e,"");return n.indexOf(",")>0?Xn(n.split(","),t):Xn([n],t)}function Xn(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Qn(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Kn(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Zn(e,t){return e.style["animation"+t]}var $n=function(){function e(t,n,r,i,o,a,s,c){b(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return m(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Wn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Vt(e.element,r))}))}this.currentSnapshot=t}}]),e}(),er=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Ht(r),i}return m(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),a(p(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),a(p(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,a(p(n.prototype),"destroy",this).call(this))}}]),n}(nt),tr=function(){function e(){b(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return m(e,[{key:"validateStyleProperty",value:function(e){return gt(e)}},{key:"matchesElement",value:function(e,t){return yt(e,t)}},{key:"containsElement",value:function(e,t){return wt(e,t)}},{key:"query",value:function(e,t,n){return It(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Ht(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof $n})),c={};Gt(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=zt(e,t,c));if(0==n)return new er(e,l);var u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);var d=Gn(e,t),p=new $n(e,t,u,n,r,i,l,d);return p.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),p}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),nr=function(){function e(t,n,r,i){b(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return m(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Vt(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),rr=function(){function e(){b(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ir().toString()),this._cssKeyframesDriver=new tr}return m(e,[{key:"validateStyleProperty",value:function(e){return gt(e)}},{key:"matchesElement",value:function(e,t){return yt(e,t)}},{key:"containsElement",value:function(e,t){return wt(e,t)}},{key:"query",value:function(e,t,n){return It(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var c={},l=o.filter((function(e){return e instanceof nr}));Gt(n,r)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var u=Gn(e,t=zt(e,t=t.map((function(e){return Et(e,!1)})),c));return new nr(e,t,s,u)}}]),e}();function ir(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var or,ar=((or=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:c.P.None,styles:[],data:{animation:[]}}),i}return m(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Ke(e):e;return lr(this._renderer,null,t,"register",[n]),new sr(t,this._renderer)}}]),n}(Ye)).\u0275fac=function(e){return new(e||or)(c.Mb(c.E),c.Mb(g.c))},or.\u0275prov=c.Bb({token:or,factory:or.\u0275fac}),or),sr=function(e){s(n,e);var t=l(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return m(n,[{key:"create",value:function(e,t){return new cr(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){b(this,e)}}()),cr=function(){function e(t,n,r,i){b(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return m(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lr(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function lr(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var ur,hr,dr,pr,br,fr=((ur=function(){function t(e,n,r){b(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return m(t,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new mr("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new vr(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return n(r)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var n=e(t,2);(0,n[0])(n[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(e){return new(e||ur)(c.Mb(c.E),c.Mb(Un),c.Mb(c.z))},ur.\u0275prov=c.Bb({token:ur,factory:ur.\u0275fac}),ur),mr=function(){function e(t,n,r){b(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return m(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),vr=function(t){s(r,t);var n=l(r);function r(e,t,i,o){var a;return b(this,r),(a=n.call(this,t,i,o)).factory=e,a.namespaceId=t,a}return m(r,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(t,n,r){var i,o,a=this;if("@"==n.charAt(0)){var s,c=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t),l=n.substr(1),u="";return"@"!=l.charAt(0)&&(o=(i=l).indexOf("."),l=(s=e([i.substring(0,o),i.substr(o+1)],2))[0],u=s[1]),this.engine.listen(this.namespaceId,c,l,u,(function(e){a.factory.scheduleListenerCallback(e._data||-1,r,e)}))}return this.delegate.listen(t,n,r)}}]),r}(mr),gr=((hr=function(e){s(n,e);var t=l(n);function n(e,r,i){return b(this,n),t.call(this,e.body,r,i)}return n}(Un)).\u0275fac=function(e){return new(e||hr)(c.Mb(g.c),c.Mb(xt),c.Mb(bn))},hr.\u0275prov=c.Bb({token:hr,factory:hr.\u0275fac}),hr),yr=[{provide:xt,useFactory:function(){return"function"==typeof ir()?new rr:new tr}},{provide:new c.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Ye,useClass:ar},{provide:bn,useFactory:function(){return new fn}},{provide:Un,useClass:gr},{provide:c.E,useFactory:function(e,t,n){return new fr(e,t,n)},deps:[Oe,Un,c.z]}],wr=((dr=function e(){b(this,e)}).\u0275mod=c.Db({type:dr}),dr.\u0275inj=c.Cb({factory:function(e){return new(e||dr)},providers:yr,imports:[Ue]}),dr),Ir=o("Kdsb"),Hr=o("tyNb"),kr=o("xgIS"),_r=o("Kj3r"),xr=((pr=function e(){b(this,e)}).\u0275fac=function(e){return new(e||pr)},pr.\u0275cmp=c.zb({type:pr,selectors:[["app-social-wrapper"]],decls:11,vars:0,consts:[[1,"social-wrapper"],["href","https://twitter.com/nestframework","target","_blank"],[1,"fab","fa-twitter"],["href","https://github.com/nestjs/nest","target","_blank"],[1,"fab","fa-github"],["href","https://stackoverflow.com/questions/tagged/nestjs","target","_blank"],[1,"fab","fa-stack-overflow"],["href","https://nestjs.com","title","NestJS - A node.js framework built on top of TypeScript","target","_blank"],[1,"fa","fa-globe"],["href","https://discord.gg/G7Qnnhy","target","_blank","rel","nofollow"],[1,"fab","fa-discord"]],template:function(e,t){1&e&&(c.Ib(0,"div",0),c.Ib(1,"a",1),c.Gb(2,"i",2),c.Hb(),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Ib(5,"a",5),c.Gb(6,"i",6),c.Hb(),c.Ib(7,"a",7),c.Gb(8,"i",8),c.Hb(),c.Ib(9,"a",9),c.Gb(10,"i",10),c.Hb(),c.Hb())},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.social-wrapper[_ngcontent-%COMP%]{float:right;padding-right:40px;position:relative}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;color:#fff;font-size:18px;margin-left:15px;cursor:pointer}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .discord-icon[_ngcontent-%COMP%]{fill:#fff;position:relative}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .discord-icon[_ngcontent-%COMP%]:hover{fill:#ed2945}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}@media only screen and (max-width:767px){.social-wrapper[_ngcontent-%COMP%]{padding-right:20px}}@media only screen and (max-width:480px){.social-wrapper[_ngcontent-%COMP%]{display:none}}@media print{.social-wrapper[_ngcontent-%COMP%]{display:none}}']}),pr),Cr=["*"],Sr=((br=function e(){b(this,e),this.toggle=new c.n,this.isSidebarOpened=!0}).\u0275fac=function(e){return new(e||br)},br.\u0275cmp=c.zb({type:br,selectors:[["app-header"]],inputs:{isSidebarOpened:"isSidebarOpened"},outputs:{toggle:"toggle"},ngContentSelectors:Cr,decls:35,vars:2,consts:[[1,"icon-wrapper",3,"click"],[1,"nav-icon"],[1,"mobile-nav-icon"],["height","512pt","viewBox","0 -27 512 512","width","512pt","xmlns","http://www.w3.org/2000/svg",1,"desktop-nav-icon"],["d","m213.117188 81.011719c6.273437-5.488281 6.910156-15.027344 1.421874-21.300781-5.492187-6.273438-15.027343-6.910157-21.300781-1.421876l-2.597656 2.273438c-6.273437 5.488281-6.910156 15.027344-1.421875 21.300781 2.984375 3.410157 7.164062 5.15625 11.367188 5.15625 3.527343 0 7.070312-1.230469 9.933593-3.734375zm0 0"],["d","m117.898438 120.203125-2.597657 2.273437c-6.273437 5.492188-6.910156 15.027344-1.421875 21.300782 2.984375 3.414062 7.164063 5.15625 11.367188 5.15625 3.527344 0 7.070312-1.226563 9.933594-3.730469l2.597656-2.273437c6.273437-5.492188 6.910156-15.027344 1.421875-21.300782-5.488281-6.277344-15.027344-6.914062-21.300781-1.425781zm0 0"],["d","m216.179688 121.503906-2.597657 2.273438c-6.269531 5.492187-6.90625 15.027344-1.417969 21.300781 2.984376 3.414063 7.164063 5.15625 11.367188 5.15625 3.527344 0 7.070312-1.230469 9.933594-3.738281l2.597656-2.273438c6.273438-5.488281 6.910156-15.027344 1.417969-21.300781-5.488281-6.273437-15.023438-6.90625-21.300781-1.417969zm0 0"],["d","m315.523438 70.039062.253906-3.441406c.609375-8.316406-5.636719-15.550781-13.949219-16.160156s-15.550781 5.636719-16.160156 13.949219l-.253907 3.441406c-.609374 8.316406 5.636719 15.550781 13.949219 16.160156.375.027344.75.042969 1.121094.042969 7.835937 0 14.457031-6.054688 15.039063-13.992188zm0 0"],["d","m403.570312 96.273438c-5.109374-6.589844-14.589843-7.789063-21.179687-2.683594-6.589844 5.109375-7.789063 14.589844-2.683594 21.179687l2.117188 2.730469c2.976562 3.835938 7.433593 5.847656 11.941406 5.847656 3.230469 0 6.484375-1.035156 9.238281-3.167968 6.585938-5.105469 7.789063-14.589844 2.679688-21.179688zm0 0"],["d","m325.449219 118.675781c-8.308594-.628906-15.550781 5.632813-16.164063 13.945313l-.253906 3.441406c-.613281 8.316406 5.632812 15.550781 13.945312 16.164062.378907.027344.753907.042969 1.125.042969 7.832032 0 14.453126-6.050781 15.039063-13.988281l.253906-3.441406c.613281-8.316406-5.632812-15.550782-13.945312-16.164063zm0 0"],["d","m479.355469 183.492188v-22.644532c0-88.691406-72.15625-160.847656-160.847657-160.847656h-116.597656c-88.691406 0-160.847656 72.15625-160.847656 160.847656v19.882813c-23.519531 5.632812-41.0625 26.820312-41.0625 52.039062v3.253907c0 25.21875 17.542969 46.40625 41.0625 52.039062v26.367188c0 3.339843.507812 6.597656 1.441406 9.6875v2.667968c0 72.097656 58.652344 130.75 130.75 130.75h175.351563c72.097656 0 130.75-58.652344 130.75-130.75v-41.484375c19.167969-8.152343 32.644531-27.171875 32.644531-49.277343v-3.253907c0-22.109375-13.476562-41.125-32.644531-49.277343zm-408.101563-22.644532c0-72.046875 58.609375-130.65625 130.65625-130.65625h116.597656c72.046876 0 130.65625 58.609375 130.65625 130.65625v18.402344h-377.910156zm377.910156 165.9375c0 4.710938-3.179687 7-4.546874 7.765625-1.378907.769531-5.023438 2.296875-9.082032-.191406-1.34375-.824219-2.664062-1.664063-3.980468-2.503906-10.746094-6.835938-24.117188-15.347657-48.917969-15.347657-24.804688 0-38.175781 8.507813-48.917969 15.347657-9.328125 5.9375-16.699219 10.628906-32.707031 10.628906-16.007813 0-23.375-4.6875-32.703125-10.628906-10.746094-6.835938-24.113282-15.347657-48.917969-15.347657-24.800781 0-38.171875 8.511719-48.914063 15.347657-9.328124 5.9375-16.695312 10.628906-32.703124 10.628906-16.003907 0-23.375-4.6875-32.699219-10.628906-7.894531-5.023438-16.839844-10.714844-30.464844-13.5625-1.425781-.296875-2.53125-1.210938-3.042969-2.394531-.03125-.078126-.058594-.160157-.09375-.238282-.136718-.390625-.21875-.800781-.21875-1.230468v-24.886719h377.910156zm-100.558593 100.558594h-175.355469c-47.492188 0-87.398438-33.097656-97.871094-77.4375 4.75 1.863281 8.773438 4.421875 13.480469 7.417969 10.742187 6.839843 24.113281 15.351562 48.914063 15.351562 24.800781 0 38.171874-8.511719 48.914062-15.351562 9.328125-5.9375 16.695312-10.628907 32.703125-10.628907s23.375 4.691407 32.703125 10.628907c10.746094 6.839843 24.113281 15.351562 48.917969 15.351562 24.800781 0 38.171875-8.511719 48.917969-15.351562 9.328124-5.9375 16.695312-10.628907 32.703124-10.628907 16.007813 0 23.378907 4.691407 32.707032 10.628907 1.460937.929687 2.917968 1.859375 4.40625 2.769531 6.667968 4.089844 14.089844 6.027344 21.488281 5.828125-15.292969 36.0625-51.054687 61.421875-92.628906 61.421875zm133.203125-191.320312c0 12.863281-10.464844 23.328124-23.328125 23.328124h-404.960938c-12.863281 0-23.328125-10.464843-23.328125-23.328124v-3.253907c0-12.863281 10.464844-23.328125 23.328125-23.328125h404.960938c12.863281 0 23.328125 10.464844 23.328125 23.328125zm0 0"],[1,"menu-wrapper"],[1,"search-wrapper"],[1,"fa","fa-search","search-icon"],["id","search","placeholder","Search...",1,"search-input"],["href","https://nestjs.com","target","_blank","title","NestJS - A node.js framework built on top of TypeScript"],[1,"shop-link"],["href","https://nestjs.threadless.com/","target","_blank","title","Shop | NestJS - A node.js framework built on top of TypeScript"],["href","https://courses.nestjs.com","target","_blank","title","Courses | NestJS - A node.js framework built on top of TypeScript"],["routerLink","/support"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A node.js framework built on top of TypeScript"]],template:function(e,t){1&e&&(c.Xb(),c.Ib(0,"header"),c.Ib(1,"div",0),c.Pb("click",(function(){return t.toggle.emit()})),c.Ib(2,"div",1),c.Ib(3,"div",2),c.Gb(4,"span"),c.Hb(),c.Sb(),c.Ib(5,"svg",3),c.Gb(6,"path",4),c.Gb(7,"path",5),c.Gb(8,"path",6),c.Gb(9,"path",7),c.Gb(10,"path",8),c.Gb(11,"path",9),c.Gb(12,"path",10),c.Hb(),c.Hb(),c.Hb(),c.Wb(13),c.Rb(),c.Gb(14,"app-social-wrapper"),c.Ib(15,"div",11),c.Ib(16,"div",12),c.Gb(17,"i",13),c.Gb(18,"input",14),c.Hb(),c.Ib(19,"ul"),c.Ib(20,"li"),c.Ib(21,"a",15),c.lc(22,"Our website"),c.Hb(),c.Hb(),c.Ib(23,"li",16),c.Ib(24,"a",17),c.lc(25,"Shop"),c.Hb(),c.Hb(),c.Ib(26,"li"),c.Ib(27,"a",18),c.lc(28,"Courses"),c.Hb(),c.Hb(),c.Ib(29,"li"),c.Ib(30,"a",19),c.lc(31,"Sponsor us"),c.Hb(),c.Hb(),c.Ib(32,"li"),c.Ib(33,"a",20),c.lc(34,"Enterprise support"),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Hb()),2&e&&(c.vb(1),c.xb("opened",t.isSidebarOpened))},directives:[xr,Hr.f],styles:['.icon-wrapper[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%], .menu-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:#151515;display:block;width:100%;height:70px;position:fixed;z-index:10000}@media print{[_nghost-%COMP%]{position:relative}}header[_ngcontent-%COMP%]{width:100%;display:block}.icon-wrapper[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{height:100%;position:relative}.icon-wrapper[_ngcontent-%COMP%]{width:80px;top:0;bottom:0;display:inline-block;z-index:10000}.icon-wrapper[_ngcontent-%COMP%]:hover{cursor:pointer;background:#212121}.icon-wrapper.opened[_ngcontent-%COMP%]{width:250px}@media only screen and (max-width:1200px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:250px}}@media only screen and (max-width:991px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:80px}}.icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:30px;height:30px;fill:#fff}@media only screen and (max-width:767px){.icon-wrapper[_ngcontent-%COMP%]{background:transparent}}@media print{.icon-wrapper[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     .logo-wrapper{display:inline-block;height:100%;text-align:center;vertical-align:top;padding-left:85px}@media only screen and (max-width:1200px){[_nghost-%COMP%]     .logo-wrapper{padding-left:15px}}@media only screen and (max-width:767px){[_nghost-%COMP%]     .logo-wrapper{padding-left:10px}}[_nghost-%COMP%]     .logo-wrapper a{display:inline-block;padding-top:10px}@media print{[_nghost-%COMP%]     .logo-wrapper{left:50%;position:relative;transform:translate(-50%);padding:0}}.menu-wrapper[_ngcontent-%COMP%]{position:relative;float:right;padding:14px 25px}@media (min-width:1500px){.menu-wrapper[_ngcontent-%COMP%]{margin-right:80px}}@media (max-width:1499px){.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{display:none}.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{margin-right:0}}@media (max-width:1250px){.menu-wrapper[_ngcontent-%COMP%]{padding:14px 5px}}@media (max-width:1150px){.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important}}@media (max-width:600px){.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width:1200px){.menu-wrapper[_ngcontent-%COMP%]{margin-right:0;padding:14px 5px}}@media only screen and (max-width:991px){.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important}}@media only screen and (max-width:480px){.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{display:none}}.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{margin-left:0}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{border-radius:2px;padding:4px 6px;background:#ed2945}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]:hover{background:#262626}@media only screen and (max-width:1200px){.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px}}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-size:14px;font-weight:600}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}@media print{.menu-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]{float:right;padding:14px 25px}@media only screen and (max-width:767px){.workshop-wrapper[_ngcontent-%COMP%]{padding:23px 15px}}@media only screen and (max-width:480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;width:55px}@media only screen and (max-width:767px){.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}}.workshop-wrapper[_ngcontent-%COMP%]   .workshop-info[_ngcontent-%COMP%], .workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.workshop-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#fff;margin:0}.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:767px){.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:block}}@media only screen and (max-width:767px){.workshop-wrapper[_ngcontent-%COMP%]   .long-title[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#03a9f4;font-weight:600;font-size:12px;position:relative}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{background:#ed2945}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";display:block;background:#246081;height:2px;left:0;right:0;bottom:-1px;position:absolute}.workshop-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:1px 2px;font-weight:700;background:linear-gradient(#ee2943,#d31e5a)}@media (max-width:480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .logo-wrapper{width:100%}.icon-wrapper[_ngcontent-%COMP%]{position:absolute}}.fa-stack-overflow[_ngcontent-%COMP%]{font-size:18px}.mobile-nav-icon[_ngcontent-%COMP%]{display:none;width:25px;margin-top:5px;cursor:pointer}@media only screen and (max-width:1200px){.mobile-nav-icon[_ngcontent-%COMP%]{display:inline-block}}.mobile-nav-icon[_ngcontent-%COMP%]:after, .mobile-nav-icon[_ngcontent-%COMP%]:before, .mobile-nav-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{content:"";background:#fff;display:block;height:2px;width:100%}.mobile-nav-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:6px 0}@media only screen and (max-width:1200px){.desktop-nav-icon[_ngcontent-%COMP%]{display:none}}.search-wrapper[_ngcontent-%COMP%]{margin-right:2em;height:100%;display:inline-block;position:relative}.search-icon[_ngcontent-%COMP%]{position:absolute;margin-top:7px;color:#a5a5a5;font-size:14px}.search-input[_ngcontent-%COMP%]{background:transparent;border:0;border-bottom:2px solid #414141;padding:5px 20px 5px 28px;color:#fff;font-family:Source Sans Pro,Helvetica Neue,sans-serif;font-size:14px;outline:0!important;transition:all 90ms ease-in-out;width:165px}.search-input[_ngcontent-%COMP%]:active, .search-input[_ngcontent-%COMP%]:focus{border-bottom-color:#ed2945;width:190px}.search-input[_ngcontent-%COMP%]::-moz-placeholder{color:#a5a5a5;opacity:1}.search-input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#a5a5a5;opacity:1}.search-input[_ngcontent-%COMP%]::placeholder{color:#a5a5a5;opacity:1}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;width:15px;height:15px;top:10px;cursor:pointer;visibility:hidden;transition:all 90ms ease-in-out}.close-icon.visible[_ngcontent-%COMP%]{visibility:visible}.close-icon[_ngcontent-%COMP%]:after, .close-icon[_ngcontent-%COMP%]:before{content:"";background:#ed2945;display:block;height:2px;position:absolute;width:15px}.close-icon[_ngcontent-%COMP%]:after{transform:rotate(45deg) translateY(3px)}.close-icon[_ngcontent-%COMP%]:before{transform:rotate(-45deg) translateY(3px)}@media (max-width:1300px){.shop-link[_ngcontent-%COMP%]{display:none!important}}'],changeDetection:0}),br);Xe("fadeAnimation",[$e("* => *",[et(":enter",[Ze({opacity:0})],{optional:!0}),et(":leave",[Ze({opacity:1}),Qe("0.3s",Ze({opacity:0}))],{optional:!0}),et(":enter",[Ze({opacity:0}),Qe("0.3s",Ze({opacity:1}))],{optional:!0})])]);var Or,Tr=Xe("openCloseAnimation",[(Or=Ze({display:"none"}),{type:0,name:"false",styles:Or,options:void 0}),$e("false => true",[Ze("*"),Ze({height:0,overflow:"hidden"}),Qe("250ms ease-out",Ze({height:"*"}))]),$e("true => false",[Ze({height:"*",overflow:"hidden"}),Qe("250ms ease-in",Ze({height:0}))])]);function Er(e,t){if(1&e&&(c.Ib(0,"i",12),c.lc(1),c.Hb()),2&e){var n=c.Tb(2).$implicit;c.vb(1),c.nc(" ",n.icon," ")}}var Ar=function(){return{exact:!0}};function Pr(e,t){if(1&e&&(c.Ib(0,"a",10),c.jc(1,Er,2,1,"i",11),c.lc(2),c.Hb()),2&e){var n=c.Tb().$implicit;c.xb("pending",n.isPending),c.Yb("routerLink",n.path)("routerLinkActiveOptions",c.bc(6,Ar)),c.vb(1),c.Yb("ngIf",n.icon),c.vb(1),c.nc(" ",n.title," ")}}function jr(e,t){if(1&e&&(c.Ib(0,"i",12),c.lc(1),c.Hb()),2&e){var n=c.Tb(2).$implicit;c.vb(1),c.nc(" ",n.icon," ")}}function Mr(e,t){if(1&e&&(c.Ib(0,"a",13),c.jc(1,jr,2,1,"i",11),c.lc(2),c.Hb()),2&e){var n=c.Tb().$implicit;c.Zb("href",n.externalUrl,c.gc),c.vb(1),c.Yb("ngIf",n.icon),c.vb(1),c.nc(" ",n.title," ")}}function Rr(e,t){if(1&e&&(c.Ib(0,"li"),c.jc(1,Pr,3,7,"a",8),c.jc(2,Mr,3,3,"a",9),c.Hb()),2&e){var n=t.$implicit;c.vb(1),c.Yb("ngIf",!n.externalUrl),c.vb(1),c.Yb("ngIf",!!n.externalUrl)}}function Nr(e,t){if(1&e){var n=c.Jb();c.Ib(0,"div",2),c.Ib(1,"div",3),c.Pb("click",(function(){return c.fc(n),c.Tb().toggle()})),c.Ib(2,"h3"),c.lc(3),c.Hb(),c.Sb(),c.Ib(4,"svg",4),c.Gb(5,"path",5),c.Hb(),c.Hb(),c.Rb(),c.Ib(6,"ul",6),c.jc(7,Rr,3,2,"li",7),c.Hb(),c.Hb()}if(2&e){var r=c.Tb();c.xb("opened",r.isOpen),c.vb(3),c.mc(r.title),c.vb(3),c.Yb("@openCloseAnimation",r.isOpen),c.vb(1),c.Yb("ngForOf",r.children)}}function Dr(e,t){if(1&e&&(c.Ib(0,"i",12),c.lc(1),c.Hb()),2&e){var n=c.Tb(3);c.vb(1),c.nc(" ",n.icon," ")}}function Fr(e,t){if(1&e&&(c.Ib(0,"a",10),c.Ib(1,"h3"),c.jc(2,Dr,2,1,"i",11),c.lc(3),c.Hb(),c.Hb()),2&e){var n=c.Tb(2);c.xb("has-icon",n.icon),c.Yb("routerLink",n.path)("routerLinkActiveOptions",c.bc(6,Ar)),c.vb(2),c.Yb("ngIf",n.icon),c.vb(1),c.nc(" ",n.title," ")}}function qr(e,t){if(1&e&&(c.Ib(0,"i",12),c.lc(1),c.Hb()),2&e){var n=c.Tb(3);c.vb(1),c.nc(" ",n.icon," ")}}function Lr(e,t){if(1&e&&(c.Ib(0,"a",13),c.Ib(1,"h3"),c.jc(2,qr,2,1,"i",11),c.lc(3),c.Hb(),c.Hb()),2&e){var n=c.Tb(2);c.Zb("href",n.externalUrl,c.gc),c.vb(2),c.Yb("ngIf",n.icon),c.vb(1),c.nc(" ",n.title," ")}}function Ur(e,t){if(1&e&&(c.Ib(0,"div",14),c.jc(1,Fr,4,7,"a",15),c.jc(2,Lr,4,3,"a",9),c.Hb()),2&e){var n=c.Tb();c.vb(1),c.Yb("ngIf",!n.externalUrl),c.vb(1),c.Yb("ngIf",!!n.externalUrl)}}var Gr,zr=((Gr=function(){function e(){b(this,e),this.isOpen=!1,this.children=[]}return m(e,[{key:"toggle",value:function(){this.isOpen=!this.isOpen}}]),e}()).\u0275fac=function(e){return new(e||Gr)},Gr.\u0275cmp=c.zb({type:Gr,selectors:[["app-menu-item"]],inputs:{isOpen:"isOpen",children:"children",path:"path",title:"title",icon:"icon",externalUrl:"externalUrl"},decls:3,vars:2,consts:[["class","nav-item",3,"opened",4,"ngIf","ngIfElse"],["withoutChildren",""],[1,"nav-item"],[1,"heading",3,"click"],["width","20","height","20","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",1,"arrow-icon"],["d","M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"],[1,"sub-nav"],[4,"ngFor","ngForOf"],["routerLinkActive","active",3,"pending","routerLink","routerLinkActiveOptions",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["class","material-icons",4,"ngIf"],[1,"material-icons"],["target","_blank",3,"href"],[1,"heading"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","has-icon",4,"ngIf"]],template:function(e,t){if(1&e&&(c.jc(0,Nr,8,5,"div",0),c.jc(1,Ur,3,2,"ng-template",null,1,c.kc)),2&e){var n=c.dc(2);c.Yb("ngIf",t.children)("ngIfElse",n)}},directives:[g.i,g.h,Hr.f,Hr.e],styles:['.arrow-icon[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:relative;display:block}h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#151515;font-size:15px;margin:10px 0}.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]:hover{color:#ed2945}.material-icons[_ngcontent-%COMP%]{margin-right:5px}.arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;top:1px;right:20px;font-size:20px;cursor:pointer}li[_ngcontent-%COMP%]{display:block;padding:2.5px 0}li[_ngcontent-%COMP%]:first-of-type{padding-top:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#151515;font-size:14px;text-decoration:none;cursor:pointer}li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:600}li[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#afafaf!important;pointer-events:none}.nav-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:10px 0 15px}.nav-item.opened[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(-90deg);fill:#ed2945}.heading[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{color:#ed2945}ul[_ngcontent-%COMP%]{padding-left:15px}.material-icons[_ngcontent-%COMP%]{font-size:14px;margin-left:3px;vertical-align:middle;padding-bottom:4px}.has-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ed2945}'],data:{animation:[Tr]},changeDetection:0}),Gr);function Br(e,t){if(1&e&&c.Gb(0,"app-menu-item",4),2&e){var n=t.$implicit;c.Yb("isOpen",n.isOpened)("title",n.title)("externalUrl",null==n?null:n.externalUrl)("icon",null==n?null:n.icon)("path",null==n?null:n.path)("children",n.children)}}var Vr,Wr=((Vr=function(){function e(t,n){b(this,e),this.route=t,this.router=n,this.isSidebarOpened=!0,this.items=[{title:"Introduction",isOpened:!1,path:"/"},{title:"Overview",isOpened:!0,children:[{title:"First steps",path:"/first-steps"},{title:"Controllers",path:"/controllers"},{title:"Providers",path:"/providers"},{title:"Modules",path:"/modules"},{title:"Middleware",path:"/middleware"},{title:"Exception filters",path:"/exception-filters"},{title:"Pipes",path:"/pipes"},{title:"Guards",path:"/guards"},{title:"Interceptors",path:"/interceptors"},{title:"Custom decorators",path:"/custom-decorators"}]},{title:"Fundamentals",isOpened:!1,children:[{title:"Custom providers",path:"/fundamentals/custom-providers"},{title:"Asynchronous providers",path:"/fundamentals/async-providers"},{title:"Dynamic modules",path:"/fundamentals/dynamic-modules"},{title:"Injection scopes",path:"/fundamentals/injection-scopes"},{title:"Circular dependency",path:"/fundamentals/circular-dependency"},{title:"Module reference",path:"/fundamentals/module-ref"},{title:"Execution context",path:"/fundamentals/execution-context"},{title:"Lifecycle events",path:"/fundamentals/lifecycle-events"},{title:"Platform agnosticism",path:"/fundamentals/platform-agnosticism"},{title:"Testing",path:"/fundamentals/testing"}]},{title:"Techniques",isOpened:!1,children:[{title:"Authentication",path:"/techniques/authentication"},{title:"Database",path:"/techniques/database"},{title:"Mongo",path:"/techniques/mongodb"},{title:"Configuration",path:"/techniques/configuration"},{title:"Validation",path:"/techniques/validation"},{title:"Caching",path:"/techniques/caching"},{title:"Serialization",path:"/techniques/serialization"},{title:"Task scheduling",path:"/techniques/task-scheduling"},{title:"Compression",path:"/techniques/compression"},{title:"Security",path:"/techniques/security"},{title:"Queues",path:"/techniques/queues"},{title:"Logger",path:"/techniques/logger"},{title:"File upload",path:"/techniques/file-upload"},{title:"HTTP module",path:"/techniques/http-module"},{title:"Model-View-Controller",path:"/techniques/mvc"},{title:"Performance (Fastify)",path:"/techniques/performance"}]},{title:"GraphQL",isOpened:!1,children:[{title:"Quick start",path:"/graphql/quick-start"},{title:"Resolvers",path:"/graphql/resolvers"},{title:"Mutations",path:"/graphql/mutations"},{title:"Subscriptions",path:"/graphql/subscriptions"},{title:"Scalars",path:"/graphql/scalars"},{title:"Directives",path:"/graphql/directives"},{title:"Plugins",path:"/graphql/plugins"},{title:"Interfaces",path:"/graphql/interfaces"},{title:"Unions",path:"/graphql/unions"},{title:"Enums",path:"/graphql/enums"},{title:"Mapped types",path:"/graphql/mapped-types"},{title:"Complexity",path:"/graphql/complexity"},{title:"Extensions",path:"/graphql/extensions"},{title:"CLI Plugin",path:"/graphql/cli-plugin"},{title:"Generating SDL",path:"/graphql/generating-sdl"},{title:"Other features",path:"/graphql/other-features"},{title:"Federation",path:"/graphql/federation"}]},{title:"WebSockets",isOpened:!1,children:[{title:"Gateways",path:"/websockets/gateways"},{title:"Exception filters",path:"/websockets/exception-filters"},{title:"Pipes",path:"/websockets/pipes"},{title:"Guards",path:"/websockets/guards"},{title:"Interceptors",path:"/websockets/interceptors"},{title:"Adapters",path:"/websockets/adapter"}]},{title:"Microservices",isOpened:!1,children:[{title:"Overview",path:"/microservices/basics"},{title:"Redis",path:"/microservices/redis"},{title:"MQTT",path:"/microservices/mqtt"},{title:"NATS",path:"/microservices/nats"},{title:"RabbitMQ",path:"/microservices/rabbitmq"},{title:"Kafka",path:"/microservices/kafka"},{title:"gRPC",path:"/microservices/grpc"},{title:"Exception filters",path:"/microservices/exception-filters"},{title:"Pipes",path:"/microservices/pipes"},{title:"Guards",path:"/microservices/guards"},{title:"Interceptors",path:"/microservices/interceptors"}]},{title:"Standalone apps",isOpened:!1,path:"/application-context"},{title:"CLI",isOpened:!1,children:[{title:"Overview",path:"/cli/overview"},{title:"Workspaces",path:"/cli/monorepo"},{title:"Libraries",path:"/cli/libraries"},{title:"Usage",path:"/cli/usages"},{title:"Scripts",path:"/cli/scripts"}]},{title:"OpenAPI",isOpened:!1,children:[{title:"Introduction",path:"/openapi/introduction"},{title:"Types and Parameters",path:"/openapi/types-and-parameters"},{title:"Operations",path:"/openapi/operations"},{title:"Security",path:"/openapi/security"},{title:"Mapped Types",path:"/openapi/mapped-types"},{title:"Decorators",path:"/openapi/decorators"},{title:"CLI Plugin",path:"/openapi/cli-plugin"},{title:"Other features",path:"/openapi/other-features"},{title:"Migration guide",path:"/openapi/migration-guide"}]},{title:"Recipes",isOpened:!1,children:[{title:"TypeORM",path:"/recipes/sql-typeorm"},{title:"Mongoose",path:"/recipes/mongodb"},{title:"Sequelize",path:"/recipes/sql-sequelize"},{title:"OpenAPI (Swagger)",path:"/recipes/swagger"},{title:"CQRS",path:"/recipes/cqrs"},{title:"Prisma",path:"/recipes/prisma"},{title:"Health checks (Terminus)",path:"/recipes/terminus"},{title:"Documentation",path:"/recipes/documentation"},{title:"Hot reload",path:"/recipes/hot-reload"},{title:"Serve static",path:"/recipes/serve-static"}]},{title:"FAQ",isOpened:!1,children:[{title:"HTTP adapter",path:"/faq/http-adapter"},{title:"Global path prefix",path:"/faq/global-prefix"},{title:"Hybrid application",path:"/faq/hybrid-application"},{title:"HTTPS & multiple servers",path:"/faq/multiple-servers"},{title:"Request lifecycle",path:"/faq/request-lifecycle"},{title:"Examples",externalUrl:"https://github.com/nestjs/nest/tree/master/sample"}]},{title:"Migration guide",isOpened:!1,path:"/migration-guide"},{title:"Official courses",externalUrl:"https://courses.nestjs.com/"},{title:"Discover",isOpened:!1,children:[{title:"Who is using Nest?",path:"/discover/companies"}]},{title:"T-Shirts and Hoodies",externalUrl:"https://nestjs.threadless.com/"},{title:"Support us",isOpened:!1,path:"/support"}]}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.pipe(Object(f.a)((function(e){return e instanceof Hr.b}))).subscribe((function(t){return e.toggleCategory()})),this.toggleCategory()}},{key:"toggleCategory",value:function(){var e=this.route.snapshot.firstChild;if(e.url&&e.url[1]||e.url&&e.routeConfig&&e.routeConfig.loadChildren){var t=e.url[0].path,n=this.items.findIndex((function(e){return e.title.toLowerCase()===t}));if(n<0)return;this.items[n].isOpened=!0,this.items[1].isOpened=!1}}}]),e}()).\u0275fac=function(e){return new(e||Vr)(c.Fb(Hr.a),c.Fb(Hr.d))},Vr.\u0275cmp=c.zb({type:Vr,selectors:[["app-menu"]],inputs:{isSidebarOpened:"isSidebarOpened"},decls:6,vars:1,consts:[[1,"nav-container",3,"click"],["class","nav-item",3,"isOpen","title","externalUrl","icon","path","children",4,"ngFor","ngForOf"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A node.js framework built on top of TypeScript",1,"btn","btn-support"],["href","https://docs.nestjs.com/v6",1,"btn","btn-version"],[1,"nav-item",3,"isOpen","title","externalUrl","icon","path","children"]],template:function(e,t){1&e&&(c.Ib(0,"nav",0),c.Pb("click",(function(e){return e.stopPropagation()})),c.jc(1,Br,1,6,"app-menu-item",1),c.Ib(2,"a",2),c.lc(3,"Get enterprise support"),c.Hb(),c.Ib(4,"a",3),c.lc(5,"Version 6"),c.Hb(),c.Hb()),2&e&&(c.vb(1),c.Yb("ngForOf",t.items))},directives:[g.h,zr],styles:['.btn-support[_ngcontent-%COMP%], .btn-version[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%], [_nghost-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{transform:translateX(-100%);padding:90px 17px 40px 24px;width:250px;background:#f5f5f5;position:fixed!important;bottom:0;top:0;z-index:1000;overflow:hidden}.opened[_nghost-%COMP%]{transform:translateX(0)}@media only screen and (max-width:1200px){[_nghost-%COMP%]{width:250px}}@media only screen and (max-width:991px){.opened[_nghost-%COMP%]{z-index:1000;box-shadow:0 10px 40px rgba(0,0,0,.1)}}@media only screen and (max-width:767px){[_nghost-%COMP%]{padding:85px 25px 20px}}@media only screen and (max-width:480px){[_nghost-%COMP%]{width:100%}}@media print{[_nghost-%COMP%]{display:none}}.nav-item[_ngcontent-%COMP%]{margin:0 -10px;padding:0 10px}.nav-item[_ngcontent-%COMP%]:last-of-type{border:0}.nav-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0}.btn-support[_ngcontent-%COMP%], .btn-version[_ngcontent-%COMP%]{border-radius:2px;padding:10px;box-sizing:border-box;font-weight:700;font-size:13px;text-transform:uppercase;text-align:left;width:calc(100% - 10px);display:block}.btn-version[_ngcontent-%COMP%]{background:#dfdfdf;margin-top:5px;color:#151515}.btn-version[_ngcontent-%COMP%]:hover{background:#ccc}.btn-support[_ngcontent-%COMP%]{margin-top:20px;background:#ed2945;color:#fff}.btn-support[_ngcontent-%COMP%]:hover{background:#151515}'],changeDetection:0}),Vr),Jr=o("PqYM"),Yr=o("IzEk"),Xr=["tocWrapper"];function Qr(e,t){if(1&e){var n=c.Jb();c.Ib(0,"li"),c.Ib(1,"a",3),c.Pb("click",(function(e){c.fc(n);var r=t.$implicit;return c.Tb().navigateToAnchor(e,r.elementRef)})),c.lc(2),c.Hb(),c.Hb()}if(2&e){var r=t.$implicit,i=t.index,o=c.Tb();c.xb("current",i===o.activeId),c.wb("id",r.id),c.vb(1),c.ac("href","",o.currentURL(),"#",r.elementRef.id,"",c.gc),c.vb(1),c.nc(" ",r.textContent," ")}}var Kr,Zr,$r,ei,ti,ni,ri,ii,oi,ai,si,ci,li,ui,hi,di,pi,bi,fi,mi,vi,gi,yi,wi,Ii,Hi=((Kr=function(){function e(t,n){b(this,e),this.cd=t,this.renderer=n,this.headings=[],this.isPositionFixed=!0,this.scrollTopOffset=100,this.scrollDebounceTime=10}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.scrollSubscription=Object(kr.a)(window,"scroll").pipe(Object(_r.a)(this.scrollDebounceTime)).subscribe((function(t){e.findCurrentHeading(),e.checkViewportBoundaries()})),this.init(),this.updateOffsetTop()}},{key:"ngOnChanges",value:function(){this.init(),this.updateOffsetTop()}},{key:"ngOnDestroy",value:function(){this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}},{key:"init",value:function(){this.lookupHeadings(),this.findCurrentHeading(),this.findMaxTopOffset()}},{key:"lookupHeadings",value:function(){if(this.contentReference){var e=this.contentReference.querySelectorAll("h3, h4");this.headings=Array.from(e).map((function(e){return{offsetTop:e.offsetTop,textContent:(t=e.textContent,n=t&&t.indexOf("#"),n>=0?t.slice(0,n):t),elementRef:e};var t,n}))}}},{key:"updateOffsetTop",value:function(){var e=this;this.timerSubscription=Object(Jr.a)(600,200).pipe(Object(Yr.a)(3)).subscribe((function(){return e.init()}))}},{key:"navigateToAnchor",value:function(e,t){t&&this.findCurrentHeading()}},{key:"findCurrentHeading",value:function(){for(var e=this,t=function(t){var n=e.activeId!==t;e.activeId=t,n&&e.cd.markForCheck()},n=0;n<this.headings.length;n++){if(this.headings.length-1===n)return t(n);if(this.headings[n+1].offsetTop>=window.pageYOffset+this.scrollTopOffset+15)return t(n)}}},{key:"findMaxTopOffset",value:function(){if(this.tocWrapper){var e=this.tocWrapper.nativeElement,t=document.querySelector(".page-wrapper");t&&e&&(this.maxTopOffset=t.scrollHeight-e.scrollHeight-this.scrollTopOffset)}}},{key:"currentURL",value:function(){return window.location.href.split("#")[0]}},{key:"checkViewportBoundaries",value:function(){this.isPositionFixed=this.maxTopOffset>window.pageYOffset;var e=this.tocWrapper.nativeElement;this.isPositionFixed?(this.renderer.removeStyle(e,"top"),this.renderer.removeStyle(e,"position")):(this.renderer.setStyle(e,"top",this.maxTopOffset+150+"px"),this.renderer.setStyle(e,"position","absolute"))}},{key:"trackById",value:function(e,t){return t.id}}]),e}()).\u0275fac=function(e){return new(e||Kr)(c.Fb(c.h),c.Fb(c.D))},Kr.\u0275cmp=c.zb({type:Kr,selectors:[["app-toc"]],viewQuery:function(e,t){var n;1&e&&c.ic(Xr,!0),2&e&&c.cc(n=c.Qb())&&(t.tocWrapper=n.first)},inputs:{contentReference:"contentReference",headings:"headings"},features:[c.ub],decls:4,vars:2,consts:[["perfectScrollbar","",1,"toc-wrapper"],["tocWrapper",""],[3,"current",4,"ngFor","ngForOf","ngForTrackBy"],[3,"href","click"]],template:function(e,t){1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"ul"),c.jc(3,Qr,3,6,"li",2),c.Hb(),c.Hb()),2&e&&(c.vb(3),c.Yb("ngForOf",t.headings)("ngForTrackBy",t.trackById))},directives:[Ir.b,g.h],styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], .toc-wrapper[_ngcontent-%COMP%]{box-sizing:border-box}.toc-wrapper[_ngcontent-%COMP%]{width:250px;padding-left:45px;position:fixed;top:90px;right:20px;max-height:350px;max-height:calc(100vh - 350px)}@media print{.toc-wrapper[_ngcontent-%COMP%]{display:none}}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative;padding:0}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:10px;bottom:10px;width:2px;background:#efefef}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;position:relative;padding-left:30px;font-size:14px;line-height:24px;margin-bottom:6px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ed2945}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#ed2945;font-weight:600}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]:before{background:#ed2945;border-color:#ed2945;border-width:1px;left:-3px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{border-radius:50%;transform:translateY(-50%);content:"";background:#fdfdfd;border:2px solid #efefef;left:-4px;width:6px;height:6px;top:50%;display:inline-block;position:absolute}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type:before{top:auto;bottom:0}.toc-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#404040;font-weight:400}.toc-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:#ed2945}'],changeDetection:0}),Kr),ki=o("EY2u"),_i=o("JIr8"),xi=((ti=function(){function e(t){b(this,e),this.httpClient=t}return m(e,[{key:"addToNewsletter",value:function(e){return this.httpClient.post("https://z93f42xq2l.execute-api.us-east-2.amazonaws.com/Stage/newsletter?token=db1f899025b5a59a76b6b34b2a013893",{email:e}).pipe(Object(_i.a)((function(){return Object(ki.b)()}))).toPromise()}}]),e}()).\u0275fac=function(e){return new(e||ti)(c.Mb(Y))},ti.\u0275prov=c.Bb({token:ti,factory:ti.\u0275fac,providedIn:"root"}),ti),Ci=((ei=function(){function e(t,n){b(this,e),this.newsletterService=t,this.cd=n}return m(e,[{key:"addToNewsletter",value:function(e,t){return n=this,i=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),this.isDisabled=!0,this.cd.markForCheck(),n.next=5,this.newsletterService.addToNewsletter(t);case 5:this.isEmailAdded=!0,this.cd.markForCheck();case 7:case"end":return n.stop()}}),n,this)})),new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{s(i.next(e))}catch(n){t(n)}}function a(e){try{s(i.throw(e))}catch(n){t(n)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,a)}s((i=i.apply(n,[])).next())}));var n,r,i}}]),e}()).\u0275fac=function(e){return new(e||ei)(c.Fb(xi),c.Fb(c.h))},ei.\u0275cmp=c.zb({type:ei,selectors:[["app-newsletter"]],decls:16,vars:4,consts:[[1,"newsletter-wrapper"],[1,"signup"],[1,"envelope-bg"],[1,"far","fa-envelope"],[1,"hgroup"],[1,"newsletter-form"],[1,"form-wrapper",3,"submit"],["id","newsletter-email","name","email","type","email","placeholder","Email address..","required","",1,"form-control",3,"disabled"],["email",""],["type","submit","aria-label","Signup to Newsletter",1,"signup-button",3,"disabled"],[1,"far","fa-paper-plane"],[1,"icon-success","fas","fa-check-circle"]],template:function(e,t){if(1&e){var n=c.Jb();c.Ib(0,"div",0),c.Ib(1,"div",1),c.Ib(2,"div",2),c.Gb(3,"i",3),c.Hb(),c.Ib(4,"div",4),c.Ib(5,"h3"),c.lc(6,"Join our Newsletter"),c.Hb(),c.Ib(7,"p"),c.lc(8," Subscribe to stay up to date with the latest Nest updates, features, and videos! "),c.Hb(),c.Hb(),c.Ib(9,"div",5),c.Ib(10,"form",6),c.Pb("submit",(function(e){c.fc(n);var r=c.dc(12);return t.addToNewsletter(e,r.value)})),c.Gb(11,"input",7,8),c.Ib(13,"button",9),c.Gb(14,"i",10),c.Gb(15,"i",11),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Hb()}2&e&&(c.vb(11),c.Yb("disabled",t.isDisabled),c.vb(2),c.xb("btn-success",t.isEmailAdded),c.Yb("disabled",t.isDisabled))},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.newsletter-wrapper[_ngcontent-%COMP%]{background:#e8e8e8;padding:40px 85px;overflow:hidden;position:relative;margin:0 -85px;width:auto}@media only screen and (max-width:1200px){.newsletter-wrapper[_ngcontent-%COMP%]{margin:0 -50px;padding:40px 50px}}@media only screen and (max-width:767px){.newsletter-wrapper[_ngcontent-%COMP%]{margin:0 -20px;padding:40px 20px;width:100%;text-align:center}}.newsletter-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 4px;color:#111}.newsletter-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;margin:0;color:#7b7b7b;font-weight:500;line-height:22px}.newsletter-form[_ngcontent-%COMP%], .newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.newsletter-form[_ngcontent-%COMP%]{text-align:right;width:40%;position:relative;margin-top:5px}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{width:60%;float:left;position:relative}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:0;font-size:13px;padding:10px 20px;background:#fdfdfd;width:calc(100% - 70px);box-shadow:-2px 2px 3px #dcdcdc;border-radius:3px;max-width:100%}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;vertical-align:middle;box-sizing:border-box;outline:0}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ed1543;padding:10px 18px;border:0;color:#fff;margin-left:-45px;font-size:14px;border-top-right-radius:3px;border-bottom-right-radius:3px;transition:all .2s ease-in-out;cursor:pointer}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .newsletter-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background:#111}.newsletter-form[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]   .fa-paper-plane[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon-success[_ngcontent-%COMP%]{display:none}.newsletter-form[_ngcontent-%COMP%]   .btn-success[disabled][_ngcontent-%COMP%]{background:#d3e6d4;color:#1dd81c;pointer-events:none}.newsletter-form[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]   .icon-success[_ngcontent-%COMP%]{display:inline-block}.newsletter-wrapper[_ngcontent-%COMP%]   .envelope-bg[_ngcontent-%COMP%]{font-size:180px;position:absolute;margin-top:-50px;margin-left:60px;color:#dedede;z-index:0;transform:rotate(-30deg)}@media (max-width:1020px){.newsletter-form[_ngcontent-%COMP%], .newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{width:50%}}@media (max-width:990px){.newsletter-form[_ngcontent-%COMP%], .newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{width:100%}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{float:none;text-align:center}.newsletter-form[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-left:0}.newsletter-wrapper[_ngcontent-%COMP%]   .envelope-bg[_ngcontent-%COMP%]{font-size:280px}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:400px;width:calc(100% - 10px)}}'],changeDetection:0}),ei),Si=(($r=function e(){b(this,e)}).\u0275fac=function(e){return new(e||$r)},$r.\u0275cmp=c.zb({type:$r,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"social-wrapper"],["title","Kamil Mysliwiec Facebook","href","https://www.facebook.com/kammysliwiec/","target","_blank"],[1,"fab","fa-facebook"],["title","Kamil Mysliwiec Twitter","href","https://twitter.com/kammysliwiec","target","_blank"],[1,"fab","fa-twitter"],["title","Kamil Mysliwiec Github","href","https://github.com/kamilmysliwiec","target","_blank"],[1,"fab","fa-github"],["href","https://kamilmysliwiec.com","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer","target","_blank"],[1,"fa","fa-globe"],[1,"credits"],["href","https://kamilmysliwiec.com","target","_blank","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"],[1,"separator"],["href","https://dribbble.com/JakubStaron","title","Jakub Staron Dribble","target","_blank"],["href","https://trilon.io","target","_blank","title","Official NestJS Consulting | Angular Consulting"],["href","https://www.netlify.com","target","_blank"]],template:function(e,t){1&e&&(c.Ib(0,"footer"),c.Ib(1,"div",0),c.Ib(2,"a",1),c.Gb(3,"i",2),c.Hb(),c.Ib(4,"a",3),c.Gb(5,"i",4),c.Hb(),c.Ib(6,"a",5),c.Gb(7,"i",6),c.Hb(),c.Ib(8,"a",7),c.Gb(9,"i",8),c.Hb(),c.Hb(),c.Ib(10,"div",9),c.Ib(11,"p"),c.lc(12," Copyright \xa9 2017-2020 MIT by "),c.Ib(13,"a",10),c.lc(14," Kamil Mysliwiec"),c.Hb(),c.Gb(15,"span",11),c.lc(16," design by "),c.Ib(17,"a",12),c.lc(18,"Jakub Staron"),c.Hb(),c.Gb(19,"br"),c.lc(20," Official NestJS Consulting "),c.Ib(21,"a",13),c.lc(22," Trilon.io"),c.Hb(),c.Gb(23,"span",11),c.lc(24," hosted by "),c.Ib(25,"a",14),c.lc(26,"Netlify"),c.Hb(),c.Hb(),c.Hb(),c.Hb())},styles:['.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%], [_nghost-%COMP%], footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]{*zoom:1}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:#151515;display:block;padding:40px 0;margin:0 -85px;width:auto;font-size:14px;position:relative;z-index:12}@media only screen and (max-width:1200px){[_nghost-%COMP%]{margin:0 -50px}}@media only screen and (max-width:767px){[_nghost-%COMP%]{padding:15px;margin:0 -20px;width:calc(100% + 40px);position:static;height:auto;text-align:center}}footer[_ngcontent-%COMP%]{display:block;position:relative;color:#929292;text-align:center}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}footer[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:inline-block;width:2px;height:12px;margin:0 3px 0 5px;vertical-align:middle;background:#313131}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:25px;margin-bottom:0}.social-wrapper[_ngcontent-%COMP%]{text-align:center;right:40px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;color:#f3f5f7;font-size:20px;margin-left:15px;cursor:pointer}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ed2945}@media print{.social-wrapper[_ngcontent-%COMP%]{display:none}}'],changeDetection:0}),$r),Oi=((Zr=function(){function e(t,n,r,i){b(this,e),this.cd=t,this.router=n,this.elementRef=r,this.renderer=i,this.isSidebarOpened=!0,this.scrollDebounceTime=100}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.pipe(Object(f.a)((function(e){return e instanceof Hr.b}))).subscribe((function(){if(window.innerWidth>768)return!1;e.isSidebarOpened=!1,e.cd.detectChanges()})),this.scrollSubscription=Object(kr.a)(window,"scroll").pipe(Object(_r.a)(this.scrollDebounceTime)).subscribe((function(t){e.checkViewportBoundaries()}))}},{key:"ngAfterViewInit",value:function(){this.checkWindowWidth(window.innerWidth),this.contentRef&&this.contentRef.appendChild(this.createDocSearchScriptTag())}},{key:"ngOnDestroy",value:function(){this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"onResize",value:function(e){this.checkWindowWidth(e.target.innerWidth)}},{key:"toggleSidebar",value:function(){this.isSidebarOpened=!this.isSidebarOpened}},{key:"checkWindowWidth",value:function(e){e=e||window.innerWidth,this.previousWidth!==e&&e<=768&&(this.previousWidth=e,this.isSidebarOpened=!1,this.cd.detectChanges())}},{key:"checkViewportBoundaries",value:function(){var e=this.elementRef.nativeElement,t=e.querySelector("app-footer"),n=e.querySelector(".newsletter-wrapper"),r=e.querySelector("#carbonads");if(t&&r)return window.innerWidth<768?(this.renderer.removeStyle(r,"position"),void this.renderer.removeStyle(r,"bottom")):void(window.pageYOffset+window.innerHeight<n.offsetTop-t.offsetHeight+n.offsetHeight?(this.renderer.removeStyle(r,"position"),this.renderer.removeStyle(r,"bottom")):(this.renderer.setStyle(r,"position","absolute"),this.renderer.setStyle(r,"bottom","350px")))}},{key:"onRouteActivate",value:function(e){if(e){var t=e.nativeElement;if(t){if(this.contentRef=t.querySelector(".content"),this.contentRef&&!this.contentRef.querySelector(".carbon-wrapper")){var n=this.createCarbonScriptTag(),r=document.createElement("div");r.classList.add("carbon-wrapper"),r.prepend(n),this.contentRef.prepend(r)}this.cd.markForCheck()}}}},{key:"createCarbonScriptTag",value:function(){var e=document.createElement("script");return e.type="text/javascript",e.src="//cdn.carbonads.com/carbon.js?serve=CK7I653M&placement=nestjscom",e.id="_carbonads_js",e}},{key:"createDocSearchScriptTag",value:function(){var e=document.createElement("script");return e.type="text/javascript",e.src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js",e.async=!0,e.onload=function(){window.docsearch({apiKey:"9ea53de1a6911255834352bbbe4d3417",indexName:"nestjs",inputSelector:"#search",debug:!1})},e}}]),e}()).\u0275fac=function(e){return new(e||Zr)(c.Fb(c.h),c.Fb(Hr.d),c.Fb(c.l),c.Fb(c.D))},Zr.\u0275cmp=c.zb({type:Zr,selectors:[["app-homepage"]],hostBindings:function(e,t){1&e&&c.Pb("resize",(function(e){return t.onResize(e)}),!1,c.ec)},decls:38,vars:6,consts:[[3,"isSidebarOpened","toggle"],[1,"logo-wrapper"],["href","https://docs.nestjs.com/","title","Documentation | NestJS - A node.js framework built on top of TypeScript"],["alt","NestJS Logo","src","/assets/logo-small.svg"],[1,"container-fluid"],["perfectScrollbar",""],[1,"container"],[1,"page-wrapper"],[3,"contentReference"],[3,"activate"],[1,"sponsors-wrapper"],[1,"sponsors-container"],["routerLink","/support"],[1,"row","clearfix"],[1,"inline-column"],[1,"title"],["href","https://github.com/Sanofi-IADC","target","_blank"],["src","/assets/sponsors/sanofi.png","alt","Sanofi Logo",1,"logo-sponsor"],["href","https://valor-software.com/","target","_blank"],["src","/assets/sponsors/valor-software.png","alt","Valor Logo",1,"logo-sponsor"],["href","https://opencollective.com/nest","target","_blank","rel","nofollow",1,"btn","btn-primary"],["href","https://kamilmysliwiec.com","target","_blank","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],template:function(e,t){1&e&&(c.Ib(0,"app-header",0),c.Pb("toggle",(function(){return t.toggleSidebar()})),c.Ib(1,"div",1),c.Ib(2,"a",2),c.Gb(3,"img",3),c.Hb(),c.Hb(),c.Hb(),c.Ib(4,"div",4),c.Gb(5,"app-menu",5),c.Ib(6,"div",6),c.Ib(7,"div",7),c.Gb(8,"app-toc",8),c.Ib(9,"router-outlet",9),c.Pb("activate",(function(e){return t.onRouteActivate(e)})),c.Hb(),c.Hb(),c.Ib(10,"div",10),c.Ib(11,"div",11),c.Ib(12,"h3"),c.lc(13,"Support us"),c.Hb(),c.Ib(14,"p"),c.lc(15," Nest is an MIT-licensed open source project. It can grow thanks to the support by these awesome people. If you'd like to join them, please read more "),c.Ib(16,"a",12),c.lc(17,"here"),c.Hb(),c.lc(18,". "),c.Hb(),c.Ib(19,"div",13),c.Ib(20,"div",14),c.Ib(21,"h4",15),c.lc(22,"Principal Sponsors"),c.Hb(),c.Ib(23,"a",16),c.Gb(24,"img",17),c.Hb(),c.Ib(25,"a",18),c.Gb(26,"img",19),c.Hb(),c.Hb(),c.Ib(27,"div",14),c.Ib(28,"h4",15),c.lc(29,"Sponsors / Partners"),c.Hb(),c.Ib(30,"a",20),c.lc(31," Become a sponsor "),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Gb(32,"app-newsletter"),c.Ib(33,"app-footer"),c.Ib(34,"p"),c.lc(35," Made by "),c.Ib(36,"a",21),c.lc(37," Kamil My\u015bliwiec "),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Hb()),2&e&&(c.Yb("isSidebarOpened",t.isSidebarOpened),c.vb(5),c.xb("opened",t.isSidebarOpened),c.vb(1),c.xb("wide",!t.isSidebarOpened),c.vb(2),c.Yb("contentReference",t.contentRef))},directives:[Sr,Wr,Ir.b,Hi,Hr.h,Hr.f,Ci,Si],styles:['.container,.transition{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix{*zoom:1}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.center-element{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.center-left{position:absolute;left:50%;transform:translateX(-50%)}.center-top{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing,.container{box-sizing:border-box}.container-fluid{position:relative;display:block;table-layout:fixed;width:100%;min-height:100vh}.logo-wrapper img,.logo-wrapper svg{width:42px;height:50px}.container{margin-left:250px;width:calc(100% - 250px);padding:85px 85px 0;display:inline-block;vertical-align:top;position:relative}.container.wide{margin-left:0;width:100%;display:block}@media only screen and (max-width:1200px){.container{margin-left:250px;width:calc(100% - 250px);padding:85px 50px 0}.container.wide{width:100%}}@media only screen and (max-width:767px){.container{margin-left:0;width:100%;padding:85px 20px 0}}@media print{.container{margin-left:0;width:100%;padding:0 20px}}.page-wrapper{color:#404040;line-height:26px}.page-wrapper a{font-weight:600;color:#ed2945}.page-wrapper a:hover{color:#0894e2}.page-wrapper h1,.page-wrapper h2,.page-wrapper h3,.page-wrapper h4,.page-wrapper h5,.page-wrapper h6{color:#151515}.page-wrapper h3{font-size:24px;font-weight:700;margin:45px 0 20px}.page-wrapper h4{font-weight:600;margin:40px 0 -5px}.page-wrapper h3 a,.page-wrapper h4 a{opacity:0;filter:alpha(opacity=0);margin-left:.1em;padding:0 .25rem}.page-wrapper h3 a:focus,.page-wrapper h3 span+a:hover,.page-wrapper h3 span:hover+a,.page-wrapper h4 a:focus,.page-wrapper h4 span+a:hover,.page-wrapper h4 span:hover+a{opacity:1;filter:alpha(opacity=100)}.page-wrapper h3:before,.page-wrapper h4:before{content:"";display:block;position:relative;width:0;height:5em;margin-top:-5em;pointer-events:none}.page-wrapper h5{color:#404040;margin-top:5px;font-weight:600;font-size:16px}.page-wrapper h3:first-of-type{margin:20px 0}.page-wrapper h3+h5{margin-top:-10px!important}.sponsors-wrapper{border-top:1px solid #e8e8e8;padding:10px 0 60px;margin-top:20px;position:relative}.sponsors-wrapper img{display:inline-block;vertical-align:middle}.sponsors-wrapper a{color:#ed2945;font-weight:600}.sponsors-wrapper a:hover{color:#0894e2}.sponsors-wrapper h3{font-size:24px;font-weight:700;color:#1d1d1d}.sponsors-wrapper h4{color:#1b2247;font-weight:600;font-size:18px;margin:30px 0 18px}.sponsors-wrapper .title{margin:50px 0 25px}.sponsors-wrapper p{margin:0;line-height:26px;font-size:16px;font-weight:500;color:#4e4e4e}.sponsors-wrapper .logo-sponsor{margin-top:10px;width:180px;-webkit-filter:grayscale(1);filter:grayscale(1)}.sponsors-wrapper .logo-sponsor:first-of-type{margin-right:30px;margin-bottom:10px}.sponsors-wrapper .logo-sponsor:hover{-webkit-filter:grayscale(0);filter:grayscale(0)}.sponsors-wrapper .logo-sponsor-small{width:150px;margin-bottom:30px;display:block}.sponsors-wrapper .logo-blueanchor{width:200px}.sponsors-wrapper .btn-primary{border:2px solid #ed2945;color:#ed2945;padding:12px 20px;display:inline-block}.sponsors-wrapper .btn-primary:hover{color:#0894e2;border-color:#0894e2}.backers-wrapper{margin-top:10px}.backers-wrapper img{width:30px;border-radius:50%;-webkit-border-radius:50%}.inline-column{width:50%;vertical-align:top;margin:0;float:left}@media only screen and (max-width:991px){.inline-column{width:100%;float:none}}.companies-wrapper,.content,.toc-wrapper{display:inline-block;vertical-align:top}.companies-wrapper,.content{width:calc(100% - 220px)}@media print{.companies-wrapper,.content{width:100%}}@media only screen and (max-width:1200px){.companies-wrapper,.content{width:100%}}.companies-wrapper .row,.content .row{display:flex}@media only screen and (max-width:991px){.companies-wrapper .row,.content .row{display:block}}.companies-wrapper .thumbnail,.content .thumbnail{width:400px}@media only screen and (max-width:991px){.companies-wrapper .thumbnail,.content .thumbnail{width:100%;max-width:400px;margin:0 auto}}.companies-wrapper .thumbnail img,.content .thumbnail img{max-width:100%;padding-top:10px;padding-bottom:0;box-sizing:border-box}.companies-wrapper .thumbnail.p-l-30 img,.content .thumbnail.p-l-30 img{padding-left:30px}@media only screen and (max-width:991px){.companies-wrapper .thumbnail.p-l-30 img,.content .thumbnail.p-l-30 img{padding-left:0}}.companies-wrapper .thumbnail.p-r-30 img,.content .thumbnail.p-r-30 img{padding-right:30px}@media only screen and (max-width:991px){.companies-wrapper .thumbnail.p-r-30 img,.content .thumbnail.p-r-30 img{padding-right:0}}.companies-wrapper .content,.content .content{flex-basis:55%}.companies-wrapper .contact-us,.content .contact-us{background:#ed2945;color:#fff;padding:20px 30px;border-radius:3px;margin:35px 0;display:flex;align-items:center}@media only screen and (max-width:767px){.companies-wrapper .contact-us,.content .contact-us{display:block;text-align:center}.companies-wrapper .contact-us p,.content .contact-us p{text-align:center}}.companies-wrapper .contact-us h5,.content .contact-us h5{text-transform:uppercase;font-weight:600;color:#fff;margin:0}.companies-wrapper .contact-us p,.content .contact-us p{margin:0}.companies-wrapper .contact-us a,.content .contact-us a{background:#fff;border:2px solid #fff;box-sizing:border-box;padding:8px 16px;border-radius:4px;float:right;display:block;text-align:center}.companies-wrapper .contact-us a:hover,.content .contact-us a:hover{background:transparent;color:#fff}@media only screen and (max-width:767px){.companies-wrapper .contact-us a,.content .contact-us a{width:150px;margin:15px auto 0;float:none}}.companies-wrapper .contact-us .column,.content .contact-us .column{justify-content:center;flex-direction:column}.companies-wrapper .contact-us .column-text,.content .contact-us .column-text{flex-grow:3;margin-right:20px}.github-links{float:right;margin-top:24px}.github-links svg{font-size:17px;color:#151515}.github-links svg:hover{color:#ed2945}@media only screen and (max-width:1200px){.toc-wrapper{display:none}}.company-logo{display:inline-block;vertical-align:middle;margin:10px 20px}.company-logo img{max-width:130px;max-height:90px;-webkit-filter:grayscale(100%);filter:grayscale(100%);opacity:.5}.company-logo img:hover{-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1}.companies-list a{color:#404040;font-size:15px;font-weight:400}#carbonads a{text-decoration:none;font-weight:400}#carbonads a,#carbonads a:hover{color:inherit}#carbonads span{display:block;overflow:hidden}#carbonads_1,#carbonads_2{display:none}.carbon-img{display:block;margin:0 auto 8px;line-height:1}.carbon-text{display:block;margin-bottom:8px}.carbon-poweredby{text-transform:uppercase;display:block;font-size:10px;letter-spacing:1px;line-height:1}.carbon-wrapper #carbonads{position:fixed;z-index:11;display:block;right:65px;bottom:20px;overflow:hidden;padding:1em;background:#fdfdfd;text-align:center;line-height:1.5;font-size:13px;max-width:130px}@media only screen and (max-width:1200px){.carbon-wrapper #carbonads{padding:30px 0 30px 30px;float:right;position:static}}@media only screen and (max-width:767px){.carbon-wrapper #carbonads{padding:30px 0 15px 25px;text-align:left}}@media print{.carbon-wrapper{display:none}}.algolia-autocomplete .ds-dropdown-menu{width:460px;min-width:460px;margin-top:18px}.algolia-autocomplete .algolia-docsearch-suggestion--category-header{color:#151515;text-transform:uppercase;font-weight:700;font-size:16px}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column{color:#757575}.algolia-autocomplete .algolia-docsearch-suggestion--title{font-weight:600;color:151515}.algolia-autocomplete .algolia-docsearch-suggestion--text{font-size:.8rem;color:grey}.algolia-autocomplete .algolia-docsearch-suggestion--highlight{color:#ed2945;background:#fff2f4}.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion.suggestion-layout-simple,.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--content{background:#fff8f9}'],encapsulation:2,changeDetection:0}),Zr),Ti=o("Ydvz"),Ei=o("zg9e"),Ai=o("FKbk"),Pi=((ni=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return ji(e||ni)},ni.\u0275cmp=c.zb({type:ni,selectors:[["app-application-context"]],features:[c.tb],decls:102,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/application-context.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","standalone-applications"],["appAnchor","","id","getting-started"],[1,"filename"],["app75139fe42717be12e039c031e6bb13ed6f24e09a",""],[1,"language-typescript"],["app305f9edc56659f86e422da79f078d37a890b79a3",""],["app1cde249b41d6c38ec8e14206e3c3a07ec877cc46",""],[1,"info"],["app81ae97ed03166410e6ae9ad3b8eb60a6bd5d6517",""]],template:function(e,t){1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Standalone applications"),c.Hb(),c.Ib(7,"p"),c.lc(8,"There are several ways of mounting a Nest application. You can create a web app, a microservice or just a bare Nest "),c.Ib(9,"strong"),c.lc(10,"standalone application"),c.Hb(),c.lc(11," (without any network listeners). The Nest standalone application is a wrapper around the Nest "),c.Ib(12,"strong"),c.lc(13,"IoC container"),c.Hb(),c.lc(14,", which holds all instantiated classes. We can obtain a reference to any existing instance from within any imported module directly using the standalone application object. Thus, you can take advantage of the Nest framework anywhere, including, for example, scripted "),c.Ib(15,"strong"),c.lc(16,"CRON"),c.Hb(),c.lc(17," jobs. You can even build a "),c.Ib(18,"strong"),c.lc(19,"CLI"),c.Hb(),c.lc(20," on top of it."),c.Hb(),c.Ib(21,"h4",6),c.Ib(22,"span"),c.lc(23,"Getting started"),c.Hb(),c.Hb(),c.Ib(24,"p"),c.lc(25,"To create a Nest standalone application, use the following construction:"),c.Hb(),c.Ib(26,"span",7),c.Gb(27,"app-tabs",null,8),c.Hb(),c.Ib(29,"pre"),c.Ib(30,"code",9),c.lc(31,"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(ApplicationModule);\n  // application logic...\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Ib(32,"p"),c.lc(33,"The standalone application object allows you to obtain a reference to any instance registered within the Nest application. Let's imagine that we have a "),c.Ib(34,"code"),c.lc(35,"TasksService"),c.Hb(),c.lc(36," in the "),c.Ib(37,"code"),c.lc(38,"TasksModule"),c.Hb(),c.lc(39,". This class provides a set of methods that we want to call from within a CRON job."),c.Hb(),c.Ib(40,"span",7),c.Gb(41,"app-tabs",null,10),c.Hb(),c.Ib(43,"pre"),c.Ib(44,"code",9),c.lc(45,"\nconst app = await NestFactory.create(ApplicationModule);\nconst tasksService = app.get(TasksService);"),c.Hb(),c.Hb(),c.Ib(46,"p"),c.lc(47,"To access the "),c.Ib(48,"code"),c.lc(49,"TasksService"),c.Hb(),c.lc(50," instance we use the "),c.Ib(51,"code"),c.lc(52,"get()"),c.Hb(),c.lc(53," method. The "),c.Ib(54,"code"),c.lc(55,"get()"),c.Hb(),c.lc(56," method acts like a "),c.Ib(57,"strong"),c.lc(58,"query"),c.Hb(),c.lc(59," that searches for an instance in each registered module. Alternatively, for strict context checking, pass an options object with the "),c.Ib(60,"code"),c.lc(61,"strict: true"),c.Hb(),c.lc(62," property. With this option in effect, you have to navigate through specific modules to obtain a particular instance from the selected context."),c.Hb(),c.Ib(63,"span",7),c.Gb(64,"app-tabs",null,11),c.Hb(),c.Ib(66,"pre"),c.Ib(67,"code",9),c.lc(68,"\nconst app = await NestFactory.create(AppModule);\nconst tasksService = app.select(TasksModule).get(TasksService, { strict: true });"),c.Hb(),c.Hb(),c.Ib(69,"p"),c.lc(70,"Following is a summary of the methods available for retrieving instance references from the standalone application object."),c.Hb(),c.Ib(71,"table"),c.Ib(72,"tr"),c.Ib(73,"td"),c.Ib(74,"code"),c.lc(75,"get()"),c.Hb(),c.Hb(),c.Ib(76,"td"),c.lc(77," Retrieves an instance of a controller or provider (including guards, filters, and so on) available in the application context. "),c.Hb(),c.Hb(),c.Ib(78,"tr"),c.Ib(79,"td"),c.Ib(80,"code"),c.lc(81,"select()"),c.Hb(),c.Hb(),c.Ib(82,"td"),c.lc(83," Navigates through the modules graph to pull out a specific instance from the selected module (used together with strict mode as described above). "),c.Hb(),c.Hb(),c.Hb(),c.Ib(84,"blockquote",12),c.Ib(85,"strong"),c.lc(86,"Hint"),c.Hb(),c.lc(87," In non-strict mode, the root module is selected by default. To select any other module, you need to navigate the modules graph manually, step by step.\n"),c.Hb(),c.Ib(88,"p"),c.lc(89,"If you want the node application to close after the script finishes (e.g., for a script running CRON jobs), add "),c.Ib(90,"code"),c.lc(91,"await app.close()"),c.Hb(),c.lc(92," to the end of your "),c.Ib(93,"code"),c.lc(94,"bootstrap"),c.Hb(),c.lc(95," function:"),c.Hb(),c.Ib(96,"span",7),c.Gb(97,"app-tabs",null,13),c.Hb(),c.Ib(99,"pre"),c.Ib(100,"code",9),c.lc(101,"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(ApplicationModule);\n  // application logic...\n  await app.close();\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Hb())},directives:[Ei.a,Ai.a],encapsulation:2,changeDetection:0}),ni),ji=c.Kb(Pi),Mi=o("zdH2"),Ri=o("xE8d"),Ni=((ri=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return Di(e||ri)},ri.\u0275cmp=c.zb({type:ri,selectors:[["app-components"]],features:[c.tb],decls:294,vars:24,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/components.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","providers"],["src","/assets/Components_1.png"],[1,"info"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/SOLID"],["appAnchor","","id","services"],[1,"filename"],["app4e61f402e490b010e3cdefb24a4d015a4b2fbd09",""],[1,"language-typescript"],["appb0d612e4c284ce9c2a3895c38876a486f6691e6a",""],["app107d365a23189e5a703d44b3b07490e7913a8b8d",""],["appAnchor","","id","dependency-injection"],["rel","nofollow","target","_blank","href","https://angular.io/guide/dependency-injection"],["appAnchor","","id","scopes"],["routerLink","/fundamentals/injection-scopes"],["appAnchor","","id","custom-providers"],["routerLink","/fundamentals/dependency-injection"],["appAnchor","","id","optional-providers"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","property-based-injection"],[1,"warning"],["appAnchor","","id","provider-registration"],["app1ee0d1726816f1357603193f125af7452030a006",""],[1,"file-tree"],[1,"item"],[1,"children"],["appAnchor","","id","manual-instantiation"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/fundamentals/module-ref"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/standalone-applications"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Providers"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Providers are a fundamental concept in Nest. Many of the basic Nest classes may be treated as a provider \u2013 services, repositories, factories, helpers, and so on. The main idea of a provider is that it can "),c.Ib(9,"strong"),c.lc(10,"inject"),c.Hb(),c.lc(11,' dependencies; this means objects can create various relationships with each other, and the function of "wiring up" instances of objects can largely be delegated to the Nest runtime system. A provider is simply a class annotated with an '),c.Ib(12,"code"),c.lc(13,"@Injectable()"),c.Hb(),c.lc(14," decorator."),c.Hb(),c.Ib(15,"figure"),c.Gb(16,"img",6),c.Hb(),c.Ib(17,"p"),c.lc(18,"In the previous chapter, we built a simple "),c.Ib(19,"code"),c.lc(20,"CatsController"),c.Hb(),c.lc(21,". Controllers should handle HTTP requests and delegate more complex tasks to "),c.Ib(22,"strong"),c.lc(23,"providers"),c.Hb(),c.lc(24,". Providers are plain JavaScript classes with an "),c.Ib(25,"code"),c.lc(26,"@Injectable()"),c.Hb(),c.lc(27," decorator preceding their class declaration."),c.Hb(),c.Ib(28,"blockquote",7),c.Ib(29,"strong"),c.lc(30,"Hint"),c.Hb(),c.lc(31," Since Nest enables the possibility to design and organize dependencies in a more OO-way, we strongly recommend following the "),c.Ib(32,"a",8),c.lc(33,"SOLID"),c.Hb(),c.lc(34," principles.\n"),c.Hb(),c.Ib(35,"h4",9),c.Ib(36,"span"),c.lc(37,"Services"),c.Hb(),c.Hb(),c.Ib(38,"p"),c.lc(39,"Let's start by creating a simple "),c.Ib(40,"code"),c.lc(41,"CatsService"),c.Hb(),c.lc(42,". This service will be responsible for data storage and retrieval, and is designed to be used by the "),c.Ib(43,"code"),c.lc(44,"CatsController"),c.Hb(),c.lc(45,", so it's a good candidate to be defined as a provider. Thus, we decorate the class with "),c.Ib(46,"code"),c.lc(47,"@Injectable()"),c.Hb(),c.lc(48,"."),c.Hb(),c.Ib(49,"span",10),c.lc(50),c.Ub(51,"extension"),c.Gb(52,"app-tabs",null,11),c.Hb(),c.Ib(54,"pre"),c.Ib(55,"code",12),c.lc(56,"\nimport { Injectable } from '@nestjs/common';\nimport { Cat } from './interfaces/cat.interface';\n\n@Injectable()\nexport class CatsService {\n  private readonly cats: Cat[] = [];\n\n  create(cat: Cat) {\n    this.cats.push(cat);\n  }\n\n  findAll(): Cat[] {\n    return this.cats;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(57,"pre"),c.Ib(58,"code",12),c.lc(59,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class CatsService {\n  constructor() {\n    this.cats = [];\n  }\n\n  create(cat) {\n    this.cats.push(cat);\n  }\n\n  findAll() {\n    return this.cats;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(60,"blockquote",7),c.Ib(61,"strong"),c.lc(62,"Hint"),c.Hb(),c.lc(63," To create a service using the CLI, simply execute the "),c.Ib(64,"code"),c.lc(65,"$ nest g service cats"),c.Hb(),c.lc(66," command.\n"),c.Hb(),c.Ib(67,"p"),c.lc(68,"Our "),c.Ib(69,"code"),c.lc(70,"CatsService"),c.Hb(),c.lc(71," is a basic class with one property and two methods. The only new feature is that it uses the "),c.Ib(72,"code"),c.lc(73,"@Injectable()"),c.Hb(),c.lc(74," decorator. The "),c.Ib(75,"code"),c.lc(76,"@Injectable()"),c.Hb(),c.lc(77," decorator attaches metadata, which tells Nest that this class is a Nest provider. By the way, this example also uses a "),c.Ib(78,"code"),c.lc(79,"Cat"),c.Hb(),c.lc(80," interface, which probably looks something like this:"),c.Hb(),c.Ib(81,"span",10),c.lc(82),c.Ub(83,"extension"),c.Gb(84,"app-tabs",null,13),c.Hb(),c.Ib(86,"pre"),c.Ib(87,"code",12),c.lc(88,"\nexport interface Cat {\n  name: string;\n  age: number;\n  breed: string;\n}"),c.Hb(),c.Hb(),c.Ib(89,"p"),c.lc(90,"Now that we have a service class to retrieve cats, let's use it inside the "),c.Ib(91,"code"),c.lc(92,"CatsController"),c.Hb(),c.lc(93,":"),c.Hb(),c.Ib(94,"span",10),c.lc(95),c.Ub(96,"extension"),c.Gb(97,"app-tabs",null,14),c.Hb(),c.Ib(99,"pre"),c.Ib(100,"code",12),c.lc(101,"\nimport { Controller, Get, Post, Body } from '@nestjs/common';\nimport { CreateCatDto } from './dto/create-cat.dto';\nimport { CatsService } from './cats.service';\nimport { Cat } from './interfaces/cat.interface';\n\n@Controller('cats')\nexport class CatsController {\n  constructor(private catsService: CatsService) {}\n\n  @Post()\n  async create(@Body() createCatDto: CreateCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll(): Promise<Cat[]> {\n    return this.catsService.findAll();\n  }\n}"),c.Hb(),c.Hb(),c.Ib(102,"pre"),c.Ib(103,"code",12),c.lc(104,"\nimport { Controller, Get, Post, Body, Bind, Dependencies } from '@nestjs/common';\nimport { CatsService } from './cats.service';\n\n@Controller('cats')\n@Dependencies(CatsService)\nexport class CatsController {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n\n  @Post()\n  @Bind(Body())\n  async create(createCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll() {\n    return this.catsService.findAll();\n  }\n}"),c.Hb(),c.Hb(),c.Ib(105,"p"),c.lc(106,"The "),c.Ib(107,"code"),c.lc(108,"CatsService"),c.Hb(),c.lc(109," is "),c.Ib(110,"strong"),c.lc(111,"injected"),c.Hb(),c.lc(112," through the class constructor. Notice the use of the "),c.Ib(113,"code"),c.lc(114,"private"),c.Hb(),c.lc(115," syntax. This shorthand allows us to both declare and initialize the "),c.Ib(116,"code"),c.lc(117,"catsService"),c.Hb(),c.lc(118," member immediately in the same location."),c.Hb(),c.Ib(119,"h4",15),c.Ib(120,"span"),c.lc(121,"Dependency injection"),c.Hb(),c.Hb(),c.Ib(122,"p"),c.lc(123,"Nest is built around the strong design pattern commonly known as "),c.Ib(124,"strong"),c.lc(125,"Dependency injection"),c.Hb(),c.lc(126,". We recommend reading a great article about this concept in the official "),c.Ib(127,"a",16),c.lc(128,"Angular"),c.Hb(),c.lc(129," documentation."),c.Hb(),c.Ib(130,"p"),c.lc(131,"In Nest, thanks to TypeScript capabilities, it's extremely easy to manage dependencies because they are resolved just by type. In the example below, Nest will resolve the "),c.Ib(132,"code"),c.lc(133,"catsService"),c.Hb(),c.lc(134," by creating and returning an instance of "),c.Ib(135,"code"),c.lc(136,"CatsService"),c.Hb(),c.lc(137," (or, in the normal case of a singleton, returning the existing instance if it has already been requested elsewhere). This dependency is resolved and passed to your controller's constructor (or assigned to the indicated property):"),c.Hb(),c.Ib(138,"pre"),c.Ib(139,"code",12),c.lc(140,"\nconstructor(private catsService: CatsService) {}"),c.Hb(),c.Hb(),c.Ib(141,"h4",17),c.Ib(142,"span"),c.lc(143,"Scopes"),c.Hb(),c.Hb(),c.Ib(144,"p"),c.lc(145,'Providers normally have a lifetime ("scope") synchronized with the application lifecycle. When the application is bootstrapped, every dependency must be resolved, and therefore every provider has to be instantiated. Similarly, when the application shuts down, each provider will be destroyed. However, there are ways to make your provider lifetime '),c.Ib(146,"strong"),c.lc(147,"request-scoped"),c.Hb(),c.lc(148," as well. You can read more about these techniques "),c.Ib(149,"a",18),c.lc(150,"here"),c.Hb(),c.lc(151,"."),c.Hb(),c.Ib(152,"p"),c.Gb(153,"app-banner-courses"),c.Hb(),c.Ib(154,"h4",19),c.Ib(155,"span"),c.lc(156,"Custom providers"),c.Hb(),c.Hb(),c.Ib(157,"p"),c.lc(158,'Nest has a built-in inversion of control ("IoC") container that resolves relationships between providers. This feature underlies the dependency injection feature described above, but is in fact far more powerful than what we\'ve described so far. The '),c.Ib(159,"code"),c.lc(160,"@Injectable()"),c.Hb(),c.lc(161," decorator is only the tip of the iceberg, and is not the only way to define providers. In fact, you can use plain values, classes, and either asynchronous or synchronous factories. More examples are provided "),c.Ib(162,"a",20),c.lc(163,"here"),c.Hb(),c.lc(164,"."),c.Hb(),c.Ib(165,"h4",21),c.Ib(166,"span"),c.lc(167,"Optional providers"),c.Hb(),c.Hb(),c.Ib(168,"p"),c.lc(169,"Occasionally, you might have dependencies which do not necessarily have to be resolved. For instance, your class may depend on a "),c.Ib(170,"strong"),c.lc(171,"configuration object"),c.Hb(),c.lc(172,", but if none is passed, the default values should be used. In such a case, the dependency becomes optional, because lack of the configuration provider wouldn't lead to errors."),c.Hb(),c.Ib(173,"p"),c.lc(174,"To indicate a provider is optional, use the "),c.Ib(175,"code"),c.lc(176,"@Optional()"),c.Hb(),c.lc(177," decorator in the constructor's signature."),c.Hb(),c.Ib(178,"pre"),c.Ib(179,"code",12),c.lc(180,"\nimport { Injectable, Optional, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  constructor(@Optional() @Inject('HTTP_OPTIONS') private httpClient: T) {}\n}"),c.Hb(),c.Hb(),c.Ib(181,"p"),c.lc(182,"Note that in the example above we are using a custom provider, which is the reason we include the "),c.Ib(183,"code"),c.lc(184,"HTTP_OPTIONS"),c.Hb(),c.lc(185," custom "),c.Ib(186,"strong"),c.lc(187,"token"),c.Hb(),c.lc(188,". Previous examples showed constructor-based injection indicating a dependency through a class in the constructor. Read more about custom providers and their associated tokens "),c.Ib(189,"a",22),c.lc(190,"here"),c.Hb(),c.lc(191,"."),c.Hb(),c.Ib(192,"h4",23),c.Ib(193,"span"),c.lc(194,"Property-based injection"),c.Hb(),c.Hb(),c.Ib(195,"p"),c.lc(196,"The technique we've used so far is called constructor-based injection, as providers are injected via the constructor method. In some very specific cases, "),c.Ib(197,"strong"),c.lc(198,"property-based injection"),c.Hb(),c.lc(199," might be useful. For instance, if your top-level class depends on either one or multiple providers, passing them all the way up by calling "),c.Ib(200,"code"),c.lc(201,"super()"),c.Hb(),c.lc(202," in sub-classes from the constructor can be very tedious. In order to avoid this, you can use the "),c.Ib(203,"code"),c.lc(204,"@Inject()"),c.Hb(),c.lc(205," decorator at the property level."),c.Hb(),c.Ib(206,"pre"),c.Ib(207,"code",12),c.lc(208,"\nimport { Injectable, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  @Inject('HTTP_OPTIONS')\n  private readonly httpClient: T;\n}"),c.Hb(),c.Hb(),c.Ib(209,"blockquote",24),c.Ib(210,"strong"),c.lc(211,"Warning"),c.Hb(),c.lc(212," If your class doesn't extend another provider, you should always prefer using "),c.Ib(213,"strong"),c.lc(214,"constructor-based"),c.Hb(),c.lc(215," injection.\n"),c.Hb(),c.Ib(216,"h4",25),c.Ib(217,"span"),c.lc(218,"Provider registration"),c.Hb(),c.Hb(),c.Ib(219,"p"),c.lc(220,"Now that we have defined a provider ("),c.Ib(221,"code"),c.lc(222,"CatsService"),c.Hb(),c.lc(223,"), and we have a consumer of that service ("),c.Ib(224,"code"),c.lc(225,"CatsController"),c.Hb(),c.lc(226,"), we need to register the service with Nest so that it can perform the injection. We do this by editing our module file ("),c.Ib(227,"code"),c.lc(228,"app.module.ts"),c.Hb(),c.lc(229,") and adding the service to the "),c.Ib(230,"code"),c.lc(231,"providers"),c.Hb(),c.lc(232," array of the "),c.Ib(233,"code"),c.lc(234,"@Module()"),c.Hb(),c.lc(235," decorator."),c.Hb(),c.Ib(236,"span",10),c.lc(237),c.Ub(238,"extension"),c.Gb(239,"app-tabs",null,26),c.Hb(),c.Ib(241,"pre"),c.Ib(242,"code",12),c.lc(243,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\nimport { CatsService } from './cats/cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(244,"p"),c.lc(245,"Nest will now be able to resolve the dependencies of the "),c.Ib(246,"code"),c.lc(247,"CatsController"),c.Hb(),c.lc(248," class."),c.Hb(),c.Ib(249,"p"),c.lc(250,"This is how our directory structure should look now:"),c.Hb(),c.Ib(251,"div",27),c.Ib(252,"div",28),c.lc(253,"src"),c.Hb(),c.Ib(254,"div",29),c.Ib(255,"div",28),c.lc(256,"cats"),c.Hb(),c.Ib(257,"div",29),c.Ib(258,"div",28),c.lc(259,"dto"),c.Hb(),c.Ib(260,"div",29),c.Ib(261,"div",28),c.lc(262,"create-cat.dto.ts"),c.Hb(),c.Hb(),c.Ib(263,"div",28),c.lc(264,"interfaces"),c.Hb(),c.Ib(265,"div",29),c.Ib(266,"div",28),c.lc(267,"cat.interface.ts"),c.Hb(),c.Hb(),c.Ib(268,"div",28),c.lc(269,"cats.service.ts"),c.Hb(),c.Ib(270,"div",28),c.lc(271,"cats.controller.ts"),c.Hb(),c.Hb(),c.Ib(272,"div",28),c.lc(273,"app.module.ts"),c.Hb(),c.Ib(274,"div",28),c.lc(275,"main.ts"),c.Hb(),c.Hb(),c.Hb(),c.Ib(276,"h4",30),c.Ib(277,"span"),c.lc(278,"Manual instantiation"),c.Hb(),c.Hb(),c.Ib(279,"p"),c.lc(280,"Thus far, we've discussed how Nest automatically handles most of the details of resolving dependencies. In certain circumstances, you may need to step outside of the built-in Dependency Injection system and manually retrieve or instantiate providers. We briefly discuss two such topics below."),c.Hb(),c.Ib(281,"p"),c.lc(282," To get existing instances, or instantiate providers dynamically, you can use "),c.Ib(283,"a",31),c.lc(284,"Module reference"),c.Hb(),c.lc(285,"."),c.Hb(),c.Ib(286,"p"),c.lc(287," To get providers within the "),c.Ib(288,"code"),c.lc(289,"bootstrap()"),c.Hb(),c.lc(290," function (for example for standalone applications without controllers, or to utilize a configuration service during bootstrapping) see "),c.Ib(291,"a",32),c.lc(292,"Standalone applications"),c.Hb(),c.lc(293,"."),c.Hb(),c.Hb()),2&e){var n=c.dc(53),r=c.dc(85),i=c.dc(98),o=c.dc(240);c.vb(50),c.nc(" ",c.Vb(51,12,"cats.service",n.isJsActive),"\n"),c.vb(4),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(25),c.nc(" ",c.Vb(83,15,"interfaces/cat.interface",r.isJsActive),"\n"),c.vb(13),c.nc(" ",c.Vb(96,18,"cats.controller",i.isJsActive),"\n"),c.vb(4),c.xb("hide",i.isJsActive),c.vb(3),c.xb("hide",!i.isJsActive),c.vb(135),c.nc(" ",c.Vb(238,21,"app.module",o.isJsActive),"\n")}},directives:[Ei.a,Ai.a,Hr.f,Mi.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),ri),Di=c.Kb(Ni),Fi=o("CquY"),qi=o("rOQQ"),Li=((ii=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return Ui(e||ii)},ii.\u0275cmp=c.zb({type:ii,selectors:[["app-controllers"]],features:[c.tb],decls:847,vars:76,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/controllers.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","controllers"],["src","/assets/Controllers_1.png"],["appAnchor","","id","routing"],[1,"filename"],["appa71e4b545099cd21b9d45f93b354c133d29fedc7",""],[1,"language-typescript"],[1,"info"],["href","controllers#status-code"],["href","http://expressjs.com/en/api.html#res","rel","nofollow","target","_blank"],[1,"warning"],["appAnchor","","id","request-object"],["rel","nofollow","target","_blank","href","http://expressjs.com/en/api.html#req"],["appd2eb1cc3f1e08223a7670bc01354adf7343e8a60",""],[1,"table-code-asterisk"],["routerLink","/custom-decorators"],["appAnchor","","id","resources"],["app1577d132689157d52ffb87179c18d650ed2542c6",""],["appAnchor","","id","route-wildcards"],["appAnchor","","id","status-code"],["appAnchor","","id","headers"],["appAnchor","","id","redirection"],[1,"language-json"],["appAnchor","","id","route-parameters"],["appd8db59374960eac4eb9e7ff960495dfaaf6e38b8",""],["appdf72aa8930bd72cfc4a6fd423cff2939ee4cddeb",""],["appAnchor","","id","sub-domain-routing"],[1,""],["appAnchor","","id","scopes"],["routerLink","/fundamentals/injection-scopes"],["appAnchor","","id","asynchronicity"],["rel","nofollow","target","_blank","href","https://kamilmysliwiec.com/typescript-2-1-introduction-async-await"],["appa5dfddd15e6894807fe90650e97467045bfc0395",""],["rel","nofollow","target","_blank","href","http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html"],["appdc56e95b9497bc2cacb6ced273a38e4b35858982",""],["appAnchor","","id","request-payloads"],["app226675c9a379cb974e5b24487df5133bd34e33e4",""],["app6782b4b494194acab18e9f62e5136f17cc3ad5a7",""],["appAnchor","","id","handling-errors"],["routerLink","/exception-filters"],["appAnchor","","id","full-resource-sample"],["appf54ad01d238ca550cc1914d6423526581d2276c3",""],["appAnchor","","id","getting-up-and-running"],["app63c6344ff8752523594d48f8149cb18b96a6f9e8",""],["appAnchor","","id","appendix-library-specific-approach"],["rel","nofollow","target","_blank","href","http://expressjs.com/en/api.html#res"],["appefd736d38de38a1c0b8015e13d8956bc257e773e",""]],template:function(e,t){if(1&e){c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Controllers"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Controllers are responsible for handling incoming "),c.Ib(9,"strong"),c.lc(10,"requests"),c.Hb(),c.lc(11," and returning "),c.Ib(12,"strong"),c.lc(13,"responses"),c.Hb(),c.lc(14," to the client."),c.Hb(),c.Ib(15,"figure"),c.Gb(16,"img",6),c.Hb(),c.Ib(17,"p"),c.lc(18,"A controller's purpose is to receive specific requests for the application. The "),c.Ib(19,"strong"),c.lc(20,"routing"),c.Hb(),c.lc(21," mechanism controls which controller receives which requests. Frequently, each controller has more than one route, and different routes can perform different actions."),c.Hb(),c.Ib(22,"p"),c.lc(23,"In order to create a basic controller, we use classes and "),c.Ib(24,"strong"),c.lc(25,"decorators"),c.Hb(),c.lc(26,". Decorators associate classes with required metadata and enable Nest to create a routing map (tie requests to the corresponding controllers)."),c.Hb(),c.Ib(27,"h4",7),c.Ib(28,"span"),c.lc(29,"Routing"),c.Hb(),c.Hb(),c.Ib(30,"p"),c.lc(31,"In the following example we'll use the "),c.Ib(32,"code"),c.lc(33,"@Controller()"),c.Hb(),c.lc(34," decorator, which is "),c.Ib(35,"strong"),c.lc(36,"required"),c.Hb(),c.lc(37," to define a basic controller. We'll specify an optional route path prefix of "),c.Ib(38,"code"),c.lc(39,"cats"),c.Hb(),c.lc(40,". Using a path prefix in a "),c.Ib(41,"code"),c.lc(42,"@Controller()"),c.Hb(),c.lc(43," decorator allows us to easily group a set of related routes, and minimize repetitive code. For example, we may choose to group a set of routes that manage interactions with a customer entity under the route "),c.Ib(44,"code"),c.lc(45,"/customers"),c.Hb(),c.lc(46,". In that case, we could specify the path prefix "),c.Ib(47,"code"),c.lc(48,"customers"),c.Hb(),c.lc(49," in the "),c.Ib(50,"code"),c.lc(51,"@Controller()"),c.Hb(),c.lc(52," decorator so that we don't have to repeat that portion of the path for each route in the file."),c.Hb(),c.Ib(53,"span",8),c.lc(54),c.Ub(55,"extension"),c.Gb(56,"app-tabs",null,9),c.Hb(),c.Ib(58,"pre"),c.Ib(59,"code",10),c.lc(60,"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(): string {\n    return 'This action returns all cats';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(61,"pre"),c.Ib(62,"code",10),c.lc(63,"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(64,"blockquote",11),c.Ib(65,"strong"),c.lc(66,"Hint"),c.Hb(),c.lc(67," To create a controller using the CLI, simply execute the "),c.Ib(68,"code"),c.lc(69,"$ nest g controller cats"),c.Hb(),c.lc(70," command.\n"),c.Hb(),c.Ib(71,"p"),c.lc(72,"The "),c.Ib(73,"code"),c.lc(74,"@Get()"),c.Hb(),c.lc(75," HTTP request method decorator before the "),c.Ib(76,"code"),c.lc(77,"findAll()"),c.Hb(),c.lc(78," method tells Nest to create a handler for a specific endpoint for HTTP requests. The endpoint corresponds to the HTTP request method (GET in this case) and the route path. What is the route path? The route path for a handler is determined by concatenating the (optional) prefix declared for the controller, and any path specified in the request decorator. Since we've declared a prefix for every route ( "),c.Ib(79,"code"),c.lc(80,"cats"),c.Hb(),c.lc(81,"), and haven't added any path information in the decorator, Nest will map "),c.Ib(82,"code"),c.lc(83,"GET /cats"),c.Hb(),c.lc(84," requests to this handler. As mentioned, the path includes both the optional controller path prefix "),c.Ib(85,"strong"),c.lc(86,"and"),c.Hb(),c.lc(87," any path string declared in the request method decorator. For example, a path prefix of "),c.Ib(88,"code"),c.lc(89,"customers"),c.Hb(),c.lc(90," combined with the decorator "),c.Ib(91,"code"),c.lc(92,"@Get('profile')"),c.Hb(),c.lc(93," would produce a route mapping for requests like "),c.Ib(94,"code"),c.lc(95,"GET /customers/profile"),c.Hb(),c.lc(96,"."),c.Hb(),c.Ib(97,"p"),c.lc(98,"In our example above, when a GET request is made to this endpoint, Nest routes the request to our user-defined "),c.Ib(99,"code"),c.lc(100,"findAll()"),c.Hb(),c.lc(101," method. Note that the method name we choose here is completely arbitrary. We obviously must declare a method to bind the route to, but Nest doesn't attach any significance to the method name chosen."),c.Hb(),c.Ib(102,"p"),c.lc(103,"This method will return a 200 status code and the associated response, which in this case is just a string. Why does that happen? To explain, we'll first introduce the concept that Nest employs two "),c.Ib(104,"strong"),c.lc(105,"different"),c.Hb(),c.lc(106," options for manipulating responses:"),c.Hb(),c.Ib(107,"table"),c.Ib(108,"tr"),c.Ib(109,"td"),c.lc(110,"Standard (recommended)"),c.Hb(),c.Ib(111,"td"),c.lc(112," Using this built-in method, when a request handler returns a JavaScript object or array, it will "),c.Ib(113,"strong"),c.lc(114,"automatically"),c.Hb(),c.lc(115," be serialized to JSON. When it returns a JavaScript primitive type (e.g., "),c.Ib(116,"code"),c.lc(117,"string"),c.Hb(),c.lc(118,", "),c.Ib(119,"code"),c.lc(120,"number"),c.Hb(),c.lc(121,", "),c.Ib(122,"code"),c.lc(123,"boolean"),c.Hb(),c.lc(124,"), however, Nest will send just the value without attempting to serialize it. This makes response handling simple: just return the value, and Nest takes care of the rest. "),c.Gb(125,"br"),c.Gb(126,"br"),c.lc(127," Furthermore, the response's "),c.Ib(128,"strong"),c.lc(129,"status code"),c.Hb(),c.lc(130," is always 200 by default, except for POST requests which use 201. We can easily change this behavior by adding the "),c.Ib(131,"code"),c.lc(132,"@HttpCode(...)"),c.Hb(),c.lc(133," decorator at a handler-level (see "),c.Ib(134,"a",12),c.lc(135,"Status codes"),c.Hb(),c.lc(136,"). "),c.Hb(),c.Hb(),c.Ib(137,"tr"),c.Ib(138,"td"),c.lc(139,"Library-specific"),c.Hb(),c.Ib(140,"td"),c.lc(141," We can use the library-specific (e.g., Express) "),c.Ib(142,"a",13),c.lc(143,"response object"),c.Hb(),c.lc(144,", which can be injected using the "),c.Ib(145,"code"),c.lc(146,"@Res()"),c.Hb(),c.lc(147," decorator in the method handler signature (e.g., "),c.Ib(148,"code"),c.lc(149,"findAll(@Res() response)"),c.Hb(),c.lc(150,"). With this approach, you have the ability (and the responsibility), to use the native response handling methods exposed by that object. For example, with Express, you can construct responses using code like "),c.Ib(151,"code"),c.lc(152,"response.status(200).send()"),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Ib(153,"blockquote",14),c.Ib(154,"strong"),c.lc(155,"Warning"),c.Hb(),c.lc(156," You cannot use both approaches at the same time. Nest detects when the handler is using either "),c.Ib(157,"code"),c.lc(158,"@Res()"),c.Hb(),c.lc(159," or "),c.Ib(160,"code"),c.lc(161,"@Next()"),c.Hb(),c.lc(162,", indicating you have chosen the library-specific option. If both approaches are used at the same time, the Standard approach is "),c.Ib(163,"strong"),c.lc(164,"automatically disabled"),c.Hb(),c.lc(165," for this single route and will no longer work as expected.\n"),c.Hb(),c.Ib(166,"p"),c.Gb(167,"app-banner-enterprise"),c.Hb(),c.Ib(168,"h4",15),c.Ib(169,"span"),c.lc(170,"Request object"),c.Hb(),c.Hb(),c.Ib(171,"p"),c.lc(172,"Handlers often need access to the client "),c.Ib(173,"strong"),c.lc(174,"request"),c.Hb(),c.lc(175," details. Nest provides access to the "),c.Ib(176,"a",16),c.lc(177,"request object"),c.Hb(),c.lc(178," of the underlying platform (Express by default). We can access the request object by instructing Nest to inject it by adding the "),c.Ib(179,"code"),c.lc(180,"@Req()"),c.Hb(),c.lc(181," decorator to the handler's signature."),c.Hb(),c.Ib(182,"span",8),c.lc(183),c.Ub(184,"extension"),c.Gb(185,"app-tabs",null,17),c.Hb(),c.Ib(187,"pre"),c.Ib(188,"code",10),c.lc(189,"\nimport { Controller, Get, Req } from '@nestjs/common';\nimport { Request } from 'express';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(@Req() request: Request): string {\n    return 'This action returns all cats';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(190,"pre"),c.Ib(191,"code",10),c.lc(192,"\nimport { Controller, Bind, Get, Req } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  @Bind(Req())\n  findAll(request) {\n    return 'This action returns all cats';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(193,"blockquote",11),c.Ib(194,"strong"),c.lc(195,"Hint"),c.Hb(),c.lc(196," In order to take advantage of "),c.Ib(197,"code"),c.lc(198,"express"),c.Hb(),c.lc(199," typings (as in the "),c.Ib(200,"code"),c.lc(201,"request: Request"),c.Hb(),c.lc(202," parameter example above), install "),c.Ib(203,"code"),c.lc(204,"@types/express"),c.Hb(),c.lc(205," package.\n"),c.Hb(),c.Ib(206,"p"),c.lc(207,"The request object represents the HTTP request and has properties for the request query string, parameters, HTTP headers, and body (read more "),c.Ib(208,"a",16),c.lc(209,"here"),c.Hb(),c.lc(210,"). In most cases, it's not necessary to grab these properties manually. We can use dedicated decorators instead, such as "),c.Ib(211,"code"),c.lc(212,"@Body()"),c.Hb(),c.lc(213," or "),c.Ib(214,"code"),c.lc(215,"@Query()"),c.Hb(),c.lc(216,", which are available out of the box. Below is a list of the provided decorators and the plain platform-specific objects they represent."),c.Hb(),c.Ib(217,"table"),c.Ib(218,"tbody"),c.Ib(219,"tr"),c.Ib(220,"td"),c.Ib(221,"code"),c.lc(222,"@Request()"),c.Hb(),c.Hb(),c.Ib(223,"td"),c.Ib(224,"code"),c.lc(225,"req"),c.Hb(),c.Hb(),c.Hb(),c.Ib(226,"tr"),c.Ib(227,"td"),c.Ib(228,"code"),c.lc(229,"@Response(), @Res()"),c.Hb(),c.Ib(230,"span",18),c.lc(231,"*"),c.Hb(),c.Hb(),c.Ib(232,"td"),c.Ib(233,"code"),c.lc(234,"res"),c.Hb(),c.Hb(),c.Hb(),c.Ib(235,"tr"),c.Ib(236,"td"),c.Ib(237,"code"),c.lc(238,"@Next()"),c.Hb(),c.Hb(),c.Ib(239,"td"),c.Ib(240,"code"),c.lc(241,"next"),c.Hb(),c.Hb(),c.Hb(),c.Ib(242,"tr"),c.Ib(243,"td"),c.Ib(244,"code"),c.lc(245,"@Session()"),c.Hb(),c.Hb(),c.Ib(246,"td"),c.Ib(247,"code"),c.lc(248,"req.session"),c.Hb(),c.Hb(),c.Hb(),c.Ib(249,"tr"),c.Ib(250,"td"),c.Ib(251,"code"),c.lc(252,"@Param(key?: string)"),c.Hb(),c.Hb(),c.Ib(253,"td"),c.Ib(254,"code"),c.lc(255,"req.params"),c.Hb(),c.lc(256," / "),c.Ib(257,"code"),c.lc(258,"req.params[key]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(259,"tr"),c.Ib(260,"td"),c.Ib(261,"code"),c.lc(262,"@Body(key?: string)"),c.Hb(),c.Hb(),c.Ib(263,"td"),c.Ib(264,"code"),c.lc(265,"req.body"),c.Hb(),c.lc(266," / "),c.Ib(267,"code"),c.lc(268,"req.body[key]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(269,"tr"),c.Ib(270,"td"),c.Ib(271,"code"),c.lc(272,"@Query(key?: string)"),c.Hb(),c.Hb(),c.Ib(273,"td"),c.Ib(274,"code"),c.lc(275,"req.query"),c.Hb(),c.lc(276," / "),c.Ib(277,"code"),c.lc(278,"req.query[key]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(279,"tr"),c.Ib(280,"td"),c.Ib(281,"code"),c.lc(282,"@Headers(name?: string)"),c.Hb(),c.Hb(),c.Ib(283,"td"),c.Ib(284,"code"),c.lc(285,"req.headers"),c.Hb(),c.lc(286," / "),c.Ib(287,"code"),c.lc(288,"req.headers[name]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(289,"tr"),c.Ib(290,"td"),c.Ib(291,"code"),c.lc(292,"@Ip()"),c.Hb(),c.Hb(),c.Ib(293,"td"),c.Ib(294,"code"),c.lc(295,"req.ip"),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Ib(296,"p"),c.Ib(297,"sup"),c.lc(298,"* "),c.Hb(),c.lc(299,"For compatibility with typings across underlying HTTP platforms (e.g., Express and Fastify), Nest provides "),c.Ib(300,"code"),c.lc(301,"@Res()"),c.Hb(),c.lc(302," and "),c.Ib(303,"code"),c.lc(304,"@Response()"),c.Hb(),c.lc(305," decorators. "),c.Ib(306,"code"),c.lc(307,"@Res()"),c.Hb(),c.lc(308," is simply an alias for "),c.Ib(309,"code"),c.lc(310,"@Response()"),c.Hb(),c.lc(311,". Both directly expose the underlying native platform "),c.Ib(312,"code"),c.lc(313,"response"),c.Hb(),c.lc(314," object interface. When using them, you should also import the typings for the underlying library (e.g., "),c.Ib(315,"code"),c.lc(316,"@types/express"),c.Hb(),c.lc(317,") to take full advantage. Note that when you inject either "),c.Ib(318,"code"),c.lc(319,"@Res()"),c.Hb(),c.lc(320," or "),c.Ib(321,"code"),c.lc(322,"@Response()"),c.Hb(),c.lc(323," in a method handler, you put Nest into "),c.Ib(324,"strong"),c.lc(325,"Library-specific mode"),c.Hb(),c.lc(326," for that handler, and you become responsible for managing the response. When doing so, you must issue some kind of response by making a call on the "),c.Ib(327,"code"),c.lc(328,"response"),c.Hb(),c.lc(329," object (e.g., "),c.Ib(330,"code"),c.lc(331,"res.json(...)"),c.Hb(),c.lc(332," or "),c.Ib(333,"code"),c.lc(334,"res.send(...)"),c.Hb(),c.lc(335,"), or the HTTP server will hang."),c.Hb(),c.Ib(336,"blockquote",11),c.Ib(337,"strong"),c.lc(338,"Hint"),c.Hb(),c.lc(339," To learn how to create your own custom decorators, visit "),c.Ib(340,"a",19),c.lc(341,"this"),c.Hb(),c.lc(342," chapter.\n"),c.Hb(),c.Ib(343,"h4",20),c.Ib(344,"span"),c.lc(345,"Resources"),c.Hb(),c.Hb(),c.Ib(346,"p"),c.lc(347,"Earlier, we defined an endpoint to fetch the cats resource ("),c.Ib(348,"strong"),c.lc(349,"GET"),c.Hb(),c.lc(350," route). We'll typically also want to provide an endpoint that creates new records. For this, let's create the "),c.Ib(351,"strong"),c.lc(352,"POST"),c.Hb(),c.lc(353," handler:"),c.Hb(),c.Ib(354,"span",8),c.lc(355),c.Ub(356,"extension"),c.Gb(357,"app-tabs",null,21),c.Hb(),c.Ib(359,"pre"),c.Ib(360,"code",10),c.lc(361,"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(): string {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(): string {\n    return 'This action returns all cats';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(362,"pre"),c.Ib(363,"code",10),c.lc(364,"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create() {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(365,"p"),c.lc(366,"It's that simple. Nest provides the rest of the standard HTTP request endpoint decorators in the same fashion - "),c.Ib(367,"code"),c.lc(368,"@Put()"),c.Hb(),c.lc(369,", "),c.Ib(370,"code"),c.lc(371,"@Delete()"),c.Hb(),c.lc(372,", "),c.Ib(373,"code"),c.lc(374,"@Patch()"),c.Hb(),c.lc(375,", "),c.Ib(376,"code"),c.lc(377,"@Options()"),c.Hb(),c.lc(378,", "),c.Ib(379,"code"),c.lc(380,"@Head()"),c.Hb(),c.lc(381,", and "),c.Ib(382,"code"),c.lc(383,"@All()"),c.Hb(),c.lc(384,". Each represents its respective HTTP request method."),c.Hb(),c.Ib(385,"h4",22),c.Ib(386,"span"),c.lc(387,"Route wildcards"),c.Hb(),c.Hb(),c.Ib(388,"p"),c.lc(389,"Pattern based routes are supported as well. For instance, the asterisk is used as a wildcard, and will match any combination of characters."),c.Hb(),c.Ib(390,"pre"),c.Ib(391,"code",10),c.lc(392,"\n@Get('ab*cd')\nfindAll() {\n  return 'This route uses a wildcard';\n}"),c.Hb(),c.Hb(),c.Ib(393,"p"),c.lc(394,"The "),c.Ib(395,"code"),c.lc(396,"'ab*cd'"),c.Hb(),c.lc(397," route path will match "),c.Ib(398,"code"),c.lc(399,"abcd"),c.Hb(),c.lc(400,", "),c.Ib(401,"code"),c.lc(402,"ab_cd"),c.Hb(),c.lc(403,", "),c.Ib(404,"code"),c.lc(405,"abecd"),c.Hb(),c.lc(406,", and so on. The characters "),c.Ib(407,"code"),c.lc(408,"?"),c.Hb(),c.lc(409,", "),c.Ib(410,"code"),c.lc(411,"+"),c.Hb(),c.lc(412,", "),c.Ib(413,"code"),c.lc(414,"*"),c.Hb(),c.lc(415,", and "),c.Ib(416,"code"),c.lc(417,"()"),c.Hb(),c.lc(418," may be used in a route path, and are subsets of their regular expression counterparts. The hyphen ( "),c.Ib(419,"code"),c.lc(420,"-"),c.Hb(),c.lc(421,") and the dot ("),c.Ib(422,"code"),c.lc(423,"."),c.Hb(),c.lc(424,") are interpreted literally by string-based paths."),c.Hb(),c.Ib(425,"h4",23),c.Ib(426,"span"),c.lc(427,"Status code"),c.Hb(),c.Hb(),c.Ib(428,"p"),c.lc(429,"As mentioned, the response "),c.Ib(430,"strong"),c.lc(431,"status code"),c.Hb(),c.lc(432," is always "),c.Ib(433,"strong"),c.lc(434,"200"),c.Hb(),c.lc(435," by default, except for POST requests which are "),c.Ib(436,"strong"),c.lc(437,"201"),c.Hb(),c.lc(438,". We can easily change this behavior by adding the "),c.Ib(439,"code"),c.lc(440,"@HttpCode(...)"),c.Hb(),c.lc(441," decorator at a handler level."),c.Hb(),c.Ib(442,"pre"),c.Ib(443,"code",10),c.lc(444,"\n@Post()\n@HttpCode(204)\ncreate() {\n  return 'This action adds a new cat';\n}"),c.Hb(),c.Hb(),c.Ib(445,"blockquote",11),c.Ib(446,"strong"),c.lc(447,"Hint"),c.Hb(),c.lc(448," Import "),c.Ib(449,"code"),c.lc(450,"HttpCode"),c.Hb(),c.lc(451," from the "),c.Ib(452,"code"),c.lc(453,"@nestjs/common"),c.Hb(),c.lc(454," package.\n"),c.Hb(),c.Ib(455,"p"),c.lc(456,"Often, your status code isn't static but depends on various factors. In that case, you can use a library-specific "),c.Ib(457,"strong"),c.lc(458,"response"),c.Hb(),c.lc(459," (inject using "),c.Ib(460,"code"),c.lc(461,"@Res()"),c.Hb(),c.lc(462,") object (or, in case of an error, throw an exception)."),c.Hb(),c.Ib(463,"h4",24),c.Ib(464,"span"),c.lc(465,"Headers"),c.Hb(),c.Hb(),c.Ib(466,"p"),c.lc(467,"To specify a custom response header, you can either use a "),c.Ib(468,"code"),c.lc(469,"@Header()"),c.Hb(),c.lc(470," decorator or a library-specific response object (and call "),c.Ib(471,"code"),c.lc(472,"res.header()"),c.Hb(),c.lc(473," directly)."),c.Hb(),c.Ib(474,"pre"),c.Ib(475,"code",10),c.lc(476,"\n@Post()\n@Header('Cache-Control', 'none')\ncreate() {\n  return 'This action adds a new cat';\n}"),c.Hb(),c.Hb(),c.Ib(477,"blockquote",11),c.Ib(478,"strong"),c.lc(479,"Hint"),c.Hb(),c.lc(480," Import "),c.Ib(481,"code"),c.lc(482,"Header"),c.Hb(),c.lc(483," from the "),c.Ib(484,"code"),c.lc(485,"@nestjs/common"),c.Hb(),c.lc(486," package.\n"),c.Hb(),c.Ib(487,"h4",25),c.Ib(488,"span"),c.lc(489,"Redirection"),c.Hb(),c.Hb(),c.Ib(490,"p"),c.lc(491,"To redirect a response to a specific URL, you can either use a "),c.Ib(492,"code"),c.lc(493,"@Redirect()"),c.Hb(),c.lc(494," decorator or a library-specific response object (and call "),c.Ib(495,"code"),c.lc(496,"res.redirect()"),c.Hb(),c.lc(497," directly)."),c.Hb(),c.Ib(498,"p"),c.Ib(499,"code"),c.lc(500,"@Redirect()"),c.Hb(),c.lc(501," takes a required "),c.Ib(502,"code"),c.lc(503,"url"),c.Hb(),c.lc(504," argument, and an optional "),c.Ib(505,"code"),c.lc(506,"statusCode"),c.Hb(),c.lc(507," argument. The "),c.Ib(508,"code"),c.lc(509,"statusCode"),c.Hb(),c.lc(510," defaults to "),c.Ib(511,"code"),c.lc(512,"302"),c.Hb(),c.lc(513," ("),c.Ib(514,"code"),c.lc(515,"Found"),c.Hb(),c.lc(516,") if omitted."),c.Hb(),c.Ib(517,"pre"),c.Ib(518,"code",10),c.lc(519,"\n@Get()\n@Redirect('https://nestjs.com', 301)"),c.Hb(),c.Hb(),c.Ib(520,"p"),c.lc(521,"Sometimes you may want to determine the HTTP status code or the redirect URL dynamically. Do this by returning an object from the route handler method with the shape:"),c.Hb(),c.Ib(522,"pre"),c.Ib(523,"code",26),c.lc(524,'\n{\n  "url": string,\n  "statusCode": number\n}'),c.Hb(),c.Hb(),c.Ib(525,"p"),c.lc(526,"Returned values will override any arguments passed to the "),c.Ib(527,"code"),c.lc(528,"@Redirect()"),c.Hb(),c.lc(529," decorator. For example:"),c.Hb(),c.Ib(530,"pre"),c.Ib(531,"code",10),c.lc(532,"\n@Get('docs')\n@Redirect('https://docs.nestjs.com', 302)\ngetDocs(@Query('version') version) {\n  if (version && version === '5') {\n    return { url: 'https://docs.nestjs.com/v5/' };\n  }\n}"),c.Hb(),c.Hb(),c.Ib(533,"h4",27),c.Ib(534,"span"),c.lc(535,"Route parameters"),c.Hb(),c.Hb(),c.Ib(536,"p"),c.lc(537,"Routes with static paths won't work when you need to accept "),c.Ib(538,"strong"),c.lc(539,"dynamic data"),c.Hb(),c.lc(540," as part of the request (e.g., "),c.Ib(541,"code"),c.lc(542,"GET /cats/1"),c.Hb(),c.lc(543," to get cat with id "),c.Ib(544,"code"),c.lc(545,"1"),c.Hb(),c.lc(546,"). In order to define routes with parameters, we can add route parameter "),c.Ib(547,"strong"),c.lc(548,"tokens"),c.Hb(),c.lc(549," in the path of the route to capture the dynamic value at that position in the request URL. The route parameter token in the "),c.Ib(550,"code"),c.lc(551,"@Get()"),c.Hb(),c.lc(552," decorator example below demonstrates this usage. Route parameters declared in this way can be accessed using the "),c.Ib(553,"code"),c.lc(554,"@Param()"),c.Hb(),c.lc(555," decorator, which should be added to the method signature."),c.Hb(),c.Ib(556,"span",8),c.Gb(557,"app-tabs",null,28),c.Hb();c.Ib(559,"pre"),c.Ib(560,"code",10),c.lc(561,"\n@Get(':id')\nfindOne(@Param() params): string {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}"),c.Hb(),c.Hb(),c.Ib(562,"pre"),c.Ib(563,"code",10),c.lc(564,"\n@Get(':id')\n@Bind(Param())\nfindOne(params) {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}"),c.Hb(),c.Hb(),c.Ib(565,"p"),c.Ib(566,"code"),c.lc(567,"@Param()"),c.Hb(),c.lc(568," is used to decorate a method parameter ("),c.Ib(569,"code"),c.lc(570,"params"),c.Hb(),c.lc(571," in the example above), and makes the "),c.Ib(572,"strong"),c.lc(573,"route"),c.Hb(),c.lc(574," parameters available as properties of that decorated method parameter inside the body of the method. As seen in the code above, we can access the "),c.Ib(575,"code"),c.lc(576,"id"),c.Hb(),c.lc(577," parameter by referencing "),c.Ib(578,"code"),c.lc(579,"params.id"),c.Hb(),c.lc(580,". You can also pass in a particular parameter token to the decorator, and then reference the route parameter directly by name in the method body."),c.Hb(),c.Ib(581,"blockquote",11),c.Ib(582,"strong"),c.lc(583,"Hint"),c.Hb(),c.lc(584," Import "),c.Ib(585,"code"),c.lc(586,"Param"),c.Hb(),c.lc(587," from the "),c.Ib(588,"code"),c.lc(589,"@nestjs/common"),c.Hb(),c.lc(590," package.\n"),c.Hb(),c.Ib(591,"span",8),c.Gb(592,"app-tabs",null,29),c.Hb(),c.Ib(594,"pre"),c.Ib(595,"code",10),c.lc(596,"\n@Get(':id')\nfindOne(@Param('id') id): string {\n  return `This action returns a #${id} cat`;\n}"),c.Hb(),c.Hb(),c.Ib(597,"pre"),c.Ib(598,"code",10),c.lc(599,"\n@Get(':id')\n@Bind(Param('id'))\nfindOne(id) {\n  return `This action returns a #${id} cat`;\n}"),c.Hb(),c.Hb(),c.Ib(600,"h4",30),c.Ib(601,"span"),c.lc(602,"Sub-Domain Routing"),c.Hb(),c.Hb(),c.Ib(603,"p"),c.lc(604,"The "),c.Ib(605,"code"),c.lc(606,"@Controller"),c.Hb(),c.lc(607," decorator can take a "),c.Ib(608,"code"),c.lc(609,"host"),c.Hb(),c.lc(610," option to require that the HTTP host of the incoming requests matches some specific value."),c.Hb(),c.Ib(611,"pre"),c.Ib(612,"code",10),c.lc(613,"\n@Controller({ host: 'admin.example.com' })\nexport class AdminController {\n  @Get()\n  index(): string {\n    return 'Admin page';\n  }\n}"),c.Hb(),c.Hb(),c.Ib(614,"blockquote",31),c.Ib(615,"strong"),c.lc(616,"Warning"),c.Hb(),c.lc(617," Since "),c.Ib(618,"strong"),c.lc(619,"Fastify"),c.Hb(),c.lc(620," lacks support for nested routers, when using sub-domain routing, the (default) Express adapter should be used instead.\n"),c.Hb(),c.Ib(621,"p"),c.lc(622,"Similar to a route "),c.Ib(623,"code"),c.lc(624,"path"),c.Hb(),c.lc(625,", the "),c.Ib(626,"code"),c.lc(627,"hosts"),c.Hb(),c.lc(628," option can use tokens to capture the dynamic value at that position in the host name. The host parameter token in the "),c.Ib(629,"code"),c.lc(630,"@Controller()"),c.Hb(),c.lc(631," decorator example below demonstrates this usage. Host parameters declared in this way can be accessed using the "),c.Ib(632,"code"),c.lc(633,"@HostParam()"),c.Hb(),c.lc(634," decorator, which should be added to the method signature."),c.Hb(),c.Ib(635,"pre"),c.Ib(636,"code",10),c.lc(637,"\n@Controller({ host: ':account.example.com' })\nexport class AccountController {\n  @Get()\n  getInfo(@HostParam('account') account: string) {\n    return account;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(638,"h4",32),c.Ib(639,"span"),c.lc(640,"Scopes"),c.Hb(),c.Hb(),c.Ib(641,"p"),c.lc(642,"For people coming from different programming language backgrounds, it might be unexpected to learn that in Nest, almost everything is shared across incoming requests. We have a connection pool to the database, singleton services with global state, etc. Remember that Node.js doesn't follow the request/response Multi-Threaded Stateless Model in which every request is processed by a separate thread. Hence, using singleton instances is fully "),c.Ib(643,"strong"),c.lc(644,"safe"),c.Hb(),c.lc(645," for our applications."),c.Hb(),c.Ib(646,"p"),c.lc(647,"However, there are edge-cases when request-based lifetime of the controller may be the desired behavior, for instance per-request caching in GraphQL applications, request tracking or multi-tenancy. Learn how to control scopes "),c.Ib(648,"a",33),c.lc(649,"here"),c.Hb(),c.lc(650,"."),c.Hb(),c.Ib(651,"h4",34),c.Ib(652,"span"),c.lc(653,"Asynchronicity"),c.Hb(),c.Hb(),c.Ib(654,"p"),c.lc(655,"We love modern JavaScript and we know that data extraction is mostly "),c.Ib(656,"strong"),c.lc(657,"asynchronous"),c.Hb(),c.lc(658,". That's why Nest supports and works well with "),c.Ib(659,"code"),c.lc(660,"async"),c.Hb(),c.lc(661," functions."),c.Hb(),c.Ib(662,"blockquote",11),c.Ib(663,"strong"),c.lc(664,"Hint"),c.Hb(),c.lc(665," Learn more about "),c.Ib(666,"code"),c.lc(667,"async / await"),c.Hb(),c.lc(668," feature\xa0"),c.Ib(669,"a",35),c.lc(670,"here"),c.Hb(),c.Hb(),c.Ib(671,"p"),c.lc(672,"Every async function has to return a "),c.Ib(673,"code"),c.lc(674,"Promise"),c.Hb(),c.lc(675,". This means that you can return a deferred value that Nest will be able to resolve by itself. Let's see an example of this:"),c.Hb(),c.Ib(676,"span",8),c.lc(677),c.Ub(678,"extension"),c.Gb(679,"app-tabs",null,36),c.Hb(),c.Ib(681,"pre"),c.Ib(682,"code",10),c.lc(683,"\n@Get()\nasync findAll(): Promise<any[]> {\n  return [];\n}"),c.Hb(),c.Hb(),c.Ib(684,"pre"),c.Ib(685,"code",10),c.lc(686,"\n@Get()\nasync findAll() {\n  return [];\n}"),c.Hb(),c.Hb(),c.Ib(687,"p"),c.lc(688,"The above code is fully valid. Furthermore, Nest route handlers are even more powerful by being able to return RxJS "),c.Ib(689,"a",37),c.lc(690,"observable streams"),c.Hb(),c.lc(691,". Nest will automatically subscribe to the source underneath and take the last emitted value (once the stream is completed)."),c.Hb(),c.Ib(692,"span",8),c.lc(693),c.Ub(694,"extension"),c.Gb(695,"app-tabs",null,38),c.Hb(),c.Ib(697,"pre"),c.Ib(698,"code",10),c.lc(699,"\n@Get()\nfindAll(): Observable<any[]> {\n  return of([]);\n}"),c.Hb(),c.Hb(),c.Ib(700,"pre"),c.Ib(701,"code",10),c.lc(702,"\n@Get()\nfindAll() {\n  return of([]);\n}"),c.Hb(),c.Hb(),c.Ib(703,"p"),c.lc(704,"Both of the above approaches work and you can use whatever fits your requirements."),c.Hb(),c.Ib(705,"h4",39),c.Ib(706,"span"),c.lc(707,"Request payloads"),c.Hb(),c.Hb(),c.Ib(708,"p"),c.lc(709,"Our previous example of the POST route handler didn't accept any client params. Let's fix this by adding the "),c.Ib(710,"code"),c.lc(711,"@Body()"),c.Hb(),c.lc(712," decorator here."),c.Hb(),c.Ib(713,"p"),c.lc(714,"But first (if you use TypeScript), we need to determine the "),c.Ib(715,"strong"),c.lc(716,"DTO"),c.Hb(),c.lc(717," (Data Transfer Object) schema. A DTO is an object that defines how the data will be sent over the network. We could determine the DTO schema by using "),c.Ib(718,"strong"),c.lc(719,"TypeScript"),c.Hb(),c.lc(720," interfaces, or by simple classes. Interestingly, we recommend using "),c.Ib(721,"strong"),c.lc(722,"classes"),c.Hb(),c.lc(723," here. Why? Classes are part of the JavaScript ES6 standard, and therefore they are preserved as real entities in the compiled JavaScript. On the other hand, since TypeScript interfaces are removed during the transpilation, Nest can't refer to them at runtime. This is important because features such as "),c.Ib(724,"strong"),c.lc(725,"Pipes"),c.Hb(),c.lc(726," enable additional possibilities when they have access to the metatype of the variable at runtime."),c.Hb(),c.Ib(727,"p"),c.lc(728,"Let's create the "),c.Ib(729,"code"),c.lc(730,"CreateCatDto"),c.Hb(),c.lc(731," class:"),c.Hb(),c.Ib(732,"span",8),c.lc(733),c.Ub(734,"extension"),c.Gb(735,"app-tabs",null,40),c.Hb(),c.Ib(737,"pre"),c.Ib(738,"code",10),c.lc(739,"\nexport class CreateCatDto {\n  name: string;\n  age: number;\n  breed: string;\n}"),c.Hb(),c.Hb(),c.Ib(740,"p"),c.lc(741,"It has only three basic properties. Thereafter we can use the newly created DTO inside the "),c.Ib(742,"code"),c.lc(743,"CatsController"),c.Hb(),c.lc(744,":"),c.Hb(),c.Ib(745,"span",8),c.lc(746),c.Ub(747,"extension"),c.Gb(748,"app-tabs",null,41),c.Hb(),c.Ib(750,"pre"),c.Ib(751,"code",10),c.lc(752,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  return 'This action adds a new cat';\n}"),c.Hb(),c.Hb(),c.Ib(753,"pre"),c.Ib(754,"code",10),c.lc(755,"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  return 'This action adds a new cat';\n}"),c.Hb(),c.Hb(),c.Ib(756,"h4",42),c.Ib(757,"span"),c.lc(758,"Handling errors"),c.Hb(),c.Hb(),c.Ib(759,"p"),c.lc(760,"There's a separate chapter about handling errors (i.e., working with exceptions) "),c.Ib(761,"a",43),c.lc(762,"here"),c.Hb(),c.lc(763,"."),c.Hb(),c.Ib(764,"h4",44),c.Ib(765,"span"),c.lc(766,"Full resource sample"),c.Hb(),c.Hb(),c.Ib(767,"p"),c.lc(768,"Below is an example that makes use of several of the available decorators to create a basic controller. This controller exposes a couple of methods to access and manipulate internal data."),c.Hb(),c.Ib(769,"span",8),c.lc(770),c.Ub(771,"extension"),c.Gb(772,"app-tabs",null,45),c.Hb(),c.Ib(774,"pre"),c.Ib(775,"code",10),c.lc(776,"\nimport { Controller, Get, Query, Post, Body, Put, Param, Delete } from '@nestjs/common';\nimport { CreateCatDto, UpdateCatDto, ListAllEntities } from './dto';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Body() createCatDto: CreateCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(@Query() query: ListAllEntities) {\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id: string) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  update(@Param('id') id: string, @Body() updateCatDto: UpdateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  remove(@Param('id') id: string) {\n    return `This action removes a #${id} cat`;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(777,"pre"),c.Ib(778,"code",10),c.lc(779,"\nimport { Controller, Get, Query, Post, Body, Put, Param, Delete, Bind } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Body())\n  create(createCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  @Bind(Query())\n  findAll(query) {\n    console.log(query);\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  @Bind(Param('id'))\n  findOne(id) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  @Bind(Param('id'), Body())\n  update(id, updateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  @Bind(Param('id'))\n  remove(id) {\n    return `This action removes a #${id} cat`;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(780,"h4",46),c.Ib(781,"span"),c.lc(782,"Getting up and running"),c.Hb(),c.Hb(),c.Ib(783,"p"),c.lc(784,"With the above controller fully defined, Nest still doesn't know that "),c.Ib(785,"code"),c.lc(786,"CatsController"),c.Hb(),c.lc(787," exists and as a result won't create an instance of this class."),c.Hb(),c.Ib(788,"p"),c.lc(789,"Controllers always belong to a module, which is why we include the "),c.Ib(790,"code"),c.lc(791,"controllers"),c.Hb(),c.lc(792," array within the "),c.Ib(793,"code"),c.lc(794,"@Module()"),c.Hb(),c.lc(795," decorator. Since we haven't yet defined any other modules except the root "),c.Ib(796,"code"),c.lc(797,"AppModule"),c.Hb(),c.lc(798,", we'll use that to introduce the "),c.Ib(799,"code"),c.lc(800,"CatsController"),c.Hb(),c.lc(801,":"),c.Hb(),c.Ib(802,"span",8),c.lc(803),c.Ub(804,"extension"),c.Gb(805,"app-tabs",null,47),c.Hb(),c.Ib(807,"pre"),c.Ib(808,"code",10),c.lc(809,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  controllers: [CatsController],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(810,"p"),c.lc(811,"We attached the metadata to the module class using the "),c.Ib(812,"code"),c.lc(813,"@Module()"),c.Hb(),c.lc(814," decorator, and Nest can now easily reflect which controllers have to be mounted."),c.Hb(),c.Ib(815,"p"),c.Gb(816,"app-banner-shop"),c.Hb(),c.Ib(817,"h4",48),c.Ib(818,"span"),c.lc(819,"Appendix: Library-specific approach"),c.Hb(),c.Hb(),c.Ib(820,"p"),c.lc(821,"So far we've discussed the Nest standard way of manipulating responses. The second way of manipulating the response is to use a library-specific "),c.Ib(822,"a",49),c.lc(823,"response object"),c.Hb(),c.lc(824,". In order to inject a particular response object, we need to use the "),c.Ib(825,"code"),c.lc(826,"@Res()"),c.Hb(),c.lc(827," decorator. To show the differences, let's rewrite the "),c.Ib(828,"code"),c.lc(829,"CatsController"),c.Hb(),c.lc(830," to the following:"),c.Hb(),c.Ib(831,"span",8),c.Gb(832,"app-tabs",null,50),c.Hb(),c.Ib(834,"pre"),c.Ib(835,"code",10),c.lc(836,"\nimport { Controller, Get, Post, Res, HttpStatus } from '@nestjs/common';\nimport { Response } from 'express';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Res() res: Response) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  findAll(@Res() res: Response) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(837,"pre"),c.Ib(838,"code",10),c.lc(839,"\nimport { Controller, Get, Post, Bind, Res, Body, HttpStatus } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Res(), Body())\n  create(res, createCatDto) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  @Bind(Res())\n  findAll(res) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(840,"p"),c.lc(841,"Though this approach works, and does in fact allow for more flexibility in some ways by providing full control of the response object (headers manipulation, library-specific features, and so on), it should be used with care. In general, the approach is much less clear and does have some disadvantages. The main disadvantages are that you lose compatibility with Nest features that depend on Nest standard response handling, such as Interceptors and the "),c.Ib(842,"code"),c.lc(843,"@HttpCode()"),c.Hb(),c.lc(844," decorator. Also, your code can become platform-dependent (as underlying libraries may have different APIs on the response object), and harder to test (you'll have to mock the response object, etc.)."),c.Hb(),c.Ib(845,"p"),c.lc(846,"As a result, the Nest standard approach should always be preferred when possible."),c.Hb(),c.Hb()}if(2&e){var n=c.dc(57),r=c.dc(186),i=c.dc(358),o=c.dc(558),a=c.dc(593),s=c.dc(680),l=c.dc(696),u=c.dc(736),h=c.dc(749),d=c.dc(773),p=c.dc(806),b=c.dc(833);c.vb(54),c.nc(" ",c.Vb(55,49,"cats.controller",n.isJsActive),"\n"),c.vb(4),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(122),c.nc(" ",c.Vb(184,52,"cats.controller",r.isJsActive),"\n"),c.vb(4),c.xb("hide",r.isJsActive),c.vb(3),c.xb("hide",!r.isJsActive),c.vb(165),c.nc(" ",c.Vb(356,55,"cats.controller",i.isJsActive),"\n"),c.vb(4),c.xb("hide",i.isJsActive),c.vb(3),c.xb("hide",!i.isJsActive),c.vb(197),c.xb("hide",o.isJsActive),c.vb(3),c.xb("hide",!o.isJsActive),c.vb(32),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive),c.vb(80),c.nc(" ",c.Vb(678,58,"cats.controller",s.isJsActive),"\n"),c.vb(4),c.xb("hide",s.isJsActive),c.vb(3),c.xb("hide",!s.isJsActive),c.vb(9),c.nc(" ",c.Vb(694,61,"cats.controller",l.isJsActive),"\n"),c.vb(4),c.xb("hide",l.isJsActive),c.vb(3),c.xb("hide",!l.isJsActive),c.vb(33),c.nc(" ",c.Vb(734,64,"create-cat.dto",u.isJsActive),"\n"),c.vb(13),c.nc(" ",c.Vb(747,67,"cats.controller",h.isJsActive),"\n"),c.vb(4),c.xb("hide",h.isJsActive),c.vb(3),c.xb("hide",!h.isJsActive),c.vb(17),c.nc(" ",c.Vb(771,70,"cats.controller",d.isJsActive),"\n"),c.vb(4),c.xb("hide",d.isJsActive),c.vb(3),c.xb("hide",!d.isJsActive),c.vb(26),c.nc(" ",c.Vb(804,73,"app.module",p.isJsActive),"\n"),c.vb(31),c.xb("hide",b.isJsActive),c.vb(3),c.xb("hide",!b.isJsActive)}},directives:[Ei.a,Ai.a,Fi.a,Hr.f,qi.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),ii),Ui=c.Kb(Li),Gi=((oi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return zi(e||oi)},oi.\u0275cmp=c.zb({type:oi,selectors:[["app-custom-decorators"]],features:[c.tb],decls:267,vars:24,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/custom-decorators.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","custom-route-decorators"],["rel","nofollow","target","_blank","href","https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841"],[1,"external"],["appAnchor","","id","param-decorators"],[1,"language-typescript"],[1,"filename"],["app5365f7618361ac68984cca5bce373f981c6143ef",""],["appc356071480b0182762877146f4d3fc0529e70b1f",""],["appAnchor","","id","passing-data"],["href","techniques/authentication#implementing-passport-strategies"],[1,"language-json"],["appbd835febea50ecacd2d75f68ae493fb13e6ffefd",""],["appc86a1daf4876cf7f93e0ee2008acad7b496e13ac",""],[1,"info"],["appAnchor","","id","working-with-pipes"],["app3a8f82bd67b9dde1a85b80e3bc55a79b0412df0a",""],["appAnchor","","id","decorator-composition"],[1,"warning"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Custom route decorators"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Nest is built around a language feature called "),c.Ib(9,"strong"),c.lc(10,"decorators"),c.Hb(),c.lc(11,". Decorators are a well-known concept in a lot of commonly used programming languages, but in the JavaScript world, they're still relatively new. In order to better understand how decorators work, we recommend reading "),c.Ib(12,"a",6),c.lc(13,"this article"),c.Hb(),c.lc(14,". Here's a simple definition:"),c.Hb(),c.Ib(15,"blockquote",7),c.lc(16," An ES2016 decorator is an expression which returns a function and can take a target, name and property descriptor as arguments. You apply it by prefixing the decorator with an "),c.Ib(17,"code"),c.lc(18,"@"),c.Hb(),c.lc(19," character and placing this at the very top of what you are trying to decorate. Decorators can be defined for either a class, a method or a property.\n"),c.Hb(),c.Ib(20,"h4",8),c.Ib(21,"span"),c.lc(22,"Param decorators"),c.Hb(),c.Hb(),c.Ib(23,"p"),c.lc(24,"Nest provides a set of useful "),c.Ib(25,"strong"),c.lc(26,"param decorators"),c.Hb(),c.lc(27," that you can use together with the HTTP route handlers. Below is a list of the provided decorators and the plain Express (or Fastify) objects they represent"),c.Hb(),c.Ib(28,"table"),c.Ib(29,"tbody"),c.Ib(30,"tr"),c.Ib(31,"td"),c.Ib(32,"code"),c.lc(33,"@Request()"),c.Hb(),c.Hb(),c.Ib(34,"td"),c.Ib(35,"code"),c.lc(36,"req"),c.Hb(),c.Hb(),c.Hb(),c.Ib(37,"tr"),c.Ib(38,"td"),c.Ib(39,"code"),c.lc(40,"@Response()"),c.Hb(),c.Hb(),c.Ib(41,"td"),c.Ib(42,"code"),c.lc(43,"res"),c.Hb(),c.Hb(),c.Hb(),c.Ib(44,"tr"),c.Ib(45,"td"),c.Ib(46,"code"),c.lc(47,"@Next()"),c.Hb(),c.Hb(),c.Ib(48,"td"),c.Ib(49,"code"),c.lc(50,"next"),c.Hb(),c.Hb(),c.Hb(),c.Ib(51,"tr"),c.Ib(52,"td"),c.Ib(53,"code"),c.lc(54,"@Session()"),c.Hb(),c.Hb(),c.Ib(55,"td"),c.Ib(56,"code"),c.lc(57,"req.session"),c.Hb(),c.Hb(),c.Hb(),c.Ib(58,"tr"),c.Ib(59,"td"),c.Ib(60,"code"),c.lc(61,"@Param(param?: string)"),c.Hb(),c.Hb(),c.Ib(62,"td"),c.Ib(63,"code"),c.lc(64,"req.params"),c.Hb(),c.lc(65," / "),c.Ib(66,"code"),c.lc(67,"req.params[param]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(68,"tr"),c.Ib(69,"td"),c.Ib(70,"code"),c.lc(71,"@Body(param?: string)"),c.Hb(),c.Hb(),c.Ib(72,"td"),c.Ib(73,"code"),c.lc(74,"req.body"),c.Hb(),c.lc(75," / "),c.Ib(76,"code"),c.lc(77,"req.body[param]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(78,"tr"),c.Ib(79,"td"),c.Ib(80,"code"),c.lc(81,"@Query(param?: string)"),c.Hb(),c.Hb(),c.Ib(82,"td"),c.Ib(83,"code"),c.lc(84,"req.query"),c.Hb(),c.lc(85," / "),c.Ib(86,"code"),c.lc(87,"req.query[param]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(88,"tr"),c.Ib(89,"td"),c.Ib(90,"code"),c.lc(91,"@Headers(param?: string)"),c.Hb(),c.Hb(),c.Ib(92,"td"),c.Ib(93,"code"),c.lc(94,"req.headers"),c.Hb(),c.lc(95," / "),c.Ib(96,"code"),c.lc(97,"req.headers[param]"),c.Hb(),c.Hb(),c.Hb(),c.Ib(98,"tr"),c.Ib(99,"td"),c.Ib(100,"code"),c.lc(101,"@Ip()"),c.Hb(),c.Hb(),c.Ib(102,"td"),c.Ib(103,"code"),c.lc(104,"req.ip"),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Ib(105,"p"),c.lc(106,"Additionally, you can create your own "),c.Ib(107,"strong"),c.lc(108,"custom decorators"),c.Hb(),c.lc(109,". Why is this useful?"),c.Hb(),c.Ib(110,"p"),c.lc(111,"In the node.js world, it's common practice to attach properties to the "),c.Ib(112,"strong"),c.lc(113,"request"),c.Hb(),c.lc(114," object. Then you manually extract them in each route handler, using code like the following:"),c.Hb(),c.Ib(115,"pre"),c.Ib(116,"code",9),c.lc(117,"\nconst user = req.user;"),c.Hb(),c.Hb(),c.Ib(118,"p"),c.lc(119,"In order to make your code more readable and transparent, you can create a "),c.Ib(120,"code"),c.lc(121,"@User()"),c.Hb(),c.lc(122," decorator and reuse it across all of your controllers."),c.Hb(),c.Ib(123,"span",10),c.lc(124),c.Ub(125,"extension"),c.Gb(126,"app-tabs",null,11),c.Hb(),c.Ib(128,"pre"),c.Ib(129,"code",9),c.lc(130,"\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.user;\n  },\n);"),c.Hb(),c.Hb(),c.Ib(131,"p"),c.lc(132,"Then, you can simply use it wherever it fits your requirements."),c.Hb(),c.Ib(133,"span",10),c.Gb(134,"app-tabs",null,12),c.Hb(),c.Ib(136,"pre"),c.Ib(137,"code",9),c.lc(138,"\n@Get()\nasync findOne(@User() user: UserEntity) {\n  console.log(user);\n}"),c.Hb(),c.Hb(),c.Ib(139,"pre"),c.Ib(140,"code",9),c.lc(141,"\n@Get()\n@Bind(User())\nasync findOne(user) {\n  console.log(user);\n}"),c.Hb(),c.Hb(),c.Ib(142,"h4",13),c.Ib(143,"span"),c.lc(144,"Passing data"),c.Hb(),c.Hb(),c.Ib(145,"p"),c.lc(146,"When the behavior of your decorator depends on some conditions, you can use the "),c.Ib(147,"code"),c.lc(148,"data"),c.Hb(),c.lc(149," parameter to pass an argument to the decorator's factory function. One use case for this is a custom decorator that extracts properties from the request object by key. Let's assume, for example, that our "),c.Ib(150,"a",14),c.lc(151,"authentication layer"),c.Hb(),c.lc(152," validates requests and attaches a user entity to the request object. The user entity for an authenticated request might look like:"),c.Hb(),c.Ib(153,"pre"),c.Ib(154,"code",15),c.lc(155,'\n{\n  "id": 101,\n  "firstName": "Alan",\n  "lastName": "Turing",\n  "email": "alan@email.com",\n  "roles": ["admin"]\n}'),c.Hb(),c.Hb(),c.Ib(156,"p"),c.lc(157,"Let's define a decorator that takes a property name as key, and returns the associated value if it exists (or undefined if it doesn't exist, or if the "),c.Ib(158,"code"),c.lc(159,"user"),c.Hb(),c.lc(160," object has not been created)."),c.Hb(),c.Ib(161,"span",10),c.lc(162),c.Ub(163,"extension"),c.Gb(164,"app-tabs",null,16),c.Hb(),c.Ib(166,"pre"),c.Ib(167,"code",9),c.lc(168,"\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: string, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    const user = request.user;\n\n    return data ? user && user[data] : user;\n  },\n);"),c.Hb(),c.Hb(),c.Ib(169,"pre"),c.Ib(170,"code",9),c.lc(171,"\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, ctx) => {\n  const request = ctx.switchToHttp().getRequest();\n  const user = request.user;\n\n  return data ? user && user[data] : user;\n});"),c.Hb(),c.Hb(),c.Ib(172,"p"),c.lc(173,"Here's how you could then access a particular property via the "),c.Ib(174,"code"),c.lc(175,"@User()"),c.Hb(),c.lc(176," decorator in the controller:"),c.Hb(),c.Ib(177,"span",10),c.Gb(178,"app-tabs",null,17),c.Hb(),c.Ib(180,"pre"),c.Ib(181,"code",9),c.lc(182,"\n@Get()\nasync findOne(@User('firstName') firstName: string) {\n  console.log(`Hello ${firstName}`);\n}"),c.Hb(),c.Hb(),c.Ib(183,"pre"),c.Ib(184,"code",9),c.lc(185,"\n@Get()\n@Bind(User('firstName'))\nasync findOne(firstName) {\n  console.log(`Hello ${firstName}`);\n}"),c.Hb(),c.Hb(),c.Ib(186,"p"),c.lc(187,"You can use this same decorator with different keys to access different properties. If the "),c.Ib(188,"code"),c.lc(189,"user"),c.Hb(),c.lc(190," object is deep or complex, this can make for easier and more readable request handler implementations."),c.Hb(),c.Ib(191,"blockquote",18),c.Ib(192,"strong"),c.lc(193,"Hint"),c.Hb(),c.lc(194," For TypeScript users, note that "),c.Ib(195,"code"),c.lc(196,"createParamDecorator<T>()"),c.Hb(),c.lc(197," is a generic. This means you can explicitly enforce type safety, for example "),c.Ib(198,"code"),c.lc(199,"createParamDecorator<string>((data, ctx) => ...)"),c.Hb(),c.lc(200,". Alternatively, specify a parameter type in the factory function, for example "),c.Ib(201,"code"),c.lc(202,"createParamDecorator((data: string, ctx) => ...)"),c.Hb(),c.lc(203,". If you omit both, the type for "),c.Ib(204,"code"),c.lc(205,"data"),c.Hb(),c.lc(206," will be "),c.Ib(207,"code"),c.lc(208,"any"),c.Hb(),c.lc(209,".\n"),c.Hb(),c.Ib(210,"h4",19),c.Ib(211,"span"),c.lc(212,"Working with pipes"),c.Hb(),c.Hb(),c.Ib(213,"p"),c.lc(214,"Nest treats custom param decorators in the same fashion as the built-in ones ("),c.Ib(215,"code"),c.lc(216,"@Body()"),c.Hb(),c.lc(217,", "),c.Ib(218,"code"),c.lc(219,"@Param()"),c.Hb(),c.lc(220," and "),c.Ib(221,"code"),c.lc(222,"@Query()"),c.Hb(),c.lc(223,"). This means that pipes are executed for the custom annotated parameters as well (in our examples, the "),c.Ib(224,"code"),c.lc(225,"user"),c.Hb(),c.lc(226," argument). Moreover, you can apply the pipe directly to the custom decorator:"),c.Hb(),c.Ib(227,"span",10),c.Gb(228,"app-tabs",null,20),c.Hb(),c.Ib(230,"pre"),c.Ib(231,"code",9),c.lc(232,"\n@Get()\nasync findOne(@User(new ValidationPipe()) user: UserEntity) {\n  console.log(user);\n}"),c.Hb(),c.Hb(),c.Ib(233,"pre"),c.Ib(234,"code",9),c.lc(235,"\n@Get()\n@Bind(User(new ValidationPipe()))\nasync findOne(user) {\n  console.log(user);\n}"),c.Hb(),c.Hb(),c.Ib(236,"h4",21),c.Ib(237,"span"),c.lc(238,"Decorator composition"),c.Hb(),c.Hb(),c.Ib(239,"p"),c.lc(240,"Nest provides a helper method to compose multiple decorators. For example, suppose you want to combine all decorators related to authentication into a single decorator. This could be done with the following construction:"),c.Hb(),c.Ib(241,"pre"),c.Ib(242,"code",9),c.lc(243,"\nimport { applyDecorators } from '@nestjs/common';\n\nexport function Auth(...roles: Role[]) {\n  return applyDecorators(\n    SetMetadata('roles', roles),\n    UseGuards(AuthGuard, RolesGuard),\n    ApiBearerAuth(),\n    ApiUnauthorizedResponse({ description: 'Unauthorized\"' }),\n  );\n}"),c.Hb(),c.Hb(),c.Ib(244,"p"),c.lc(245,"You can then use this custom "),c.Ib(246,"code"),c.lc(247,"@Auth()"),c.Hb(),c.lc(248," decorator as follows:"),c.Hb(),c.Ib(249,"pre"),c.Ib(250,"code",9),c.lc(251,"\n@Get('users')\n@Auth('admin')\nfindAllUsers() {}"),c.Hb(),c.Hb(),c.Ib(252,"p"),c.lc(253,"This has the effect of applying all four decorators with a single declaration."),c.Hb(),c.Ib(254,"blockquote",22),c.Ib(255,"strong"),c.lc(256,"Warning"),c.Hb(),c.lc(257," The "),c.Ib(258,"code"),c.lc(259,"@ApiHideProperty()"),c.Hb(),c.lc(260," decorator from the "),c.Ib(261,"code"),c.lc(262,"@nestjs/swagger"),c.Hb(),c.lc(263," package is not composable and won't work properly with the "),c.Ib(264,"code"),c.lc(265,"applyDecorators"),c.Hb(),c.lc(266," function.\n"),c.Hb(),c.Hb()),2&e){var n=c.dc(127),r=c.dc(135),i=c.dc(165),o=c.dc(179),a=c.dc(229);c.vb(124),c.nc(" ",c.Vb(125,18,"user.decorator",n.isJsActive),"\n"),c.vb(12),c.xb("hide",r.isJsActive),c.vb(3),c.xb("hide",!r.isJsActive),c.vb(23),c.nc(" ",c.Vb(163,21,"user.decorator",i.isJsActive),"\n"),c.vb(4),c.xb("hide",i.isJsActive),c.vb(3),c.xb("hide",!i.isJsActive),c.vb(11),c.xb("hide",o.isJsActive),c.vb(3),c.xb("hide",!o.isJsActive),c.vb(47),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive)}},directives:[Ei.a,Ai.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),oi),zi=c.Kb(Gi),Bi=((ai=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return Vi(e||ai)},ai.\u0275cmp=c.zb({type:ai,selectors:[["app-who-uses"]],features:[c.tb],decls:286,vars:0,consts:[[1,"content"],["id","who-is-using-nest"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/issues/1006"],["appAnchor","","id","companies"],[1,"companies-wrapper"],["href","https://roche.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/roche-logo.png",2,"width","90px"],["href","https://adidas.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/adidas.svg",2,"width","80px"],["href","https://capgemini.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/capgemini.svg"],["href","https://www.societegenerale.fr/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/societe-generale-logo.png"],["href","https://rewe-digital.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/rewe.svg",2,"width","180px"],["href","https://www.decathlon.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/decathlon.png"],["href","https://www.autodesk.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/autodesk.png"],["href","https://www.neo4j.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/neo4j.png"],["href","https://www.shipt.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/shipt.png"],["href","https://github.com/Sanofi-IADC","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sanofi.png"],["href","https://valor-software.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/valor-software.png"],["href","https://sitepen.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sitepen.svg"],["href","https://gojob.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/gojob-logo.png",2,"width","100px"],["href","https://neoteric.eu/","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/neoteric.png"],["href","https://trellis.org/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/trellis.png",2,"width","70px"],["href","https://scal.io","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/scalio-logo.svg",2,"width","120px"],["href","https://swingdev.io/","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/swingdev-logo.svg"],["href","https://culturacolectiva.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/cultura-colectiva.png",2,"width","90px"],["href","https://trilon.io","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/trilon.png"],["href","http://architectnow.net","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/architectnow.png",2,"width","150px"],["href","https://www.iflix.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/iflix.svg",2,"width","70px"],["href","https://genuinebee.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/genuinebee.svg"],["href","https://runplayersleague.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/run-players-league.png",2,"width","80px"],["href","http://www.yanrongyun.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/yanrongyun.svg",2,"width","120px"],["href","https://sclable.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sclable.svg",2,"width","120px"],["href","https://www.dozto.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/dozto.png",2,"width","130px"],["href","https://www.qingtui.cn/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/qingtui.png",2,"width","90px"],["href","https://crowdlinker.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/crowdlinker.svg",2,"width","110px"],["href","https://nothing.ch/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/nothing.svg",2,"width","110px"],["href","https://swissdevjobs.ch/jobs/Dev-Ops/All","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/swissdevjobs-devops-logo.png",2,"width","65px"],["href","https://zeo.org/tr/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/zeoagency.svg",2,"width","80px"],["href","https://valueadd.pl/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/valueadd.png",2,"width","120px"],["href","https://bedu.org","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/bedu.svg",2,"width","100px"],["href","https://shopback.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/shopback.png",2,"width","100px"],["href","https://www.facile.it","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/facile.png",2,"width","100px"],["href","https://interfacewerk.de","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/interfacewerk.png",2,"width","130px"],["href","https://www.ottonova.de","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/ottonova.png",2,"width","130px"],["href","https://radity.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/radity.png",2,"width","120px"],["href","https://globalctoforum.org/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/global-cto-forum.png",2,"width","120px"],[1,"companies-list"],["href","https://gorrion.io/","target","_blank","rel","nofollow"],["href","http://balticdatascience.com/","target","_blank","rel","nofollow"],["href","https://prohabits.com/","target","_blank","rel","nofollow"],["href","https://komed-health.com/","target","_blank","rel","nofollow"],["href","https://kerberus.com.co/","target","_blank","rel","nofollow"],["href","http://xtremis.com/","target","_blank","rel","nofollow"],["href","https://notadd.com/","target","_blank","rel","nofollow"],["href","http://jsdaddy.io/","target","_blank","rel","nofollow"],["href","https://yumpingo.com/","target","_blank","rel","nofollow"],["href","https://analytics-importer.cz/","target","_blank","rel","nofollow"],["href","https://dayzim.com/","target","_blank","rel","nofollow"],["href","https://wizkids.co.uk/","target","_blank","rel","nofollow"],["href","https://pilvia.com/","target","_blank","rel","nofollow"],["href","https://wi-q.com/","target","_blank","rel","nofollow"],["href","http://agrofel.com.br","target","_blank","rel","nofollow"],["href","https://societegenerale.com/","target","_blank","rel","nofollow"],["href","https://trashpanda.hulan.nl/","target","_blank","rel","nofollow"],["href","https://bytedance.com/","target","_blank","rel","nofollow"],["href","https://votercircle.com","target","_blank","rel","nofollow"],["href","https://erento.com","target","_blank","rel","nofollow"],["href","https://ideas.manticore-labs.com/","target","_blank","rel","nofollow"],["href","https://smartexlab.com/","target","_blank","rel","nofollow"],["href","https://automama.ru/","target","_blank","rel","nofollow"],["href","https://iflix.com/","target","_blank","rel","nofollow"],["href","https://frontendwatch.com/","target","_blank","rel","nofollow"],["href","https://mobilejazz.com/","target","_blank","rel","nofollow"],["href","https://cgiandi.com/","target","_blank","rel","nofollow"],["href","https://www.titlex.com.au/","target","_blank","rel","nofollow"],["href","https://codengage.com/","target","_blank","rel","nofollow"],["href","https://budacode.com/","target","_blank","rel","nofollow"],["href","https://blueanchor.io/","target","_blank","rel","nofollow"],["href","https://www.easymetrics.com/","target","_blank","rel","nofollow"],["href","https://getapollo.io/","target","_blank","rel","nofollow"],["href","https://big-bench.com/","target","_blank","rel","nofollow"],["href","https://www.qingtui.cn/","target","_blank","rel","nofollow"],["href","https://www.rosebayconsult.com/","target","_blank","rel","nofollow"],["href","https://www.patrocinium.com/","target","_blank","rel","nofollow"],["href","https://creatorsdaily.com","target","_blank","rel","nofollow"],["href","https://autoscar.com.br","target","_blank","rel","nofollow"],["href","https://www.mediktiv.com","target","_blank","rel","nofollow"],["href","https://harmonize.health","target","_blank","rel","nofollow"],["href","https://accerlery.be","target","_blank","rel","nofollow"],["href","https://www.facile.it","target","_blank","rel","nofollow"],["href","https://shopback.com","target","_blank","rel","nofollow"],["href","https://www.ottonova.de","target","_blank","rel","nofollow"],["href","https://www.radity.com","target","_blank","rel","nofollow"],["href","https://globalctoforum.org","target","_blank","rel","nofollow"],["href","https://github.com/nestjs/docs.nestjs.com/pulls","target","_blank"]],template:function(e,t){1&e&&(c.Ib(0,"div",0),c.Ib(1,"h3",1),c.lc(2,"Who is using Nest?"),c.Hb(),c.Ib(3,"p"),c.lc(4,"We are proudly helping various companies building their products at scale.\nIf you are using Nest and would you like to be listed here, see this "),c.Ib(5,"a",2),c.lc(6,"thread"),c.Hb(),c.lc(7,".\nWe are willing to put your logo here!"),c.Hb(),c.Ib(8,"h4",3),c.Ib(9,"span"),c.lc(10,"Companies"),c.Hb(),c.Hb(),c.Ib(11,"p"),c.lc(12,"According to our knowledge, all the following companies have built awesome projects on top of our framework:"),c.Hb(),c.Hb(),c.Ib(13,"div",4),c.Ib(14,"a",5),c.Gb(15,"img",6),c.Hb(),c.Ib(16,"a",7),c.Gb(17,"img",8),c.Hb(),c.Ib(18,"a",9),c.Gb(19,"img",10),c.Hb(),c.Ib(20,"a",11),c.Gb(21,"img",12),c.Hb(),c.Ib(22,"a",13),c.Gb(23,"img",14),c.Hb(),c.Ib(24,"a",15),c.Gb(25,"img",16),c.Hb(),c.Ib(26,"a",17),c.Gb(27,"img",18),c.Hb(),c.Ib(28,"a",19),c.Gb(29,"img",20),c.Hb(),c.Ib(30,"a",21),c.Gb(31,"img",22),c.Hb(),c.Ib(32,"a",23),c.Gb(33,"img",24),c.Hb(),c.Ib(34,"a",25),c.Gb(35,"img",26),c.Hb(),c.Ib(36,"a",27),c.Gb(37,"img",28),c.Hb(),c.Ib(38,"a",29),c.Gb(39,"img",30),c.Hb(),c.Ib(40,"a",31),c.Gb(41,"img",32),c.Hb(),c.Ib(42,"a",33),c.Gb(43,"img",34),c.Hb(),c.Ib(44,"a",35),c.Gb(45,"img",36),c.Hb(),c.Ib(46,"a",37),c.Gb(47,"img",38),c.Hb(),c.Ib(48,"a",39),c.Gb(49,"img",40),c.Hb(),c.Ib(50,"a",41),c.Gb(51,"img",42),c.Hb(),c.Ib(52,"a",43),c.Gb(53,"img",44),c.Hb(),c.Ib(54,"a",45),c.Gb(55,"img",46),c.Hb(),c.Ib(56,"a",47),c.Gb(57,"img",48),c.Hb(),c.Ib(58,"a",49),c.Gb(59,"img",50),c.Hb(),c.Ib(60,"a",51),c.Gb(61,"img",52),c.Hb(),c.Ib(62,"a",53),c.Gb(63,"img",54),c.Hb(),c.Ib(64,"a",55),c.Gb(65,"img",56),c.Hb(),c.Ib(66,"a",57),c.Gb(67,"img",58),c.Hb(),c.Ib(68,"a",59),c.Gb(69,"img",60),c.Hb(),c.Ib(70,"a",61),c.Gb(71,"img",62),c.Hb(),c.Ib(72,"a",63),c.Gb(73,"img",64),c.Hb(),c.Ib(74,"a",65),c.Gb(75,"img",66),c.Hb(),c.Ib(76,"a",67),c.Gb(77,"img",68),c.Hb(),c.Ib(78,"a",69),c.Gb(79,"img",70),c.Hb(),c.Ib(80,"a",71),c.Gb(81,"img",72),c.Hb(),c.Ib(82,"a",73),c.Gb(83,"img",74),c.Hb(),c.Ib(84,"a",75),c.Gb(85,"img",76),c.Hb(),c.Ib(86,"a",77),c.Gb(87,"img",78),c.Hb(),c.Ib(88,"a",79),c.Gb(89,"img",80),c.Hb(),c.Ib(90,"a",81),c.Gb(91,"img",82),c.Hb(),c.Hb(),c.Ib(92,"table",83),c.Ib(93,"tr"),c.Ib(94,"td"),c.Ib(95,"a",84),c.lc(96,"https://gorrion.io/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(97,"tr"),c.Ib(98,"td"),c.Ib(99,"a",85),c.lc(100,"http://balticdatascience.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(101,"tr"),c.Ib(102,"td"),c.Ib(103,"a",86),c.lc(104,"https://prohabits.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(105,"tr"),c.Ib(106,"td"),c.Ib(107,"a",87),c.lc(108,"https://komed-health.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(109,"tr"),c.Ib(110,"td"),c.Ib(111,"a",88),c.lc(112,"https://kerberus.com.co/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(113,"tr"),c.Ib(114,"td"),c.Ib(115,"a",89),c.lc(116,"http://xtremis.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(117,"tr"),c.Ib(118,"td"),c.Ib(119,"a",90),c.lc(120,"https://notadd.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(121,"tr"),c.Ib(122,"td"),c.Ib(123,"a",91),c.lc(124,"http://jsdaddy.io/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(125,"tr"),c.Ib(126,"td"),c.Ib(127,"a",92),c.lc(128,"https://yumpingo.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(129,"tr"),c.Ib(130,"td"),c.Ib(131,"a",93),c.lc(132,"https://analytics-importer.cz/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(133,"tr"),c.Ib(134,"td"),c.Ib(135,"a",94),c.lc(136,"https://dayzim.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(137,"tr"),c.Ib(138,"td"),c.Ib(139,"a",95),c.lc(140,"https://wizkids.co.uk/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(141,"tr"),c.Ib(142,"td"),c.Ib(143,"a",96),c.lc(144,"https://pilvia.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(145,"tr"),c.Ib(146,"td"),c.Ib(147,"a",97),c.lc(148,"https://wi-q.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(149,"tr"),c.Ib(150,"td"),c.Ib(151,"a",98),c.lc(152,"http://agrofel.com.br"),c.Hb(),c.Hb(),c.Hb(),c.Ib(153,"tr"),c.Ib(154,"td"),c.Ib(155,"a",99),c.lc(156,"https://societegenerale.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(157,"tr"),c.Ib(158,"td"),c.Ib(159,"a",100),c.lc(160,"https://trashpanda.hulan.nl/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(161,"tr"),c.Ib(162,"td"),c.Ib(163,"a",101),c.lc(164,"https://bytedance.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(165,"tr"),c.Ib(166,"td"),c.Ib(167,"a",102),c.lc(168,"https://votercircle.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(169,"tr"),c.Ib(170,"td"),c.Ib(171,"a",103),c.lc(172,"https://erento.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(173,"tr"),c.Ib(174,"td"),c.Ib(175,"a",104),c.lc(176,"https://ideas.manticore-labs.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(177,"tr"),c.Ib(178,"td"),c.Ib(179,"a",105),c.lc(180,"https://smartexlab.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(181,"tr"),c.Ib(182,"td"),c.Ib(183,"a",106),c.lc(184,"https://automama.ru/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(185,"tr"),c.Ib(186,"td"),c.Ib(187,"a",107),c.lc(188,"https://iflix.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(189,"tr"),c.Ib(190,"td"),c.Ib(191,"a",108),c.lc(192,"https://frontendwatch.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(193,"tr"),c.Ib(194,"td"),c.Ib(195,"a",109),c.lc(196,"https://mobilejazz.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(197,"tr"),c.Ib(198,"td"),c.Ib(199,"a",110),c.lc(200,"https://cgiandi.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(201,"tr"),c.Ib(202,"td"),c.Ib(203,"a",111),c.lc(204,"https://www.titlex.com.au/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(205,"tr"),c.Ib(206,"td"),c.Ib(207,"a",112),c.lc(208,"https://codengage.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(209,"tr"),c.Ib(210,"td"),c.Ib(211,"a",113),c.lc(212,"https://budacode.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(213,"tr"),c.Ib(214,"td"),c.Ib(215,"a",114),c.lc(216,"https://blueanchor.io/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(217,"tr"),c.Ib(218,"td"),c.Ib(219,"a",115),c.lc(220,"https://www.easymetrics.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(221,"tr"),c.Ib(222,"td"),c.Ib(223,"a",116),c.lc(224,"https://getapollo.io/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(225,"tr"),c.Ib(226,"td"),c.Ib(227,"a",117),c.lc(228,"https://big-bench.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(229,"tr"),c.Ib(230,"td"),c.Ib(231,"a",118),c.lc(232,"https://www.qingtui.cn/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(233,"tr"),c.Ib(234,"td"),c.Ib(235,"a",119),c.lc(236,"https://www.rosebayconsult.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(237,"tr"),c.Ib(238,"td"),c.Ib(239,"a",120),c.lc(240,"https://www.patrocinium.com/"),c.Hb(),c.Hb(),c.Hb(),c.Ib(241,"tr"),c.Ib(242,"td"),c.Ib(243,"a",121),c.lc(244,"https://creatorsdaily.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(245,"tr"),c.Ib(246,"td"),c.Ib(247,"a",122),c.lc(248,"https://autoscar.com.br"),c.Hb(),c.Hb(),c.Hb(),c.Ib(249,"tr"),c.Ib(250,"td"),c.Ib(251,"a",123),c.lc(252,"https://www.mediktiv.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(253,"tr"),c.Ib(254,"td"),c.Ib(255,"a",124),c.lc(256,"https://harmonize.health"),c.Hb(),c.Hb(),c.Hb(),c.Ib(257,"tr"),c.Ib(258,"td"),c.Ib(259,"a",125),c.lc(260,"https://accerlery.be"),c.Hb(),c.Hb(),c.Hb(),c.Ib(261,"tr"),c.Ib(262,"td"),c.Ib(263,"a",126),c.lc(264,"https://www.facile.it"),c.Hb(),c.Hb(),c.Hb(),c.Ib(265,"tr"),c.Ib(266,"td"),c.Ib(267,"a",127),c.lc(268,"https://shopback.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(269,"tr"),c.Ib(270,"td"),c.Ib(271,"a",128),c.lc(272,"https://www.ottonova.de"),c.Hb(),c.Hb(),c.Hb(),c.Ib(273,"tr"),c.Ib(274,"td"),c.Ib(275,"a",129),c.lc(276,"https://www.radity.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(277,"tr"),c.Ib(278,"td"),c.Ib(279,"a",130),c.lc(280,"https://globalctoforum.org"),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Ib(281,"p"),c.lc(282," and a lot more but we don't have enough time to update above list. Feel free to create a "),c.Ib(283,"a",131),c.lc(284,"pull request"),c.Hb(),c.lc(285," though!\n"),c.Hb())},directives:[Ei.a],styles:["@media (max-width:480px){.company-logo[_ngcontent-%COMP%]{width:360px;max-width:100%;display:block;text-align:center;margin:40px auto}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px!important;max-width:100%;max-height:none}}"],changeDetection:0}),ai),Vi=c.Kb(Bi),Wi=((si=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return Ji(e||si)},si.\u0275cmp=c.zb({type:si,selectors:[["app-enterprise"]],features:[c.tb],decls:74,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/enterprise.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","official-nestjs-consulting"],["id","official-support"],[1,"row"],[1,"thumbnail","p-l-30"],["src","/assets/enterprise/help.svg"],[1,"thumbnail","p-r-30"],["src","/assets/enterprise/contact.svg"],["appAnchor","","id","first-hand-access"],["appAnchor","","id","nestjs-workshops-and-trainings"],[1,"contact-us"],[1,"column","column-text"],[1,"column","column-action"],["href","mailto:support@nestjs.com"]],template:function(e,t){1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Official NestJS Consulting"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Our goal is to ensure that your developers are successful and productive with NestJS as well as other modern technologies in today's ever-changing tech world."),c.Hb(),c.Ib(9,"h3",6),c.lc(10,"Official Support"),c.Hb(),c.Ib(11,"p"),c.lc(12,"With official support, get expert help directly from the NestJS core team. We tackle your toughest challenges, and collaborate with your team on many levels such as:"),c.Hb(),c.Ib(13,"ul"),c.Ib(14,"li"),c.lc(15,"Providing technical guidance & architectural reviews"),c.Hb(),c.Ib(16,"li"),c.Ib(17,"strong"),c.lc(18,"Mentoring"),c.Hb(),c.lc(19," team members"),c.Hb(),c.Ib(20,"li"),c.lc(21,"Advising best practices"),c.Hb(),c.Ib(22,"li"),c.lc(23,"Solving design decisions"),c.Hb(),c.Ib(24,"li"),c.lc(25,"Addressing security & performance concerns"),c.Hb(),c.Ib(26,"li"),c.lc(27,"Performing "),c.Ib(28,"strong"),c.lc(29,"in-depth"),c.Hb(),c.lc(30," code reviews"),c.Hb(),c.Hb(),c.Ib(31,"div",7),c.Ib(32,"div",0),c.Ib(33,"h4"),c.lc(34,"Team Augmentation & Development"),c.Hb(),c.Ib(35,"p"),c.lc(36," With team augmentation, NestJS core team members can work directly with your team on a daily basis to help take your project to the next-level. Consider us \u201cpart of your team\u201d, tackling the most ambitious projects - right by your side. "),c.Hb(),c.Hb(),c.Ib(37,"div",8),c.Gb(38,"img",9),c.Hb(),c.Hb(),c.Ib(39,"div",7),c.Ib(40,"div",10),c.Gb(41,"img",11),c.Hb(),c.Ib(42,"div",0),c.Ib(43,"h4"),c.lc(44,"NestJS Best Practices"),c.Hb(),c.Ib(45,"p"),c.lc(46," Frequent code reviews can eliminate potentially hazardous bugs & issues at an early stage and help enforce best practices. Let us perform PR reviews & audits to ensure your code quality, performance, and security. "),c.Hb(),c.Hb(),c.Hb(),c.Ib(47,"h4",12),c.Ib(48,"span"),c.lc(49,"First-hand access"),c.Hb(),c.Hb(),c.Ib(50,"p"),c.lc(51,"Direct communication channel will boost team velocity, giving a quick access to discuss and solve problems."),c.Hb(),c.Ib(52,"h4",13),c.Ib(53,"span"),c.lc(54,"NestJS Workshops and Trainings"),c.Hb(),c.Hb(),c.Ib(55,"p"),c.lc(56,"We provide solid kick-off training as well as more advanced ones that give teams an in-depth understanding of NestJS. We offer on-site workshops and remote intensive sessions which help get you up and running "),c.Ib(57,"em"),c.lc(58,"quickly"),c.Hb(),c.lc(59," within the NestJS ecosystem."),c.Hb(),c.Ib(60,"div",14),c.Ib(61,"div",15),c.Ib(62,"h5"),c.lc(63,"Contact us!"),c.Hb(),c.Ib(64,"p"),c.lc(65," Let's talk how we can help you become successful with NestJS. "),c.Hb(),c.Hb(),c.Ib(66,"div",16),c.Ib(67,"a",17),c.lc(68,"CONTACT US"),c.Hb(),c.Hb(),c.Hb(),c.Ib(69,"p"),c.lc(70,"Reach out to us at "),c.Ib(71,"a",17),c.lc(72,"support@nestjs.com"),c.Hb(),c.lc(73,", and let\u2019s talk about your project & teams needs!"),c.Hb(),c.Hb())},directives:[Ei.a],encapsulation:2,changeDetection:0}),si),Ji=c.Kb(Wi),Yi=((ci=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return Xi(e||ci)},ci.\u0275cmp=c.zb({type:ci,selectors:[["app-exception-filters"]],features:[c.tb],decls:610,vars:60,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/exception-filters.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","exception-filters"],["src","/assets/Filter_1.png"],[1,"language-json"],["appAnchor","","id","throwing-standard-exceptions"],[1,"filename"],["appa764ac348bfa0489c4213d7a66a4cdb933bf94dd",""],[1,"language-typescript"],[1,"info"],["rel","nofollow","target","_blank","href","https://developer.mozilla.org/en-US/docs/Web/HTTP/Status"],["appe4bbb1c1ee90fe193a4900af4ccc90c6cfdb9967",""],["appAnchor","","id","custom-exceptions"],["app017182e7020829d409e5991dd59f17a2c757b476",""],["appc04d93d248307e4dcb1d8a7245079dbd82c7106b",""],["appAnchor","","id","built-in-http-exceptions"],["appAnchor","","id","exception-filters-1"],["app2040c186cb3477bea748ce05c070597d0d69218c",""],["appAnchor","","id","arguments-host"],["routerLink","/fundamentals/execution-context"],["href","https://docs.nestjs.com/fundamentals/execution-context#host-methods"],["appAnchor","","id","binding-filters"],["app6cdd02f90a2d93c706b00d8399e5c52777501b0e",""],["app0613372b434124cfb5868c2c853e95d1f59bfcf3",""],["app8309aff1e4120b366974c012608caf82d946488d",""],["app357788843d567a668508197a58a4b7e95a05da66",""],[1,"warning"],["appde44eb6acc43074e9df416d52c81e54c3e09bc84",""],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","catch-everything"],["appAnchor","","id","inheritance"],["app2d60efc8268de0f5307995505be8750ee40fe03d",""],["href","exception-filters#binding-filters"]],template:function(e,t){if(1&e){c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Exception filters"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Nest comes with a built-in "),c.Ib(9,"strong"),c.lc(10,"exceptions layer"),c.Hb(),c.lc(11," which is responsible for processing all unhandled exceptions across an application. When an exception is not handled by your application code, it is caught by this layer, which then automatically sends an appropriate user-friendly response."),c.Hb(),c.Ib(12,"figure"),c.Gb(13,"img",6),c.Hb(),c.Ib(14,"p"),c.lc(15,"Out of the box, this action is performed by a built-in "),c.Ib(16,"strong"),c.lc(17,"global exception filter"),c.Hb(),c.lc(18,", which handles exceptions of type "),c.Ib(19,"code"),c.lc(20,"HttpException"),c.Hb(),c.lc(21," (and subclasses of it). When an exception is "),c.Ib(22,"strong"),c.lc(23,"unrecognized"),c.Hb(),c.lc(24," (is neither "),c.Ib(25,"code"),c.lc(26,"HttpException"),c.Hb(),c.lc(27," nor a class that inherits from "),c.Ib(28,"code"),c.lc(29,"HttpException"),c.Hb(),c.lc(30,"), the built-in exception filter generates the following default JSON response:"),c.Hb(),c.Ib(31,"pre"),c.Ib(32,"code",7),c.lc(33,'\n{\n  "statusCode": 500,\n  "message": "Internal server error"\n}'),c.Hb(),c.Hb(),c.Ib(34,"h4",8),c.Ib(35,"span"),c.lc(36,"Throwing standard exceptions"),c.Hb(),c.Hb(),c.Ib(37,"p"),c.lc(38,"Nest provides a built-in "),c.Ib(39,"code"),c.lc(40,"HttpException"),c.Hb(),c.lc(41," class, exposed from the "),c.Ib(42,"code"),c.lc(43,"@nestjs/common"),c.Hb(),c.lc(44," package. For typical HTTP REST/GraphQL API based applications, it's best practice to send standard HTTP response objects when certain error conditions occur."),c.Hb(),c.Ib(45,"p"),c.lc(46,"For example, in the "),c.Ib(47,"code"),c.lc(48,"CatsController"),c.Hb(),c.lc(49,", we have a "),c.Ib(50,"code"),c.lc(51,"findAll()"),c.Hb(),c.lc(52," method (a "),c.Ib(53,"code"),c.lc(54,"GET"),c.Hb(),c.lc(55," route handler). Let's assume that this route handler throws an exception for some reason. To demonstrate this, we'll hard-code it as follows:"),c.Hb(),c.Ib(56,"span",9),c.lc(57),c.Ub(58,"extension"),c.Gb(59,"app-tabs",null,10),c.Hb(),c.Ib(61,"pre"),c.Ib(62,"code",11),c.lc(63,"\n@Get()\nasync findAll() {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}"),c.Hb(),c.Hb(),c.Ib(64,"blockquote",12),c.Ib(65,"strong"),c.lc(66,"Hint"),c.Hb(),c.lc(67," We used the "),c.Ib(68,"code"),c.lc(69,"HttpStatus"),c.Hb(),c.lc(70," here. This is a helper enum imported from the "),c.Ib(71,"code"),c.lc(72,"@nestjs/common"),c.Hb(),c.lc(73," package.\n"),c.Hb(),c.Ib(74,"p"),c.lc(75,"When the client calls this endpoint, the response looks like this:"),c.Hb(),c.Ib(76,"pre"),c.Ib(77,"code",7),c.lc(78,'\n{\n  "statusCode": 403,\n  "message": "Forbidden"\n}'),c.Hb(),c.Hb(),c.Ib(79,"p"),c.lc(80,"The "),c.Ib(81,"code"),c.lc(82,"HttpException"),c.Hb(),c.lc(83," constructor takes two required arguments which determine the\nresponse:"),c.Hb(),c.Ib(84,"ul"),c.Ib(85,"li"),c.lc(86,"The "),c.Ib(87,"code"),c.lc(88,"response"),c.Hb(),c.lc(89," argument defines the JSON response body. It can be a "),c.Ib(90,"code"),c.lc(91,"string"),c.Hb(),c.lc(92,"\nor an "),c.Ib(93,"code"),c.lc(94,"object"),c.Hb(),c.lc(95," as described below."),c.Hb(),c.Ib(96,"li"),c.lc(97,"The "),c.Ib(98,"code"),c.lc(99,"status"),c.Hb(),c.lc(100," argument defines the "),c.Ib(101,"a",13),c.lc(102,"HTTP status code"),c.Hb(),c.lc(103,"."),c.Hb(),c.Hb(),c.Ib(104,"p"),c.lc(105,"By default, the JSON response body contains two properties:"),c.Hb(),c.Ib(106,"ul"),c.Ib(107,"li"),c.Ib(108,"code"),c.lc(109,"statusCode"),c.Hb(),c.lc(110,": defaults to the HTTP status code provided in the "),c.Ib(111,"code"),c.lc(112,"status"),c.Hb(),c.lc(113," argument"),c.Hb(),c.Ib(114,"li"),c.Ib(115,"code"),c.lc(116,"message"),c.Hb(),c.lc(117,": a short description of the HTTP error based on the "),c.Ib(118,"code"),c.lc(119,"status"),c.Hb(),c.Hb(),c.Hb(),c.Ib(120,"p"),c.lc(121,"To override just the message portion of the JSON response body, supply a string\nin the "),c.Ib(122,"code"),c.lc(123,"response"),c.Hb(),c.lc(124," argument. To override the entire JSON response body, pass an object in the "),c.Ib(125,"code"),c.lc(126,"response"),c.Hb(),c.lc(127," argument. Nest will serialize the object and return it as the JSON response body."),c.Hb(),c.Ib(128,"p"),c.lc(129,"The second constructor argument - "),c.Ib(130,"code"),c.lc(131,"status"),c.Hb(),c.lc(132," - should be a valid HTTP status code.\nBest practice is to use the "),c.Ib(133,"code"),c.lc(134,"HttpStatus"),c.Hb(),c.lc(135," enum imported from "),c.Ib(136,"code"),c.lc(137,"@nestjs/common"),c.Hb(),c.lc(138,"."),c.Hb(),c.Ib(139,"p"),c.lc(140,"Here's an example overriding the entire response body:"),c.Hb(),c.Ib(141,"span",9),c.lc(142),c.Ub(143,"extension"),c.Gb(144,"app-tabs",null,14),c.Hb(),c.Ib(146,"pre"),c.Ib(147,"code",11),c.lc(148,"\n@Get()\nasync findAll() {\n  throw new HttpException({\n    status: HttpStatus.FORBIDDEN,\n    error: 'This is a custom message',\n  }, HttpStatus.FORBIDDEN);\n}"),c.Hb(),c.Hb(),c.Ib(149,"p"),c.lc(150,"Using the above, this is how the response would look:"),c.Hb(),c.Ib(151,"pre"),c.Ib(152,"code",7),c.lc(153,'\n{\n  "status": 403,\n  "error": "This is a custom message"\n}'),c.Hb(),c.Hb(),c.Ib(154,"h4",15),c.Ib(155,"span"),c.lc(156,"Custom exceptions"),c.Hb(),c.Hb(),c.Ib(157,"p"),c.lc(158,"In many cases, you will not need to write custom exceptions, and can use the built-in Nest HTTP exception, as described in the next section. If you do need to create customized exceptions, it's good practice to create your own "),c.Ib(159,"strong"),c.lc(160,"exceptions hierarchy"),c.Hb(),c.lc(161,", where your custom exceptions inherit from the base "),c.Ib(162,"code"),c.lc(163,"HttpException"),c.Hb(),c.lc(164," class. With this approach, Nest will recognize your exceptions, and automatically take care of the error responses. Let's implement such a custom exception:"),c.Hb(),c.Ib(165,"span",9),c.lc(166),c.Ub(167,"extension"),c.Gb(168,"app-tabs",null,16),c.Hb(),c.Ib(170,"pre"),c.Ib(171,"code",11),c.lc(172,"\nexport class ForbiddenException extends HttpException {\n  constructor() {\n    super('Forbidden', HttpStatus.FORBIDDEN);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(173,"p"),c.lc(174,"Since "),c.Ib(175,"code"),c.lc(176,"ForbiddenException"),c.Hb(),c.lc(177," extends the base "),c.Ib(178,"code"),c.lc(179,"HttpException"),c.Hb(),c.lc(180,", it will work seamlessly with the built-in exception handler, and therefore we can use it inside the "),c.Ib(181,"code"),c.lc(182,"findAll()"),c.Hb(),c.lc(183," method."),c.Hb(),c.Ib(184,"span",9),c.lc(185),c.Ub(186,"extension"),c.Gb(187,"app-tabs",null,17),c.Hb(),c.Ib(189,"pre"),c.Ib(190,"code",11),c.lc(191,"\n@Get()\nasync findAll() {\n  throw new ForbiddenException();\n}"),c.Hb(),c.Hb(),c.Ib(192,"h4",18),c.Ib(193,"span"),c.lc(194,"Built-in HTTP exceptions"),c.Hb(),c.Hb(),c.Ib(195,"p"),c.lc(196,"Nest provides a set of standard exceptions that inherit from the base "),c.Ib(197,"code"),c.lc(198,"HttpException"),c.Hb(),c.lc(199,". These are exposed from the "),c.Ib(200,"code"),c.lc(201,"@nestjs/common"),c.Hb(),c.lc(202," package, and represent many of the most common HTTP exceptions:"),c.Hb(),c.Ib(203,"ul"),c.Ib(204,"li"),c.Ib(205,"code"),c.lc(206,"BadRequestException"),c.Hb(),c.Hb(),c.Ib(207,"li"),c.Ib(208,"code"),c.lc(209,"UnauthorizedException"),c.Hb(),c.Hb(),c.Ib(210,"li"),c.Ib(211,"code"),c.lc(212,"NotFoundException"),c.Hb(),c.Hb(),c.Ib(213,"li"),c.Ib(214,"code"),c.lc(215,"ForbiddenException"),c.Hb(),c.Hb(),c.Ib(216,"li"),c.Ib(217,"code"),c.lc(218,"NotAcceptableException"),c.Hb(),c.Hb(),c.Ib(219,"li"),c.Ib(220,"code"),c.lc(221,"RequestTimeoutException"),c.Hb(),c.Hb(),c.Ib(222,"li"),c.Ib(223,"code"),c.lc(224,"ConflictException"),c.Hb(),c.Hb(),c.Ib(225,"li"),c.Ib(226,"code"),c.lc(227,"GoneException"),c.Hb(),c.Hb(),c.Ib(228,"li"),c.Ib(229,"code"),c.lc(230,"HttpVersionNotSupportedException"),c.Hb(),c.Hb(),c.Ib(231,"li"),c.Ib(232,"code"),c.lc(233,"PayloadTooLargeException"),c.Hb(),c.Hb(),c.Ib(234,"li"),c.Ib(235,"code"),c.lc(236,"UnsupportedMediaTypeException"),c.Hb(),c.Hb(),c.Ib(237,"li"),c.Ib(238,"code"),c.lc(239,"UnprocessableEntityException"),c.Hb(),c.Hb(),c.Ib(240,"li"),c.Ib(241,"code"),c.lc(242,"InternalServerErrorException"),c.Hb(),c.Hb(),c.Ib(243,"li"),c.Ib(244,"code"),c.lc(245,"NotImplementedException"),c.Hb(),c.Hb(),c.Ib(246,"li"),c.Ib(247,"code"),c.lc(248,"ImATeapotException"),c.Hb(),c.Hb(),c.Ib(249,"li"),c.Ib(250,"code"),c.lc(251,"MethodNotAllowedException"),c.Hb(),c.Hb(),c.Ib(252,"li"),c.Ib(253,"code"),c.lc(254,"BadGatewayException"),c.Hb(),c.Hb(),c.Ib(255,"li"),c.Ib(256,"code"),c.lc(257,"ServiceUnavailableException"),c.Hb(),c.Hb(),c.Ib(258,"li"),c.Ib(259,"code"),c.lc(260,"GatewayTimeoutException"),c.Hb(),c.Hb(),c.Hb(),c.Ib(261,"h4",19),c.Ib(262,"span"),c.lc(263,"Exception filters"),c.Hb(),c.Hb(),c.Ib(264,"p"),c.lc(265,"While the base (built-in) exception filter can automatically handle many cases for you, you may want "),c.Ib(266,"strong"),c.lc(267,"full control"),c.Hb(),c.lc(268," over the exceptions layer. For example, you may want to add logging or use a different JSON schema based on some dynamic factors. "),c.Ib(269,"strong"),c.lc(270,"Exception filters"),c.Hb(),c.lc(271," are designed for exactly this purpose. They let you control the exact flow of control and the content of the response sent back to the client."),c.Hb(),c.Ib(272,"p"),c.lc(273,"Let's create an exception filter that is responsible for catching exceptions which are an instance of the "),c.Ib(274,"code"),c.lc(275,"HttpException"),c.Hb(),c.lc(276," class, and implementing custom response logic for them. To do this, we'll need to access the underlying platform "),c.Ib(277,"code"),c.lc(278,"Request"),c.Hb(),c.lc(279," and "),c.Ib(280,"code"),c.lc(281,"Response"),c.Hb(),c.lc(282," objects. We'll access the "),c.Ib(283,"code"),c.lc(284,"Request"),c.Hb(),c.lc(285," object so we can pull out the original "),c.Ib(286,"code"),c.lc(287,"url"),c.Hb(),c.lc(288," and include that in the logging information. We'll use the "),c.Ib(289,"code"),c.lc(290,"Response"),c.Hb(),c.lc(291," object to take direct control of the response that is sent, using the "),c.Ib(292,"code"),c.lc(293,"response.json()"),c.Hb(),c.lc(294," method."),c.Hb(),c.Ib(295,"span",9),c.lc(296),c.Ub(297,"extension"),c.Gb(298,"app-tabs",null,20),c.Hb(),c.Ib(300,"pre"),c.Ib(301,"code",11),c.lc(302,"\nimport { ExceptionFilter, Catch, ArgumentsHost, HttpException } from '@nestjs/common';\nimport { Request, Response } from 'express';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse<Response>();\n    const request = ctx.getRequest<Request>();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}"),c.Hb(),c.Hb(),c.Ib(303,"pre"),c.Ib(304,"code",11),c.lc(305,"\nimport { Catch, HttpException } from '@nestjs/common';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter {\n  catch(exception, host) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}"),c.Hb(),c.Hb(),c.Ib(306,"blockquote",12),c.Ib(307,"strong"),c.lc(308,"Hint"),c.Hb(),c.lc(309," All exception filters should implement the generic "),c.Ib(310,"code"),c.lc(311,"ExceptionFilter<T>"),c.Hb(),c.lc(312," interface. This requires you to provide the "),c.Ib(313,"code"),c.lc(314,"catch(exception: T, host: ArgumentsHost)"),c.Hb(),c.lc(315," method with its indicated signature. "),c.Ib(316,"code"),c.lc(317,"T"),c.Hb(),c.lc(318," indicates the type of the exception.\n"),c.Hb(),c.Ib(319,"p"),c.lc(320,"The "),c.Ib(321,"code"),c.lc(322,"@Catch(HttpException)"),c.Hb(),c.lc(323," decorator binds the required metadata to the exception filter, telling Nest that this particular filter is looking for exceptions of type "),c.Ib(324,"code"),c.lc(325,"HttpException"),c.Hb(),c.lc(326," and nothing else. The "),c.Ib(327,"code"),c.lc(328,"@Catch()"),c.Hb(),c.lc(329," decorator may take a single parameter, or a comma-separated list. This lets you set up the filter for several types of exceptions at once."),c.Hb(),c.Ib(330,"h4",21),c.Ib(331,"span"),c.lc(332,"Arguments host"),c.Hb(),c.Hb(),c.Ib(333,"p"),c.lc(334,"Let's look at the parameters of the "),c.Ib(335,"code"),c.lc(336,"catch()"),c.Hb(),c.lc(337," method. The "),c.Ib(338,"code"),c.lc(339,"exception"),c.Hb(),c.lc(340," parameter is the exception object currently being processed. The "),c.Ib(341,"code"),c.lc(342,"host"),c.Hb(),c.lc(343," parameter is an "),c.Ib(344,"code"),c.lc(345,"ArgumentsHost"),c.Hb(),c.lc(346," object. "),c.Ib(347,"code"),c.lc(348,"ArgumentsHost"),c.Hb(),c.lc(349," is a powerful utility object that we'll examine further in the "),c.Ib(350,"a",22),c.lc(351,"execution context chapter"),c.Hb(),c.lc(352,"*. In this code sample, we use it to obtain a reference to the "),c.Ib(353,"code"),c.lc(354,"Request"),c.Hb(),c.lc(355," and "),c.Ib(356,"code"),c.lc(357,"Response"),c.Hb(),c.lc(358," objects that are being passed to the original request handler (in the controller where the exception originates). In this code sample, we've used some helper methods on "),c.Ib(359,"code"),c.lc(360,"ArgumentsHost"),c.Hb(),c.lc(361," to get the desired "),c.Ib(362,"code"),c.lc(363,"Request"),c.Hb(),c.lc(364," and "),c.Ib(365,"code"),c.lc(366,"Response"),c.Hb(),c.lc(367," objects. Learn more about "),c.Ib(368,"code"),c.lc(369,"ArgumentsHost"),c.Hb(),c.Ib(370,"a",22),c.lc(371,"here"),c.Hb(),c.lc(372,"."),c.Hb(),c.Ib(373,"p"),c.lc(374,"*The reason for this level of abstraction is that "),c.Ib(375,"code"),c.lc(376,"ArgumentsHost"),c.Hb(),c.lc(377," functions in all contexts (e.g., the HTTP server context we're working with now, but also Microservices and WebSockets). In the execution context chapter we'll see how we can access the appropriate "),c.Ib(378,"a",23),c.lc(379,"underlying arguments"),c.Hb(),c.lc(380," for "),c.Ib(381,"strong"),c.lc(382,"any"),c.Hb(),c.lc(383," execution context with the power of "),c.Ib(384,"code"),c.lc(385,"ArgumentsHost"),c.Hb(),c.lc(386," and its helper functions. This will allow us to write generic exception filters that operate across all contexts."),c.Hb(),c.Ib(387,"p"),c.Gb(388,"app-banner-courses"),c.Hb(),c.Ib(389,"h4",24),c.Ib(390,"span"),c.lc(391,"Binding filters"),c.Hb(),c.Hb(),c.Ib(392,"p"),c.lc(393,"Let's tie our new "),c.Ib(394,"code"),c.lc(395,"HttpExceptionFilter"),c.Hb(),c.lc(396," to the "),c.Ib(397,"code"),c.lc(398,"CatsController"),c.Hb(),c.lc(399,"'s "),c.Ib(400,"code"),c.lc(401,"create()"),c.Hb(),c.lc(402," method."),c.Hb(),c.Ib(403,"span",9),c.lc(404),c.Ub(405,"extension"),c.Gb(406,"app-tabs",null,25),c.Hb(),c.Ib(408,"pre"),c.Ib(409,"code",11),c.lc(410,"\n@Post()\n@UseFilters(new HttpExceptionFilter())\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}"),c.Hb(),c.Hb(),c.Ib(411,"pre"),c.Ib(412,"code",11),c.lc(413,"\n@Post()\n@UseFilters(new HttpExceptionFilter())\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}"),c.Hb(),c.Hb(),c.Ib(414,"blockquote",12),c.Ib(415,"strong"),c.lc(416,"Hint"),c.Hb(),c.lc(417," The "),c.Ib(418,"code"),c.lc(419,"@UseFilters()"),c.Hb(),c.lc(420," decorator is imported from the "),c.Ib(421,"code"),c.lc(422,"@nestjs/common"),c.Hb(),c.lc(423," package.\n"),c.Hb(),c.Ib(424,"p"),c.lc(425,"We have used the "),c.Ib(426,"code"),c.lc(427,"@UseFilters()"),c.Hb(),c.lc(428," decorator here. Similar to the "),c.Ib(429,"code"),c.lc(430,"@Catch()"),c.Hb(),c.lc(431," decorator, it can take a single filter instance, or a comma-separated list of filter instances. Here, we created the instance of "),c.Ib(432,"code"),c.lc(433,"HttpExceptionFilter"),c.Hb(),c.lc(434," in place. Alternatively, you may pass the class (instead of an instance), leaving responsibility for instantiation to the framework, and enabling "),c.Ib(435,"strong"),c.lc(436,"dependency injection"),c.Hb(),c.lc(437,"."),c.Hb(),c.Ib(438,"span",9),c.lc(439),c.Ub(440,"extension"),c.Gb(441,"app-tabs",null,26),c.Hb(),c.Ib(443,"pre"),c.Ib(444,"code",11),c.lc(445,"\n@Post()\n@UseFilters(HttpExceptionFilter)\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}"),c.Hb(),c.Hb(),c.Ib(446,"pre"),c.Ib(447,"code",11),c.lc(448,"\n@Post()\n@UseFilters(HttpExceptionFilter)\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}"),c.Hb(),c.Hb(),c.Ib(449,"blockquote",12),c.Ib(450,"strong"),c.lc(451,"Hint"),c.Hb(),c.lc(452," Prefer applying filters by using classes instead of instances when possible. It reduces "),c.Ib(453,"strong"),c.lc(454,"memory usage"),c.Hb(),c.lc(455," since Nest can easily reuse instances of the same class across your entire module.\n"),c.Hb(),c.Ib(456,"p"),c.lc(457,"In the example above, the "),c.Ib(458,"code"),c.lc(459,"HttpExceptionFilter"),c.Hb(),c.lc(460," is applied only to the single "),c.Ib(461,"code"),c.lc(462,"create()"),c.Hb(),c.lc(463," route handler, making it method-scoped. Exception filters can be scoped at different levels: method-scoped, controller-scoped, or global-scoped. For example, to set up a filter as controller-scoped, you would do the following:"),c.Hb(),c.Ib(464,"span",9),c.lc(465),c.Ub(466,"extension"),c.Gb(467,"app-tabs",null,27),c.Hb(),c.Ib(469,"pre"),c.Ib(470,"code",11),c.lc(471,"\n@UseFilters(new HttpExceptionFilter())\nexport class CatsController {}"),c.Hb(),c.Hb(),c.Ib(472,"p"),c.lc(473,"This construction sets up the "),c.Ib(474,"code"),c.lc(475,"HttpExceptionFilter"),c.Hb(),c.lc(476," for every route handler defined inside the "),c.Ib(477,"code"),c.lc(478,"CatsController"),c.Hb(),c.lc(479,"."),c.Hb(),c.Ib(480,"p"),c.lc(481,"To create a global-scoped filter, you would do the following:"),c.Hb(),c.Ib(482,"span",9),c.lc(483),c.Ub(484,"extension"),c.Gb(485,"app-tabs",null,28),c.Hb(),c.Ib(487,"pre"),c.Ib(488,"code",11),c.lc(489,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalFilters(new HttpExceptionFilter());\n  await app.listen(3000);\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Ib(490,"blockquote",29),c.Ib(491,"strong"),c.lc(492,"Warning"),c.Hb(),c.lc(493," The "),c.Ib(494,"code"),c.lc(495,"useGlobalFilters()"),c.Hb(),c.lc(496," method does not set up filters for gateways or hybrid applications.\n"),c.Hb(),c.Ib(497,"p"),c.lc(498,"Global-scoped filters are used across the whole application, for every controller and every route handler. In terms of dependency injection, global filters registered from outside of any module (with "),c.Ib(499,"code"),c.lc(500,"useGlobalFilters()"),c.Hb(),c.lc(501," as in the example above) cannot inject dependencies since this is done outside the context of any module. In order to solve this issue, you can register a global-scoped filter "),c.Ib(502,"strong"),c.lc(503,"directly from any module"),c.Hb(),c.lc(504," using the following construction:"),c.Hb(),c.Ib(505,"span",9),c.lc(506),c.Ub(507,"extension"),c.Gb(508,"app-tabs",null,30),c.Hb(),c.Ib(510,"pre"),c.Ib(511,"code",11),c.lc(512,"\nimport { Module } from '@nestjs/common';\nimport { APP_FILTER } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: HttpExceptionFilter,\n    },\n  ],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(513,"blockquote",12),c.Ib(514,"strong"),c.lc(515,"Hint"),c.Hb(),c.lc(516," When using this approach to perform dependency injection for the filter, note that regardless of the module where this construction is employed, the filter is, in fact, global. Where should this be done? Choose the module where the filter ("),c.Ib(517,"code"),c.lc(518,"HttpExceptionFilter"),c.Hb(),c.lc(519," in the example above) is defined. Also, "),c.Ib(520,"code"),c.lc(521,"useClass"),c.Hb(),c.lc(522," is not the only way of dealing with custom provider registration. Learn more "),c.Ib(523,"a",31),c.lc(524,"here"),c.Hb(),c.lc(525,".\n"),c.Hb(),c.Ib(526,"p"),c.lc(527,"You can add as many filters with this technique as needed; simply add each to the providers array."),c.Hb(),c.Ib(528,"h4",32),c.Ib(529,"span"),c.lc(530,"Catch everything"),c.Hb(),c.Hb(),c.Ib(531,"p"),c.lc(532,"In order to catch "),c.Ib(533,"strong"),c.lc(534,"every"),c.Hb(),c.lc(535," unhandled exception (regardless of the exception type), leave the "),c.Ib(536,"code"),c.lc(537,"@Catch()"),c.Hb(),c.lc(538," decorator's parameter list empty, e.g., "),c.Ib(539,"code"),c.lc(540,"@Catch()"),c.Hb(),c.lc(541,"."),c.Hb(),c.Ib(542,"pre"),c.Ib(543,"code",11),c.lc(544,"\nimport {\n  ExceptionFilter,\n  Catch,\n  ArgumentsHost,\n  HttpException,\n  HttpStatus,\n} from '@nestjs/common';\n\n@Catch()\nexport class AllExceptionsFilter implements ExceptionFilter {\n  catch(exception: unknown, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n\n    const status =\n      exception instanceof HttpException\n        ? exception.getStatus()\n        : HttpStatus.INTERNAL_SERVER_ERROR;\n\n    response.status(status).json({\n      statusCode: status,\n      timestamp: new Date().toISOString(),\n      path: request.url,\n    });\n  }\n}"),c.Hb(),c.Hb(),c.Ib(545,"p"),c.lc(546,"In the example above the filter will catch each exception thrown, regardless of its type (class)."),c.Hb(),c.Ib(547,"h4",33),c.Ib(548,"span"),c.lc(549,"Inheritance"),c.Hb(),c.Hb(),c.Ib(550,"p"),c.lc(551,"Typically, you'll create fully customized exception filters crafted to fulfill your application requirements. However, there might be use-cases when you would like to simply extend the built-in default "),c.Ib(552,"strong"),c.lc(553,"global exception filter"),c.Hb(),c.lc(554,", and override the behavior based on certain factors."),c.Hb(),c.Ib(555,"p"),c.lc(556,"In order to delegate exception processing to the base filter, you need to extend "),c.Ib(557,"code"),c.lc(558,"BaseExceptionFilter"),c.Hb(),c.lc(559," and call the inherited "),c.Ib(560,"code"),c.lc(561,"catch()"),c.Hb(),c.lc(562," method."),c.Hb(),c.Ib(563,"span",9),c.lc(564),c.Ub(565,"extension");c.Gb(566,"app-tabs",null,34),c.Hb(),c.Ib(568,"pre"),c.Ib(569,"code",11),c.lc(570,"\nimport { Catch, ArgumentsHost } from '@nestjs/common';\nimport { BaseExceptionFilter } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  catch(exception: unknown, host: ArgumentsHost) {\n    super.catch(exception, host);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(571,"pre"),c.Ib(572,"code",11),c.lc(573,"\nimport { Catch } from '@nestjs/common';\nimport { BaseExceptionFilter } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  catch(exception, host) {\n    super.catch(exception, host);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(574,"blockquote",29),c.Ib(575,"strong"),c.lc(576,"Warning"),c.Hb(),c.lc(577," Method-scoped and Controller-scoped filters that extend the "),c.Ib(578,"code"),c.lc(579,"BaseExceptionFilter"),c.Hb(),c.lc(580," should not be instantiated with "),c.Ib(581,"code"),c.lc(582,"new"),c.Hb(),c.lc(583,". Instead, let the framework instantiate them automatically.\n"),c.Hb(),c.Ib(584,"p"),c.lc(585,"The above implementation is just a shell demonstrating the approach. Your implementation of the extended exception filter would include your tailored "),c.Ib(586,"strong"),c.lc(587,"business"),c.Hb(),c.lc(588," logic (e.g., handling various conditions)."),c.Hb(),c.Ib(589,"p"),c.lc(590,"Global filters "),c.Ib(591,"strong"),c.lc(592,"can"),c.Hb(),c.lc(593," extend the base filter. This can be done in either of two ways."),c.Hb(),c.Ib(594,"p"),c.lc(595,"The first method is to inject the "),c.Ib(596,"code"),c.lc(597,"HttpServer"),c.Hb(),c.lc(598," reference when instantiating the custom global filter:"),c.Hb(),c.Ib(599,"pre"),c.Ib(600,"code",11),c.lc(601,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  const { httpAdapter } = app.get(HttpAdapterHost);\n  app.useGlobalFilters(new AllExceptionsFilter(httpAdapter));\n\n  await app.listen(3000);\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Ib(602,"p"),c.lc(603,"The second method is to use the "),c.Ib(604,"code"),c.lc(605,"APP_FILTER"),c.Hb(),c.lc(606," token "),c.Ib(607,"a",35),c.lc(608,"as shown here"),c.Hb(),c.lc(609,"."),c.Hb(),c.Hb()}if(2&e){var n=c.dc(60),r=c.dc(145),i=c.dc(169),o=c.dc(188),a=c.dc(299),s=c.dc(407),l=c.dc(442),u=c.dc(468),h=c.dc(486),d=c.dc(509),p=c.dc(567);c.vb(57),c.nc(" ",c.Vb(58,27,"cats.controller",n.isJsActive),"\n"),c.vb(85),c.nc(" ",c.Vb(143,30,"cats.controller",r.isJsActive),"\n"),c.vb(24),c.nc(" ",c.Vb(167,33,"forbidden.exception",i.isJsActive),"\n"),c.vb(19),c.nc(" ",c.Vb(186,36,"cats.controller",o.isJsActive),"\n"),c.vb(111),c.nc(" ",c.Vb(297,39,"http-exception.filter",a.isJsActive),"\n"),c.vb(4),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive),c.vb(101),c.nc(" ",c.Vb(405,42,"cats.controller",s.isJsActive),"\n"),c.vb(4),c.xb("hide",s.isJsActive),c.vb(3),c.xb("hide",!s.isJsActive),c.vb(28),c.nc(" ",c.Vb(440,45,"cats.controller",l.isJsActive),"\n"),c.vb(4),c.xb("hide",l.isJsActive),c.vb(3),c.xb("hide",!l.isJsActive),c.vb(19),c.nc(" ",c.Vb(466,48,"cats.controller",u.isJsActive),"\n"),c.vb(18),c.nc(" ",c.Vb(484,51,"main",h.isJsActive),"\n"),c.vb(23),c.nc(" ",c.Vb(507,54,"app.module",d.isJsActive),"\n"),c.vb(58),c.nc(" ",c.Vb(565,57,"all-exceptions.filter",p.isJsActive),"\n"),c.vb(4),c.xb("hide",p.isJsActive),c.vb(3),c.xb("hide",!p.isJsActive)}},directives:[Ei.a,Ai.a,Hr.f,Mi.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),ci),Xi=c.Kb(Yi),Qi=((li=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return Ki(e||li)},li.\u0275cmp=c.zb({type:li,selectors:[["app-first-steps"]],features:[c.tb],decls:220,vars:8,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/first-steps.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","first-steps"],["appAnchor","","id","language"],["rel","nofollow","target","_blank","href","http://www.typescriptlang.org/"],["rel","nofollow","target","_blank","href","https://nodejs.org/en/"],["rel","nofollow","target","_blank","href","http://babeljs.io/"],["appAnchor","","id","prerequisites"],["rel","nofollow","target","_blank","href","https://nodejs.org/"],["appAnchor","","id","setup"],["routerLink","/cli/overview"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/"],[1,"language-bash"],[1,"file-tree"],[1,"item"],[1,"children"],[1,"filename"],["appaf3c1a30cde76b70610d88e5060e61d06a41f251",""],[1,"language-typescript"],["appAnchor","","id","platform"],["rel","nofollow","target","_blank","href","https://expressjs.com/"],["rel","nofollow","target","_blank","href","https://www.fastify.io"],["rel","nofollow","target","_blank","href","https://www.fastify.io/"],["routerLink","/techniques/performance"],["appAnchor","","id","running-the-application"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"First steps"),c.Hb(),c.Ib(7,"p"),c.lc(8,"In this set of articles, you'll learn the "),c.Ib(9,"strong"),c.lc(10,"core fundamentals"),c.Hb(),c.lc(11," of Nest. To get familiar with the essential building blocks of Nest applications, we'll build a basic CRUD application with features that cover a lot of ground at an introductory level."),c.Hb(),c.Ib(12,"h4",6),c.Ib(13,"span"),c.lc(14,"Language"),c.Hb(),c.Hb(),c.Ib(15,"p"),c.lc(16,"We're in love with "),c.Ib(17,"a",7),c.lc(18,"TypeScript"),c.Hb(),c.lc(19,", but above all - we love "),c.Ib(20,"a",8),c.lc(21,"Node.js"),c.Hb(),c.lc(22,". That's why Nest is compatible with both TypeScript and "),c.Ib(23,"strong"),c.lc(24,"pure JavaScript"),c.Hb(),c.lc(25,". Nest takes advantage of the latest language features, so to use it with vanilla JavaScript we need a "),c.Ib(26,"a",9),c.lc(27,"Babel"),c.Hb(),c.lc(28," compiler."),c.Hb(),c.Ib(29,"p"),c.lc(30,"We'll mostly use TypeScript in the examples we provide, but you can always "),c.Ib(31,"strong"),c.lc(32,"switch the code snippets"),c.Hb(),c.lc(33," to vanilla JavaScript syntax (simply click to toggle the language button in the upper right hand corner of each snippet)."),c.Hb(),c.Ib(34,"h4",10),c.Ib(35,"span"),c.lc(36,"Prerequisites"),c.Hb(),c.Hb(),c.Ib(37,"p"),c.lc(38,"Please make sure that "),c.Ib(39,"a",11),c.lc(40,"Node.js"),c.Hb(),c.lc(41," (>= 10.13.0) is installed on your operating system."),c.Hb(),c.Ib(42,"h4",12),c.Ib(43,"span"),c.lc(44,"Setup"),c.Hb(),c.Hb(),c.Ib(45,"p"),c.lc(46,"Setting up a new project is quite simple with the "),c.Ib(47,"a",13),c.lc(48,"Nest CLI"),c.Hb(),c.lc(49,". With "),c.Ib(50,"a",14),c.lc(51,"npm"),c.Hb(),c.lc(52," installed, you can create a new Nest project with the following commands in your OS terminal:"),c.Hb(),c.Ib(53,"pre"),c.Ib(54,"code",15),c.lc(55,"\n$ npm i -g @nestjs/cli\n$ nest new project-name"),c.Hb(),c.Hb(),c.Ib(56,"p"),c.lc(57,"The "),c.Ib(58,"code"),c.lc(59,"project"),c.Hb(),c.lc(60," directory will be created, node modules and a few other boilerplate files will be installed, and a "),c.Ib(61,"code"),c.lc(62,"src/"),c.Hb(),c.lc(63," directory will be created and populated with several core files."),c.Hb(),c.Ib(64,"div",16),c.Ib(65,"div",17),c.lc(66,"src"),c.Hb(),c.Ib(67,"div",18),c.Ib(68,"div",17),c.lc(69,"app.controller.ts"),c.Hb(),c.Ib(70,"div",17),c.lc(71,"app.module.ts"),c.Hb(),c.Ib(72,"div",17),c.lc(73,"main.ts"),c.Hb(),c.Hb(),c.Hb(),c.Ib(74,"p"),c.lc(75,"Here's a brief overview of those core files:"),c.Hb(),c.Ib(76,"table"),c.Gb(77,"thead"),c.Ib(78,"tbody"),c.Ib(79,"tr"),c.Ib(80,"td"),c.Ib(81,"code"),c.lc(82,"app.controller.ts"),c.Hb(),c.Hb(),c.Ib(83,"td"),c.lc(84,"Basic controller sample with a single route."),c.Hb(),c.Hb(),c.Ib(85,"tr"),c.Ib(86,"td"),c.Ib(87,"code"),c.lc(88,"app.module.ts"),c.Hb(),c.Hb(),c.Ib(89,"td"),c.lc(90,"The root module of the application."),c.Hb(),c.Hb(),c.Ib(91,"tr"),c.Ib(92,"td"),c.Ib(93,"code"),c.lc(94,"main.ts"),c.Hb(),c.Hb(),c.Ib(95,"td"),c.lc(96,"The entry file of the application which uses the core function "),c.Ib(97,"code"),c.lc(98,"NestFactory"),c.Hb(),c.lc(99," to create a Nest application instance."),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Ib(100,"p"),c.lc(101,"The "),c.Ib(102,"code"),c.lc(103,"main.ts"),c.Hb(),c.lc(104," includes an async function, which will "),c.Ib(105,"strong"),c.lc(106,"bootstrap"),c.Hb(),c.lc(107," our application:"),c.Hb(),c.Ib(108,"span",19),c.lc(109),c.Ub(110,"extension"),c.Gb(111,"app-tabs",null,20),c.Hb(),c.Ib(113,"pre"),c.Ib(114,"code",21),c.lc(115,"\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(3000);\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Ib(116,"pre"),c.Ib(117,"code",21),c.lc(118,"\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(3000);\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Ib(119,"p"),c.lc(120,"To create a Nest application instance, we use the core "),c.Ib(121,"code"),c.lc(122,"NestFactory"),c.Hb(),c.lc(123," class. "),c.Ib(124,"code"),c.lc(125,"NestFactory"),c.Hb(),c.lc(126," exposes a few static methods that allow creating an application instance. The "),c.Ib(127,"code"),c.lc(128,"create()"),c.Hb(),c.lc(129," method returns an application object, which fulfills the "),c.Ib(130,"code"),c.lc(131,"INestApplication"),c.Hb(),c.lc(132," interface. This object provides a set of methods which are described in the coming chapters. In the "),c.Ib(133,"code"),c.lc(134,"main.ts"),c.Hb(),c.lc(135," example above, we simply start up our HTTP listener, which lets the application await inbound HTTP requests."),c.Hb(),c.Ib(136,"p"),c.lc(137,"Note that a project scaffolded with the Nest CLI creates an initial project structure that encourages developers to follow the convention of keeping each module in its own dedicated directory."),c.Hb(),c.Ib(138,"p"),c.Gb(139,"app-banner-courses"),c.Hb(),c.Ib(140,"h4",22),c.Ib(141,"span"),c.lc(142,"Platform"),c.Hb(),c.Hb(),c.Ib(143,"p"),c.lc(144,"Nest aims to be a platform-agnostic framework. Platform independence makes it possible to create reusable logical parts that developers can take advantage of across several different types of applications. Technically, Nest is able to work with any Node HTTP framework once an adapter is created. There are two HTTP platforms supported out-of-the-box: "),c.Ib(145,"a",23),c.lc(146,"express"),c.Hb(),c.lc(147," and "),c.Ib(148,"a",24),c.lc(149,"fastify"),c.Hb(),c.lc(150,". You can choose the one that best suits your needs."),c.Hb(),c.Ib(151,"table"),c.Gb(152,"thead"),c.Ib(153,"tbody"),c.Ib(154,"tr"),c.Ib(155,"td"),c.Ib(156,"code"),c.lc(157,"platform-express"),c.Hb(),c.Hb(),c.Ib(158,"td"),c.Ib(159,"a",23),c.lc(160,"Express"),c.Hb(),c.lc(161," is a well-known minimalist web framework for node. It's a battle tested, production-ready library with lots of resources implemented by the community. The "),c.Ib(162,"code"),c.lc(163,"@nestjs/platform-express"),c.Hb(),c.lc(164," package is used by default. Many users are well served with Express, and need take no action to enable it."),c.Hb(),c.Hb(),c.Ib(165,"tr"),c.Ib(166,"td"),c.Ib(167,"code"),c.lc(168,"platform-fastify"),c.Hb(),c.Hb(),c.Ib(169,"td"),c.Ib(170,"a",25),c.lc(171,"Fastify"),c.Hb(),c.lc(172," is a high performance and low overhead framework highly focused on providing maximum efficiency and speed. Read how to use it "),c.Ib(173,"a",26),c.lc(174,"here"),c.Hb(),c.lc(175,"."),c.Hb(),c.Hb(),c.Hb(),c.Hb(),c.Ib(176,"p"),c.lc(177,"Whichever platform is used, it exposes its own application interface. These are seen respectively as "),c.Ib(178,"code"),c.lc(179,"NestExpressApplication"),c.Hb(),c.lc(180," and "),c.Ib(181,"code"),c.lc(182,"NestFastifyApplication"),c.Hb(),c.lc(183,"."),c.Hb(),c.Ib(184,"p"),c.lc(185,"When you pass a type to the "),c.Ib(186,"code"),c.lc(187,"NestFactory.create()"),c.Hb(),c.lc(188," method, as in the example below, the "),c.Ib(189,"code"),c.lc(190,"app"),c.Hb(),c.lc(191," object will have methods available exclusively for that specific platform. Note, however, you don't "),c.Ib(192,"strong"),c.lc(193,"need"),c.Hb(),c.lc(194," to specify a type "),c.Ib(195,"strong"),c.lc(196,"unless"),c.Hb(),c.lc(197," you actually want to access the underlying platform API."),c.Hb(),c.Ib(198,"pre"),c.Ib(199,"code",21),c.lc(200,"\nconst app = await NestFactory.create<NestExpressApplication>(AppModule);"),c.Hb(),c.Hb(),c.Ib(201,"h4",27),c.Ib(202,"span"),c.lc(203,"Running the application"),c.Hb(),c.Hb(),c.Ib(204,"p"),c.lc(205,"Once the installation process is complete, you can run the following command at your OS command prompt to start the application listening for inbound HTTP requests:"),c.Hb(),c.Ib(206,"pre"),c.Ib(207,"code",15),c.lc(208,"\n$ npm run start"),c.Hb(),c.Hb(),c.Ib(209,"p"),c.lc(210,"This command starts the app with the HTTP server listening on the port defined in the "),c.Ib(211,"code"),c.lc(212,"src/main.ts"),c.Hb(),c.lc(213," file. Once the application is running, open your browser and navigate to "),c.Ib(214,"code"),c.lc(215,"http://localhost:3000/"),c.Hb(),c.lc(216,". You should see the "),c.Ib(217,"code"),c.lc(218,"Hello World!"),c.Hb(),c.lc(219," message."),c.Hb(),c.Hb()),2&e){var n=c.dc(112);c.vb(109),c.nc(" ",c.Vb(110,5,"main",n.isJsActive),"\n"),c.vb(4),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive)}},directives:[Ei.a,Hr.f,Ai.a,Mi.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),li),Ki=c.Kb(Qi),Zi=((ui=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return $i(e||ui)},ui.\u0275cmp=c.zb({type:ui,selectors:[["app-guards"]],features:[c.tb],decls:448,vars:52,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/guards.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","guards"],["src","/assets/Guards_1.png"],["routerLink","/middleware"],[1,"info"],["appAnchor","","id","authorization-guard"],[1,"filename"],["app65345fbadb9acd4370b18890593527888b65e67b",""],[1,"language-typescript"],["appAnchor","","id","execution-context"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/exception-filters#arguments-host"],["routerLink","/fundamentals/execution-context"],["appAnchor","","id","role-based-authentication"],["appc52f9f2765c2f53ceb143d07f1e5eedd0d397e5e",""],["appAnchor","","id","binding-guards"],["appcb19745365eb02d479376cc8aa32f1f3524ce0cc",""],["app5902238a7d002f222800085daf2dd196cfd10e84",""],["app1368dab8369be05bad2e2fdba3e17cdd84524a2e",""],[1,"warning"],["routerLink","/faq/hybrid-application"],["appcafec043dee4019bfcd0e1814b14a707f5762e16",""],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","setting-roles-per-handler"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/fundamentals/execution-context#reflection-and-metadata"],["app031f3e223ac35779d8f9021f9185636191f951ee",""],["app7375589a27e242115e399c67f9379273b2e4d995",""],["appf80e5ef7884ac82104ee62e7374a17625d6025ea",""],["appAnchor","","id","putting-it-all-together"],["app1569afc0dbde07476dfe350bead071c945a0424a",""],["href","https://docs.nestjs.com/fundamentals/execution-context#reflection-and-metadata"],["routerLink","/exception-filters"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Guards"),c.Hb(),c.Ib(7,"p"),c.lc(8,"A guard is a class annotated with the "),c.Ib(9,"code"),c.lc(10,"@Injectable()"),c.Hb(),c.lc(11," decorator. Guards should implement the "),c.Ib(12,"code"),c.lc(13,"CanActivate"),c.Hb(),c.lc(14," interface."),c.Hb(),c.Ib(15,"figure"),c.Gb(16,"img",6),c.Hb(),c.Ib(17,"p"),c.lc(18,"Guards have a "),c.Ib(19,"strong"),c.lc(20,"single responsibility"),c.Hb(),c.lc(21,". They determine whether a given request will be handled by the route handler or not, depending on certain conditions (like permissions, roles, ACLs, etc.) present at run-time. This is often referred to as "),c.Ib(22,"strong"),c.lc(23,"authorization"),c.Hb(),c.lc(24,". Authorization (and its cousin, "),c.Ib(25,"strong"),c.lc(26,"authentication"),c.Hb(),c.lc(27,", with which it usually collaborates) has typically been handled by "),c.Ib(28,"a",7),c.lc(29,"middleware"),c.Hb(),c.lc(30," in traditional Express applications. Middleware is a fine choice for authentication, since things like token validation and attaching properties to the "),c.Ib(31,"code"),c.lc(32,"request"),c.Hb(),c.lc(33," object are not strongly connected with a particular route context (and its metadata)."),c.Hb(),c.Ib(34,"p"),c.lc(35,"But middleware, by its nature, is dumb. It doesn't know which handler will be executed after calling the "),c.Ib(36,"code"),c.lc(37,"next()"),c.Hb(),c.lc(38," function. On the other hand, "),c.Ib(39,"strong"),c.lc(40,"Guards"),c.Hb(),c.lc(41," have access to the "),c.Ib(42,"code"),c.lc(43,"ExecutionContext"),c.Hb(),c.lc(44," instance, and thus know exactly what's going to be executed next. They're designed, much like exception filters, pipes, and interceptors, to let you interpose processing logic at exactly the right point in the request/response cycle, and to do so declaratively. This helps keep your code DRY and declarative."),c.Hb(),c.Ib(45,"blockquote",8),c.Ib(46,"strong"),c.lc(47,"Hint"),c.Hb(),c.lc(48," Guards are executed "),c.Ib(49,"strong"),c.lc(50,"after"),c.Hb(),c.lc(51," each middleware, but "),c.Ib(52,"strong"),c.lc(53,"before"),c.Hb(),c.lc(54," any interceptor or pipe.\n"),c.Hb(),c.Ib(55,"h4",9),c.Ib(56,"span"),c.lc(57,"Authorization guard"),c.Hb(),c.Hb(),c.Ib(58,"p"),c.lc(59,"As mentioned, "),c.Ib(60,"strong"),c.lc(61,"authorization"),c.Hb(),c.lc(62," is a great use case for Guards because specific routes should be available only when the caller (usually a specific authenticated user) has sufficient permissions. The "),c.Ib(63,"code"),c.lc(64,"AuthGuard"),c.Hb(),c.lc(65," that we'll build now assumes an authenticated user (and that, therefore, a token is attached to the request headers). It will extract and validate the token, and use the extracted information to determine whether the request can proceed or not."),c.Hb(),c.Ib(66,"span",10),c.lc(67),c.Ub(68,"extension"),c.Gb(69,"app-tabs",null,11),c.Hb(),c.Ib(71,"pre"),c.Ib(72,"code",12),c.lc(73,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(74,"pre"),c.Ib(75,"code",12),c.lc(76,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AuthGuard {\n  async canActivate(context) {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(77,"p"),c.lc(78,"The logic inside the "),c.Ib(79,"code"),c.lc(80,"validateRequest()"),c.Hb(),c.lc(81," function can be as simple or sophisticated as needed. The main point of this example is to show how guards fit into the request/response cycle."),c.Hb(),c.Ib(82,"p"),c.lc(83,"Every guard must implement a "),c.Ib(84,"code"),c.lc(85,"canActivate()"),c.Hb(),c.lc(86," function. This function should return a boolean, indicating whether the current request is allowed or not. It can return the response either synchronously or asynchronously (via a "),c.Ib(87,"code"),c.lc(88,"Promise"),c.Hb(),c.lc(89," or "),c.Ib(90,"code"),c.lc(91,"Observable"),c.Hb(),c.lc(92,"). Nest uses the return value to control the next action:"),c.Hb(),c.Ib(93,"ul"),c.Ib(94,"li"),c.lc(95,"if it returns "),c.Ib(96,"code"),c.lc(97,"true"),c.Hb(),c.lc(98,", the request will be processed."),c.Hb(),c.Ib(99,"li"),c.lc(100,"if it returns "),c.Ib(101,"code"),c.lc(102,"false"),c.Hb(),c.lc(103,", Nest will deny the request."),c.Hb(),c.Hb(),c.Ib(104,"p"),c.Gb(105,"app-banner-enterprise"),c.Hb(),c.Ib(106,"h4",13),c.Ib(107,"span"),c.lc(108,"Execution context"),c.Hb(),c.Hb(),c.Ib(109,"p"),c.lc(110,"The "),c.Ib(111,"code"),c.lc(112,"canActivate()"),c.Hb(),c.lc(113," function takes a single argument, the "),c.Ib(114,"code"),c.lc(115,"ExecutionContext"),c.Hb(),c.lc(116," instance. The "),c.Ib(117,"code"),c.lc(118,"ExecutionContext"),c.Hb(),c.lc(119," inherits from "),c.Ib(120,"code"),c.lc(121,"ArgumentsHost"),c.Hb(),c.lc(122,". We saw "),c.Ib(123,"code"),c.lc(124,"ArgumentsHost"),c.Hb(),c.lc(125," previously in the exception filters chapter. In the sample above, we are just using the same helper methods defined on "),c.Ib(126,"code"),c.lc(127,"ArgumentsHost"),c.Hb(),c.lc(128," that we used earlier, to get a reference to the "),c.Ib(129,"code"),c.lc(130,"Request"),c.Hb(),c.lc(131," object. You can refer back to the "),c.Ib(132,"strong"),c.lc(133,"Arguments host"),c.Hb(),c.lc(134," section of the "),c.Ib(135,"a",14),c.lc(136,"exception filters"),c.Hb(),c.lc(137," chapter for more on this topic."),c.Hb(),c.Ib(138,"p"),c.lc(139,"By extending "),c.Ib(140,"code"),c.lc(141,"ArgumentsHost"),c.Hb(),c.lc(142,", "),c.Ib(143,"code"),c.lc(144,"ExecutionContext"),c.Hb(),c.lc(145," also adds several new helper methods that provide additional details about the current execution process. These details can be helpful in building more generic guards that can work across a broad set of controllers, methods, and execution contexts. Learn more about "),c.Ib(146,"code"),c.lc(147,"ExecutionContext"),c.Hb(),c.Ib(148,"a",15),c.lc(149,"here"),c.Hb(),c.lc(150,"."),c.Hb(),c.Ib(151,"h4",16),c.Ib(152,"span"),c.lc(153,"Role-based authentication"),c.Hb(),c.Hb(),c.Ib(154,"p"),c.lc(155,"Let's build a more functional guard that permits access only to users with a specific role. We'll start with a basic guard template, and build on it in the coming sections. For now, it allows all requests to proceed:"),c.Hb(),c.Ib(156,"span",10),c.lc(157),c.Ub(158,"extension"),c.Gb(159,"app-tabs",null,17),c.Hb(),c.Ib(161,"pre"),c.Ib(162,"code",12),c.lc(163,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    return true;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(164,"pre"),c.Ib(165,"code",12),c.lc(166,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class RolesGuard {\n  canActivate(context) {\n    return true;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(167,"h4",18),c.Ib(168,"span"),c.lc(169,"Binding guards"),c.Hb(),c.Hb(),c.Ib(170,"p"),c.lc(171,"Like pipes and exception filters, guards can be "),c.Ib(172,"strong"),c.lc(173,"controller-scoped"),c.Hb(),c.lc(174,", method-scoped, or global-scoped. Below, we set up a controller-scoped guard using the "),c.Ib(175,"code"),c.lc(176,"@UseGuards()"),c.Hb(),c.lc(177," decorator. This decorator may take a single argument, or a comma-separated list of arguments. This lets you easily apply the appropriate set of guards with one declaration."),c.Hb(),c.Ib(178,"span",10),c.Gb(179,"app-tabs",null,19),c.Hb(),c.Ib(181,"pre"),c.Ib(182,"code",12),c.lc(183,"\n@Controller('cats')\n@UseGuards(RolesGuard)\nexport class CatsController {}"),c.Hb(),c.Hb(),c.Ib(184,"blockquote",8),c.Ib(185,"strong"),c.lc(186,"Hint"),c.Hb(),c.lc(187," The "),c.Ib(188,"code"),c.lc(189,"@UseGuards()"),c.Hb(),c.lc(190," decorator is imported from the "),c.Ib(191,"code"),c.lc(192,"@nestjs/common"),c.Hb(),c.lc(193," package.\n"),c.Hb(),c.Ib(194,"p"),c.lc(195,"Above, we passed the "),c.Ib(196,"code"),c.lc(197,"RolesGuard"),c.Hb(),c.lc(198," type (instead of an instance), leaving responsibility for instantiation to the framework and enabling dependency injection. As with pipes and exception filters, we can also pass an in-place instance:"),c.Hb(),c.Ib(199,"span",10),c.Gb(200,"app-tabs",null,20),c.Hb(),c.Ib(202,"pre"),c.Ib(203,"code",12),c.lc(204,"\n@Controller('cats')\n@UseGuards(new RolesGuard())\nexport class CatsController {}"),c.Hb(),c.Hb(),c.Ib(205,"p"),c.lc(206,"The construction above attaches the guard to every handler declared by this controller. If we wish the guard to apply only to a single method, we apply the "),c.Ib(207,"code"),c.lc(208,"@UseGuards()"),c.Hb(),c.lc(209," decorator at the "),c.Ib(210,"strong"),c.lc(211,"method level"),c.Hb(),c.lc(212,"."),c.Hb(),c.Ib(213,"p"),c.lc(214,"In order to set up a global guard, use the "),c.Ib(215,"code"),c.lc(216,"useGlobalGuards()"),c.Hb(),c.lc(217," method of the Nest application instance:"),c.Hb(),c.Ib(218,"span",10),c.Gb(219,"app-tabs",null,21),c.Hb(),c.Ib(221,"pre"),c.Ib(222,"code",12),c.lc(223,"\nconst app = await NestFactory.create(AppModule);\napp.useGlobalGuards(new RolesGuard());"),c.Hb(),c.Hb(),c.Ib(224,"blockquote",22),c.Ib(225,"strong"),c.lc(226,"Notice"),c.Hb(),c.lc(227," In the case of hybrid apps the "),c.Ib(228,"code"),c.lc(229,"useGlobalGuards()"),c.Hb(),c.lc(230," method doesn't set up guards for gateways and micro services by default (see "),c.Ib(231,"a",23),c.lc(232,"Hybrid application"),c.Hb(),c.lc(233,' for information on how to change this behavior). For "standard" (non-hybrid) microservice apps, '),c.Ib(234,"code"),c.lc(235,"useGlobalGuards()"),c.Hb(),c.lc(236," does mount the guards globally.\n"),c.Hb(),c.Ib(237,"p"),c.lc(238,"Global guards are used across the whole application, for every controller and every route handler. In terms of dependency injection, global guards registered from outside of any module (with "),c.Ib(239,"code"),c.lc(240,"useGlobalGuards()"),c.Hb(),c.lc(241," as in the example above) cannot inject dependencies since this is done outside the context of any module. In order to solve this issue, you can set up a guard directly from any module using the following construction:"),c.Hb(),c.Ib(242,"span",10),c.lc(243),c.Ub(244,"extension"),c.Gb(245,"app-tabs",null,24),c.Hb(),c.Ib(247,"pre"),c.Ib(248,"code",12),c.lc(249,"\nimport { Module } from '@nestjs/common';\nimport { APP_GUARD } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: RolesGuard,\n    },\n  ],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(250,"blockquote",8),c.Ib(251,"strong"),c.lc(252,"Hint"),c.Hb(),c.lc(253," When using this approach to perform dependency injection for the guard, note that regardless of the\nmodule where this construction is employed, the guard is, in fact, global. Where should this be done? Choose the module\nwhere the guard ("),c.Ib(254,"code"),c.lc(255,"RolesGuard"),c.Hb(),c.lc(256," in the example above) is defined. Also, "),c.Ib(257,"code"),c.lc(258,"useClass"),c.Hb(),c.lc(259," is not the only way of dealing with\ncustom provider registration. Learn more "),c.Ib(260,"a",25),c.lc(261,"here"),c.Hb(),c.lc(262,".\n"),c.Hb(),c.Ib(263,"h4",26),c.Ib(264,"span"),c.lc(265,"Setting roles per handler"),c.Hb(),c.Hb(),c.Ib(266,"p"),c.lc(267,"Our "),c.Ib(268,"code"),c.lc(269,"RolesGuard"),c.Hb(),c.lc(270," is working, but it's not very smart yet. We're not yet taking advantage of the most important guard feature - the "),c.Ib(271,"a",15),c.lc(272,"execution context"),c.Hb(),c.lc(273,". It doesn't yet know about roles, or which roles are allowed for each handler. The "),c.Ib(274,"code"),c.lc(275,"CatsController"),c.Hb(),c.lc(276,", for example, could have different permission schemes for different routes. Some might be available only for an admin user, and others could be open for everyone. How can we match roles to routes in a flexible and reusable way?"),c.Hb(),c.Ib(277,"p"),c.lc(278,"This is where "),c.Ib(279,"strong"),c.lc(280,"custom metadata"),c.Hb(),c.lc(281," comes into play (learn more "),c.Ib(282,"a",27),c.lc(283,"here"),c.Hb(),c.lc(284,"). Nest provides the ability to attach custom "),c.Ib(285,"strong"),c.lc(286,"metadata"),c.Hb(),c.lc(287," to route handlers through the "),c.Ib(288,"code"),c.lc(289,"@SetMetadata()"),c.Hb(),c.lc(290," decorator. This metadata supplies our missing "),c.Ib(291,"code"),c.lc(292,"role"),c.Hb(),c.lc(293," data, which a smart guard needs to make decisions. Let's take a look at using "),c.Ib(294,"code"),c.lc(295,"@SetMetadata()"),c.Hb(),c.lc(296,":"),c.Hb(),c.Ib(297,"span",10),c.lc(298),c.Ub(299,"extension"),c.Gb(300,"app-tabs",null,28),c.Hb(),c.Ib(302,"pre"),c.Ib(303,"code",12),c.lc(304,"\n@Post()\n@SetMetadata('roles', ['admin'])\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(305,"pre"),c.Ib(306,"code",12),c.lc(307,"\n@Post()\n@SetMetadata('roles', ['admin'])\n@Bind(Body())\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(308,"blockquote",8),c.Ib(309,"strong"),c.lc(310,"Hint"),c.Hb(),c.lc(311," The "),c.Ib(312,"code"),c.lc(313,"@SetMetadata()"),c.Hb(),c.lc(314," decorator is imported from the "),c.Ib(315,"code"),c.lc(316,"@nestjs/common"),c.Hb(),c.lc(317," package.\n"),c.Hb(),c.Ib(318,"p"),c.lc(319,"With the construction above, we attached the "),c.Ib(320,"code"),c.lc(321,"roles"),c.Hb(),c.lc(322," metadata ("),c.Ib(323,"code"),c.lc(324,"roles"),c.Hb(),c.lc(325," is a key, while "),c.Ib(326,"code"),c.lc(327,"['admin']"),c.Hb(),c.lc(328," is a particular value) to the "),c.Ib(329,"code"),c.lc(330,"create()"),c.Hb(),c.lc(331," method. While this works, it's not good practice to use "),c.Ib(332,"code"),c.lc(333,"@SetMetadata()"),c.Hb(),c.lc(334," directly in your routes. Instead, create your own decorators, as shown below:"),c.Hb(),c.Ib(335,"span",10),c.lc(336),c.Ub(337,"extension"),c.Gb(338,"app-tabs",null,29),c.Hb(),c.Ib(340,"pre"),c.Ib(341,"code",12),c.lc(342,"\nimport { SetMetadata } from '@nestjs/common';\n\nexport const Roles = (...roles: string[]) => SetMetadata('roles', roles);"),c.Hb(),c.Hb(),c.Ib(343,"pre"),c.Ib(344,"code",12),c.lc(345,"\nimport { SetMetadata } from '@nestjs/common';\n\nexport const Roles = (...roles) => SetMetadata('roles', roles);"),c.Hb(),c.Hb(),c.Ib(346,"p"),c.lc(347,"This approach is much cleaner and more readable, and is strongly typed. Now that we have a custom "),c.Ib(348,"code"),c.lc(349,"@Roles()"),c.Hb(),c.lc(350," decorator, we can use it to decorate the "),c.Ib(351,"code"),c.lc(352,"create()"),c.Hb(),c.lc(353," method."),c.Hb(),c.Ib(354,"span",10),c.lc(355),c.Ub(356,"extension"),c.Gb(357,"app-tabs",null,30),c.Hb(),c.Ib(359,"pre"),c.Ib(360,"code",12),c.lc(361,"\n@Post()\n@Roles('admin')\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(362,"pre"),c.Ib(363,"code",12),c.lc(364,"\n@Post()\n@Roles('admin')\n@Bind(Body())\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(365,"h4",31),c.Ib(366,"span"),c.lc(367,"Putting it all together"),c.Hb(),c.Hb(),c.Ib(368,"p"),c.lc(369,"Let's now go back and tie this together with our "),c.Ib(370,"code"),c.lc(371,"RolesGuard"),c.Hb(),c.lc(372,". Currently, it simply returns "),c.Ib(373,"code"),c.lc(374,"true"),c.Hb(),c.lc(375," in all cases, allowing every request to proceed. We want to make the return value conditional based on the comparing the "),c.Ib(376,"strong"),c.lc(377,"roles assigned to the current user"),c.Hb(),c.lc(378," to the actual roles required by the current route being processed. In order to access the route's role(s) (custom metadata), we'll use the "),c.Ib(379,"code"),c.lc(380,"Reflector"),c.Hb(),c.lc(381," helper class, which is provided out of the box by the framework and exposed from the "),c.Ib(382,"code"),c.lc(383,"@nestjs/core"),c.Hb(),c.lc(384," package."),c.Hb(),c.Ib(385,"span",10),c.lc(386),c.Ub(387,"extension"),c.Gb(388,"app-tabs",null,32),c.Hb(),c.Ib(390,"pre"),c.Ib(391,"code",12),c.lc(392,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  constructor(private reflector: Reflector) {}\n\n  canActivate(context: ExecutionContext): boolean {\n    const roles = this.reflector.get<string[]>('roles', context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    return matchRoles(roles, user.roles);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(393,"pre"),c.Ib(394,"code",12),c.lc(395,"\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\n\n@Injectable()\n@Dependencies(Reflector)\nexport class RolesGuard {\n  constructor(reflector) {\n    this.reflector = reflector;\n  }\n\n  canActivate(context) {\n    const roles = this.reflector.get('roles', context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    return matchRoles(roles, user.roles);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(396,"blockquote",8),c.Ib(397,"strong"),c.lc(398,"Hint"),c.Hb(),c.lc(399," In the node.js world, it's common practice to attach the authorized user to the "),c.Ib(400,"code"),c.lc(401,"request"),c.Hb(),c.lc(402," object. Thus, in our sample code above, we are assuming that "),c.Ib(403,"code"),c.lc(404,"request.user"),c.Hb(),c.lc(405," contains the user instance and allowed roles. In your app, you will probably make that association in your custom "),c.Ib(406,"strong"),c.lc(407,"authentication guard"),c.Hb(),c.lc(408," (or middleware).\n"),c.Hb(),c.Ib(409,"blockquote",22),c.Ib(410,"strong"),c.lc(411,"Warning"),c.Hb(),c.lc(412," The logic inside the "),c.Ib(413,"code"),c.lc(414,"matchRoles()"),c.Hb(),c.lc(415," function can be as simple or sophisticated as needed. The main point of this example is to show how guards fit into the request/response cycle.\n"),c.Hb(),c.Ib(416,"p"),c.lc(417,"Refer to the "),c.Ib(418,"a",33),c.lc(419,"Reflection and metadata"),c.Hb(),c.lc(420," section of the "),c.Ib(421,"strong"),c.lc(422,"Execution context"),c.Hb(),c.lc(423," chapter for more details on utilizing "),c.Ib(424,"code"),c.lc(425,"Reflector"),c.Hb(),c.lc(426," in a context-sensitive way."),c.Hb(),c.Ib(427,"p"),c.lc(428,"When a user with insufficient privileges requests an endpoint, Nest automatically returns the following response:"),c.Hb(),c.Ib(429,"pre"),c.Ib(430,"code",12),c.lc(431,'\n{\n  "statusCode": 403,\n  "message": "Forbidden resource",\n  "error": "Forbidden"\n}'),c.Hb(),c.Hb(),c.Ib(432,"p"),c.lc(433,"Note that behind the scenes, when a guard returns "),c.Ib(434,"code"),c.lc(435,"false"),c.Hb(),c.lc(436,", the framework throws a "),c.Ib(437,"code"),c.lc(438,"ForbiddenException"),c.Hb(),c.lc(439,". If you want to return a different error response, you should throw your own specific exception. For example:"),c.Hb(),c.Ib(440,"pre"),c.Ib(441,"code",12),c.lc(442,"\nthrow new UnauthorizedException();"),c.Hb(),c.Hb(),c.Ib(443,"p"),c.lc(444,"Any exception thrown by a guard will be handled by the "),c.Ib(445,"a",34),c.lc(446,"exceptions layer"),c.Hb(),c.lc(447," (global exceptions filter and any exceptions filters that are applied to the current context)."),c.Hb(),c.Hb()),2&e){var n=c.dc(70),r=c.dc(160),i=c.dc(246),o=c.dc(301),a=c.dc(339),s=c.dc(358),l=c.dc(389);c.vb(67),c.nc(" ",c.Vb(68,31,"auth.guard",n.isJsActive),"\n"),c.vb(4),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(83),c.nc(" ",c.Vb(158,34,"roles.guard",r.isJsActive),"\n"),c.vb(4),c.xb("hide",r.isJsActive),c.vb(3),c.xb("hide",!r.isJsActive),c.vb(79),c.nc(" ",c.Vb(244,37,"app.module",i.isJsActive),"\n"),c.vb(55),c.nc(" ",c.Vb(299,40,"cats.controller",o.isJsActive),"\n"),c.vb(4),c.xb("hide",o.isJsActive),c.vb(3),c.xb("hide",!o.isJsActive),c.vb(31),c.nc(" ",c.Vb(337,43,"roles.decorator",a.isJsActive),"\n"),c.vb(4),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive),c.vb(12),c.nc(" ",c.Vb(356,46,"cats.controller",s.isJsActive),"\n"),c.vb(4),c.xb("hide",s.isJsActive),c.vb(3),c.xb("hide",!s.isJsActive),c.vb(24),c.nc(" ",c.Vb(387,49,"roles.guard",l.isJsActive),"\n"),c.vb(4),c.xb("hide",l.isJsActive),c.vb(3),c.xb("hide",!l.isJsActive)}},directives:[Hr.f,Ei.a,Ai.a,Fi.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),ui),$i=c.Kb(Zi),eo=((hi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return to(e||hi)},hi.\u0275cmp=c.zb({type:hi,selectors:[["app-interceptors"]],features:[c.tb],decls:511,vars:56,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/interceptors.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","interceptors"],["src","/assets/Interceptors_1.png"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Aspect-oriented_programming"],["appAnchor","","id","basics"],["routerLink","/guards"],["rel","nofollow","target","_blank","href","https://docs.nestjs.com/exception-filters#arguments-host"],["appAnchor","","id","execution-context"],["routerLink","/fundamentals/execution-context"],["appAnchor","","id","call-handler"],["rel","nofollow","target","_blank","href","https://github.com/ReactiveX/rxjs"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Pointcut"],["appAnchor","","id","aspect-interception"],[1,"filename"],["appa38a717639eed2dfa75a689848b11fe0cbd4c49e",""],[1,"language-typescript"],[1,"info"],[1,"warning"],["appAnchor","","id","binding-interceptors"],["routerLink","/pipes"],["appd1666f2228517d9f7e7a5af7f8282be67fadb902",""],["appa058913e260a4b759ad71cc18290844d889f7f70",""],["app3c3574eca3a027538645f460d353e8bdb37d1083",""],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","response-mapping"],["appaf0122bb67be2946bf3d4ca7b1949bb933f484e5",""],[1,"language-json"],["appbf847e0d8068c0083e93f66e1e4f18f46ab0435a",""],["appAnchor","","id","exception-mapping"],["app255816a9338e4c3edab3013b22bce7434df0d60e",""],["appAnchor","","id","stream-overriding"],["appdd842c66f04a7f5049031b7e085015c54e1d0f73",""],["appAnchor","","id","more-operators"],["appf395c315dea5772f8b1046d6834a6ca419d59326",""]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Interceptors"),c.Hb(),c.Ib(7,"p"),c.lc(8,"An interceptor is a class annotated with the "),c.Ib(9,"code"),c.lc(10,"@Injectable()"),c.Hb(),c.lc(11," decorator. Interceptors should implement the "),c.Ib(12,"code"),c.lc(13,"NestInterceptor"),c.Hb(),c.lc(14," interface."),c.Hb(),c.Ib(15,"figure"),c.Gb(16,"img",6),c.Hb(),c.Ib(17,"p"),c.lc(18,"Interceptors have a set of useful capabilities which are inspired by the "),c.Ib(19,"a",7),c.lc(20,"Aspect Oriented Programming"),c.Hb(),c.lc(21," (AOP) technique. They make it possible to:"),c.Hb(),c.Ib(22,"ul"),c.Ib(23,"li"),c.lc(24,"bind "),c.Ib(25,"strong"),c.lc(26,"extra logic"),c.Hb(),c.lc(27," before / after method execution"),c.Hb(),c.Ib(28,"li"),c.Ib(29,"strong"),c.lc(30,"transform"),c.Hb(),c.lc(31," the result returned from a function"),c.Hb(),c.Ib(32,"li"),c.Ib(33,"strong"),c.lc(34,"transform"),c.Hb(),c.lc(35," the exception thrown from a function"),c.Hb(),c.Ib(36,"li"),c.Ib(37,"strong"),c.lc(38,"extend"),c.Hb(),c.lc(39," the basic function behavior"),c.Hb(),c.Ib(40,"li"),c.lc(41,"completely "),c.Ib(42,"strong"),c.lc(43,"override"),c.Hb(),c.lc(44," a function depending on specific conditions (e.g., for caching purposes)"),c.Hb(),c.Hb(),c.Ib(45,"h4",8),c.Ib(46,"span"),c.lc(47,"Basics"),c.Hb(),c.Hb(),c.Ib(48,"p"),c.lc(49,"Each interceptor implements the "),c.Ib(50,"code"),c.lc(51,"intercept()"),c.Hb(),c.lc(52," method, which takes two arguments. The first one is the "),c.Ib(53,"code"),c.lc(54,"ExecutionContext"),c.Hb(),c.lc(55," instance (exactly the same object as for "),c.Ib(56,"a",9),c.lc(57,"guards"),c.Hb(),c.lc(58,"). The "),c.Ib(59,"code"),c.lc(60,"ExecutionContext"),c.Hb(),c.lc(61," inherits from "),c.Ib(62,"code"),c.lc(63,"ArgumentsHost"),c.Hb(),c.lc(64,". We saw "),c.Ib(65,"code"),c.lc(66,"ArgumentsHost"),c.Hb(),c.lc(67," before in the exception filters chapter. There, we saw that it's a wrapper around arguments that have been passed to the original handler, and contains different arguments arrays based on the type of the application. You can refer back to the "),c.Ib(68,"a",10),c.lc(69,"exception filters"),c.Hb(),c.lc(70," for more on this topic."),c.Hb(),c.Ib(71,"h4",11),c.Ib(72,"span"),c.lc(73,"Execution context"),c.Hb(),c.Hb(),c.Ib(74,"p"),c.lc(75,"By extending "),c.Ib(76,"code"),c.lc(77,"ArgumentsHost"),c.Hb(),c.lc(78,", "),c.Ib(79,"code"),c.lc(80,"ExecutionContext"),c.Hb(),c.lc(81," also adds several new helper methods that provide additional details about the current execution process. These details can be helpful in building more generic interceptors that can work across a broad set of controllers, methods, and execution contexts. Learn more about "),c.Ib(82,"code"),c.lc(83,"ExecutionContext"),c.Hb(),c.Ib(84,"a",12),c.lc(85,"here"),c.Hb(),c.lc(86,"."),c.Hb(),c.Ib(87,"h4",13),c.Ib(88,"span"),c.lc(89,"Call handler"),c.Hb(),c.Hb(),c.Ib(90,"p"),c.lc(91,"The second argument is a "),c.Ib(92,"code"),c.lc(93,"CallHandler"),c.Hb(),c.lc(94,". The "),c.Ib(95,"code"),c.lc(96,"CallHandler"),c.Hb(),c.lc(97," interface implements the "),c.Ib(98,"code"),c.lc(99,"handle()"),c.Hb(),c.lc(100," method, which you can use to invoke the route handler method at some point in your interceptor. If you don't call the "),c.Ib(101,"code"),c.lc(102,"handle()"),c.Hb(),c.lc(103," method in your implementation of the "),c.Ib(104,"code"),c.lc(105,"intercept()"),c.Hb(),c.lc(106," method, the route handler method won't be executed at all."),c.Hb(),c.Ib(107,"p"),c.lc(108,"This approach means that the "),c.Ib(109,"code"),c.lc(110,"intercept()"),c.Hb(),c.lc(111," method effectively "),c.Ib(112,"strong"),c.lc(113,"wraps"),c.Hb(),c.lc(114," the request/response stream. As a result, you may implement custom logic "),c.Ib(115,"strong"),c.lc(116,"both before and after"),c.Hb(),c.lc(117," the execution of the final route handler. It's clear that you can write code in your "),c.Ib(118,"code"),c.lc(119,"intercept()"),c.Hb(),c.lc(120," method that executes "),c.Ib(121,"strong"),c.lc(122,"before"),c.Hb(),c.lc(123," calling "),c.Ib(124,"code"),c.lc(125,"handle()"),c.Hb(),c.lc(126,", but how do you affect what happens afterward? Because the "),c.Ib(127,"code"),c.lc(128,"handle()"),c.Hb(),c.lc(129," method returns an "),c.Ib(130,"code"),c.lc(131,"Observable"),c.Hb(),c.lc(132,", we can use powerful "),c.Ib(133,"a",14),c.lc(134,"RxJS"),c.Hb(),c.lc(135," operators to further manipulate the response. Using Aspect Oriented Programming terminology, the invocation of the route handler (i.e., calling "),c.Ib(136,"code"),c.lc(137,"handle()"),c.Hb(),c.lc(138,") is called a "),c.Ib(139,"a",15),c.lc(140,"Pointcut"),c.Hb(),c.lc(141,", indicating that it's the point at which our additional logic is inserted."),c.Hb(),c.Ib(142,"p"),c.lc(143,"Consider, for example, an incoming "),c.Ib(144,"code"),c.lc(145,"POST /cats"),c.Hb(),c.lc(146," request. This request is destined for the "),c.Ib(147,"code"),c.lc(148,"create()"),c.Hb(),c.lc(149," handler defined inside the "),c.Ib(150,"code"),c.lc(151,"CatsController"),c.Hb(),c.lc(152,". If an interceptor which does not call the "),c.Ib(153,"code"),c.lc(154,"handle()"),c.Hb(),c.lc(155," method is called anywhere along the way, the "),c.Ib(156,"code"),c.lc(157,"create()"),c.Hb(),c.lc(158," method won't be executed. Once "),c.Ib(159,"code"),c.lc(160,"handle()"),c.Hb(),c.lc(161," is called (and its "),c.Ib(162,"code"),c.lc(163,"Observable"),c.Hb(),c.lc(164," has been returned), the "),c.Ib(165,"code"),c.lc(166,"create()"),c.Hb(),c.lc(167," handler will be triggered. And once the response stream is received via the "),c.Ib(168,"code"),c.lc(169,"Observable"),c.Hb(),c.lc(170,", additional operations can be performed on the stream, and a final result returned to the caller."),c.Hb(),c.Ib(171,"p"),c.Gb(172,"app-banner-shop"),c.Hb(),c.Ib(173,"h4",16),c.Ib(174,"span"),c.lc(175,"Aspect interception"),c.Hb(),c.Hb(),c.Ib(176,"p"),c.lc(177,"The first use case we'll look at is to use an interceptor to log user interaction (e.g., storing user calls, asynchronously dispatching events or calculating a timestamp). We show a simple "),c.Ib(178,"code"),c.lc(179,"LoggingInterceptor"),c.Hb(),c.lc(180," below:"),c.Hb(),c.Ib(181,"span",17),c.lc(182),c.Ub(183,"extension"),c.Gb(184,"app-tabs",null,18),c.Hb(),c.Ib(186,"pre"),c.Ib(187,"code",19),c.lc(188,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    console.log('Before...');\n\n    const now = Date.now();\n    return next\n      .handle()\n      .pipe(\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\n      );\n  }\n}"),c.Hb(),c.Hb(),c.Ib(189,"pre"),c.Ib(190,"code",19),c.lc(191,"\nimport { Injectable } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor {\n  intercept(context, next) {\n    console.log('Before...');\n\n    const now = Date.now();\n    return next\n      .handle()\n      .pipe(\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\n      );\n  }\n}"),c.Hb(),c.Hb(),c.Ib(192,"blockquote",20),c.Ib(193,"strong"),c.lc(194,"Hint"),c.Hb(),c.lc(195," The "),c.Ib(196,"code"),c.lc(197,"NestInterceptor<T, R>"),c.Hb(),c.lc(198," is a generic interface in which "),c.Ib(199,"code"),c.lc(200,"T"),c.Hb(),c.lc(201," indicates the type of an "),c.Ib(202,"code"),c.lc(203,"Observable<T>"),c.Hb(),c.lc(204," (supporting the response stream), and "),c.Ib(205,"code"),c.lc(206,"R"),c.Hb(),c.lc(207," is the type of the value wrapped by "),c.Ib(208,"code"),c.lc(209,"Observable<R>"),c.Hb(),c.lc(210,".\n"),c.Hb(),c.Ib(211,"blockquote",21),c.Ib(212,"strong"),c.lc(213,"Notice"),c.Hb(),c.lc(214," Interceptors, like controllers, providers, guards, and so on, can "),c.Ib(215,"strong"),c.lc(216,"inject dependencies"),c.Hb(),c.lc(217," through their "),c.Ib(218,"code"),c.lc(219,"constructor"),c.Hb(),c.lc(220,".\n"),c.Hb(),c.Ib(221,"p"),c.lc(222,"Since "),c.Ib(223,"code"),c.lc(224,"handle()"),c.Hb(),c.lc(225," returns an RxJS "),c.Ib(226,"code"),c.lc(227,"Observable"),c.Hb(),c.lc(228,", we have a wide choice of operators we can use to manipulate the stream. In the example above, we used the "),c.Ib(229,"code"),c.lc(230,"tap()"),c.Hb(),c.lc(231," operator, which invokes our anonymous logging function upon graceful or exceptional termination of the observable stream, but doesn't otherwise interfere with the response cycle."),c.Hb(),c.Ib(232,"h4",22),c.Ib(233,"span"),c.lc(234,"Binding interceptors"),c.Hb(),c.Hb(),c.Ib(235,"p"),c.lc(236,"In order to set up the interceptor, we use the "),c.Ib(237,"code"),c.lc(238,"@UseInterceptors()"),c.Hb(),c.lc(239," decorator imported from the "),c.Ib(240,"code"),c.lc(241,"@nestjs/common"),c.Hb(),c.lc(242," package. Like "),c.Ib(243,"a",23),c.lc(244,"pipes"),c.Hb(),c.lc(245," and "),c.Ib(246,"a",9),c.lc(247,"guards"),c.Hb(),c.lc(248,", interceptors can be controller-scoped, method-scoped, or global-scoped."),c.Hb(),c.Ib(249,"span",17),c.lc(250),c.Ub(251,"extension"),c.Gb(252,"app-tabs",null,24),c.Hb(),c.Ib(254,"pre"),c.Ib(255,"code",19),c.lc(256,"\n@UseInterceptors(LoggingInterceptor)\nexport class CatsController {}"),c.Hb(),c.Hb(),c.Ib(257,"blockquote",20),c.Ib(258,"strong"),c.lc(259,"Hint"),c.Hb(),c.lc(260," The "),c.Ib(261,"code"),c.lc(262,"@UseInterceptors()"),c.Hb(),c.lc(263," decorator is imported from the "),c.Ib(264,"code"),c.lc(265,"@nestjs/common"),c.Hb(),c.lc(266," package.\n"),c.Hb(),c.Ib(267,"p"),c.lc(268,"Using the above construction, each route handler defined in "),c.Ib(269,"code"),c.lc(270,"CatsController"),c.Hb(),c.lc(271," will use "),c.Ib(272,"code"),c.lc(273,"LoggingInterceptor"),c.Hb(),c.lc(274,". When someone calls the "),c.Ib(275,"code"),c.lc(276,"GET /cats"),c.Hb(),c.lc(277," endpoint, you'll see the following output in your standard output:"),c.Hb(),c.Ib(278,"pre"),c.Ib(279,"code",19),c.lc(280,"\nBefore...\nAfter... 1ms"),c.Hb(),c.Hb(),c.Ib(281,"p"),c.lc(282,"Note that we passed the "),c.Ib(283,"code"),c.lc(284,"LoggingInterceptor"),c.Hb(),c.lc(285," type (instead of an instance), leaving responsibility for instantiation to the framework and enabling dependency injection. As with pipes, guards, and exception filters, we can also pass an in-place instance:"),c.Hb(),c.Ib(286,"span",17),c.lc(287),c.Ub(288,"extension"),c.Gb(289,"app-tabs",null,25),c.Hb(),c.Ib(291,"pre"),c.Ib(292,"code",19),c.lc(293,"\n@UseInterceptors(new LoggingInterceptor())\nexport class CatsController {}"),c.Hb(),c.Hb(),c.Ib(294,"p"),c.lc(295,"As mentioned, the construction above attaches the interceptor to every handler declared by this controller. If we want to restrict the interceptor's scope to a single method, we simply apply the decorator at the "),c.Ib(296,"strong"),c.lc(297,"method level"),c.Hb(),c.lc(298,"."),c.Hb(),c.Ib(299,"p"),c.lc(300,"In order to set up a global interceptor, we use the "),c.Ib(301,"code"),c.lc(302,"useGlobalInterceptors()"),c.Hb(),c.lc(303," method of the Nest application instance:"),c.Hb(),c.Ib(304,"pre"),c.Ib(305,"code",19),c.lc(306,"\nconst app = await NestFactory.create(AppModule);\napp.useGlobalInterceptors(new LoggingInterceptor());"),c.Hb(),c.Hb(),c.Ib(307,"p"),c.lc(308,"Global interceptors are used across the whole application, for every controller and every route handler. In terms of dependency injection, global interceptors registered from outside of any module (with "),c.Ib(309,"code"),c.lc(310,"useGlobalInterceptors()"),c.Hb(),c.lc(311,", as in the example above) cannot inject dependencies since this is done outside the context of any module. In order to solve this issue, you can set up an interceptor "),c.Ib(312,"strong"),c.lc(313,"directly from any module"),c.Hb(),c.lc(314," using the following construction:"),c.Hb(),c.Ib(315,"span",17),c.lc(316),c.Ub(317,"extension"),c.Gb(318,"app-tabs",null,26),c.Hb(),c.Ib(320,"pre"),c.Ib(321,"code",19),c.lc(322,"\nimport { Module } from '@nestjs/common';\nimport { APP_INTERCEPTOR } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: LoggingInterceptor,\n    },\n  ],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(323,"blockquote",20),c.Ib(324,"strong"),c.lc(325,"Hint"),c.Hb(),c.lc(326," When using this approach to perform dependency injection for the interceptor, note that regardless of the\nmodule where this construction is employed, the interceptor is, in fact, global. Where should this be done? Choose the module\nwhere the interceptor ("),c.Ib(327,"code"),c.lc(328,"LoggingInterceptor"),c.Hb(),c.lc(329," in the example above) is defined. Also, "),c.Ib(330,"code"),c.lc(331,"useClass"),c.Hb(),c.lc(332," is not the only way of dealing with custom provider registration. Learn more "),c.Ib(333,"a",27),c.lc(334,"here"),c.Hb(),c.lc(335,".\n"),c.Hb(),c.Ib(336,"h4",28),c.Ib(337,"span"),c.lc(338,"Response mapping"),c.Hb(),c.Hb(),c.Ib(339,"p"),c.lc(340,"We already know that "),c.Ib(341,"code"),c.lc(342,"handle()"),c.Hb(),c.lc(343," returns an "),c.Ib(344,"code"),c.lc(345,"Observable"),c.Hb(),c.lc(346,". The stream contains the value "),c.Ib(347,"strong"),c.lc(348,"returned"),c.Hb(),c.lc(349," from the route handler, and thus we can easily mutate it using RxJS's "),c.Ib(350,"code"),c.lc(351,"map()"),c.Hb(),c.lc(352," operator."),c.Hb(),c.Ib(353,"blockquote",21),c.Ib(354,"strong"),c.lc(355,"Warning"),c.Hb(),c.lc(356," The response mapping feature doesn't work with the library-specific response strategy (using the "),c.Ib(357,"code"),c.lc(358,"@Res()"),c.Hb(),c.lc(359," object directly is forbidden).\n"),c.Hb(),c.Ib(360,"p"),c.lc(361,"Let's create the "),c.Ib(362,"code"),c.lc(363,"TransformInterceptor"),c.Hb(),c.lc(364,", which will modify each response in a trivial way to demonstrate the process. It will use RxJS's "),c.Ib(365,"code"),c.lc(366,"map()"),c.Hb(),c.lc(367," operator to assign the response object to the "),c.Ib(368,"code"),c.lc(369,"data"),c.Hb(),c.lc(370," property of a newly created object, returning the new object to the client."),c.Hb(),c.Ib(371,"span",17),c.lc(372),c.Ub(373,"extension"),c.Gb(374,"app-tabs",null,29),c.Hb(),c.Ib(376,"pre"),c.Ib(377,"code",19),c.lc(378,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface Response<T> {\n  data: T;\n}\n\n@Injectable()\nexport class TransformInterceptor<T> implements NestInterceptor<T, Response<T>> {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<Response<T>> {\n    return next.handle().pipe(map(data => ({ data })));\n  }\n}"),c.Hb(),c.Hb(),c.Ib(379,"pre"),c.Ib(380,"code",19),c.lc(381,"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class TransformInterceptor {\n  intercept(context, next) {\n    return next.handle().pipe(map(data => ({ data })));\n  }\n}"),c.Hb(),c.Hb(),c.Ib(382,"blockquote",20),c.Ib(383,"strong"),c.lc(384,"Hint"),c.Hb(),c.lc(385," Nest interceptors work with both synchronous and asynchronous "),c.Ib(386,"code"),c.lc(387,"intercept()"),c.Hb(),c.lc(388," methods. You can simply switch the method to "),c.Ib(389,"code"),c.lc(390,"async"),c.Hb(),c.lc(391," if necessary.\n"),c.Hb(),c.Ib(392,"p"),c.lc(393,"With the above construction, when someone calls the "),c.Ib(394,"code"),c.lc(395,"GET /cats"),c.Hb(),c.lc(396," endpoint, the response would look like the following (assuming that route handler returns an empty array "),c.Ib(397,"code"),c.lc(398,"[]"),c.Hb(),c.lc(399,"):"),c.Hb(),c.Ib(400,"pre"),c.Ib(401,"code",30),c.lc(402,'\n{\n  "data": []\n}'),c.Hb(),c.Hb(),c.Ib(403,"p"),c.lc(404,"Interceptors have great value in creating re-usable solutions to requirements that occur across an entire application.\nFor example, imagine we need to transform each occurrence of a "),c.Ib(405,"code"),c.lc(406,"null"),c.Hb(),c.lc(407," value to an empty string "),c.Ib(408,"code"),c.lc(409,"''"),c.Hb(),c.lc(410,". We can do it using one line of code and bind the interceptor globally so that it will automatically be used by each registered handler."),c.Hb(),c.Ib(411,"span",17),c.Gb(412,"app-tabs",null,31),c.Hb(),c.Ib(414,"pre"),c.Ib(415,"code",19),c.lc(416,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next\n      .handle()\n      .pipe(map(value => value === null ? '' : value ));\n  }\n}"),c.Hb(),c.Hb(),c.Ib(417,"pre"),c.Ib(418,"code",19),c.lc(419,"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor {\n  intercept(context, next) {\n    return next\n      .handle()\n      .pipe(map(value => value === null ? '' : value ));\n  }\n}"),c.Hb(),c.Hb(),c.Ib(420,"h4",32),c.Ib(421,"span"),c.lc(422,"Exception mapping"),c.Hb(),c.Hb(),c.Ib(423,"p"),c.lc(424,"Another interesting use-case is to take advantage of RxJS's "),c.Ib(425,"code"),c.lc(426,"catchError()"),c.Hb(),c.lc(427," operator to override thrown exceptions:"),c.Hb(),c.Ib(428,"span",17),c.lc(429),c.Ub(430,"extension"),c.Gb(431,"app-tabs",null,33),c.Hb(),c.Ib(433,"pre"),c.Ib(434,"code",19),c.lc(435,"\nimport {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  BadGatewayException,\n  CallHandler,\n} from '@nestjs/common';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next\n      .handle()\n      .pipe(\n        catchError(err => throwError(new BadGatewayException())),\n      );\n  }\n}"),c.Hb(),c.Hb(),c.Ib(436,"pre"),c.Ib(437,"code",19),c.lc(438,"\nimport { Injectable, BadGatewayException } from '@nestjs/common';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor {\n  intercept(context, next) {\n    return next\n      .handle()\n      .pipe(\n        catchError(err => throwError(new BadGatewayException())),\n      );\n  }\n}"),c.Hb(),c.Hb(),c.Ib(439,"h4",34),c.Ib(440,"span"),c.lc(441,"Stream overriding"),c.Hb(),c.Hb(),c.Ib(442,"p"),c.lc(443,"There are several reasons why we may sometimes want to completely prevent calling the handler and return a different value instead. An obvious example is to implement a cache to improve response time. Let's take a look at a simple "),c.Ib(444,"strong"),c.lc(445,"cache interceptor"),c.Hb(),c.lc(446," that returns its response from a cache. In a realistic example, we'd want to consider other factors like TTL, cache invalidation, cache size, etc., but that's beyond the scope of this discussion. Here we'll provide a basic example that demonstrates the main concept."),c.Hb(),c.Ib(447,"span",17),c.lc(448),c.Ub(449,"extension"),c.Gb(450,"app-tabs",null,35),c.Hb(),c.Ib(452,"pre"),c.Ib(453,"code",19),c.lc(454,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable, of } from 'rxjs';\n\n@Injectable()\nexport class CacheInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return next.handle();\n  }\n}"),c.Hb(),c.Hb(),c.Ib(455,"pre"),c.Ib(456,"code",19),c.lc(457,"\nimport { Injectable } from '@nestjs/common';\nimport { of } from 'rxjs';\n\n@Injectable()\nexport class CacheInterceptor {\n  intercept(context, next) {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return next.handle();\n  }\n}"),c.Hb(),c.Hb(),c.Ib(458,"p"),c.lc(459,"Our "),c.Ib(460,"code"),c.lc(461,"CacheInterceptor"),c.Hb(),c.lc(462," has a hardcoded "),c.Ib(463,"code"),c.lc(464,"isCached"),c.Hb(),c.lc(465," variable and a hardcoded response "),c.Ib(466,"code"),c.lc(467,"[]"),c.Hb(),c.lc(468," as well. The key point to note is that we return a new stream here, created by the RxJS "),c.Ib(469,"code"),c.lc(470,"of()"),c.Hb(),c.lc(471," operator, therefore the route handler "),c.Ib(472,"strong"),c.lc(473,"won't be called"),c.Hb(),c.lc(474," at all. When someone calls an endpoint that makes use of "),c.Ib(475,"code"),c.lc(476,"CacheInterceptor"),c.Hb(),c.lc(477,", the response (a hardcoded, empty array) will be returned immediately. In order to create a generic solution, you can take advantage of "),c.Ib(478,"code"),c.lc(479,"Reflector"),c.Hb(),c.lc(480," and create a custom decorator. The "),c.Ib(481,"code"),c.lc(482,"Reflector"),c.Hb(),c.lc(483," is well described in the "),c.Ib(484,"a",9),c.lc(485,"guards"),c.Hb(),c.lc(486," chapter."),c.Hb(),c.Ib(487,"h4",36),c.Ib(488,"span"),c.lc(489,"More operators"),c.Hb(),c.Hb(),c.Ib(490,"p"),c.lc(491,"The possibility of manipulating the stream using RxJS operators gives us many capabilities. Let's consider another common use case. Imagine you would like to handle "),c.Ib(492,"strong"),c.lc(493,"timeouts"),c.Hb(),c.lc(494," on route requests. When your endpoint doesn't return anything after a period of time, you want to terminate with an error response. The following construction enables this:"),c.Hb(),c.Ib(495,"span",17),c.lc(496),c.Ub(497,"extension"),c.Gb(498,"app-tabs",null,37),c.Hb(),c.Ib(500,"pre"),c.Ib(501,"code",19),c.lc(502,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler, RequestTimeoutException } from '@nestjs/common';\nimport { Observable, throwError, TimeoutError } from 'rxjs';\nimport { catchError, timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next.handle().pipe(\n      timeout(5000),\n      catchError(err => {\n        if (err instanceof TimeoutError) {\n          return throwError(new RequestTimeoutException());\n        }\n        return throwError(err);\n      }),\n    );\n  };\n};"),c.Hb(),c.Hb(),c.Ib(503,"pre"),c.Ib(504,"code",19),c.lc(505,"\nimport { Injectable, RequestTimeoutException } from '@nestjs/common';\nimport { Observable, throwError, TimeoutError } from 'rxjs';\nimport { catchError, timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor {\n  intercept(context, next) {\n    return next.handle().pipe(\n      timeout(5000),\n      catchError(err => {\n        if (err instanceof TimeoutError) {\n          return throwError(new RequestTimeoutException());\n        }\n        return throwError(err);\n      }),\n    );\n  };\n};"),c.Hb(),c.Hb(),c.Ib(506,"p"),c.lc(507,"After 5 seconds, request processing will be canceled. You can also add custom logic before throwing "),c.Ib(508,"code"),c.lc(509,"RequestTimeoutException"),c.Hb(),c.lc(510," (e.g. release resources)."),c.Hb(),c.Hb()),2&e){var n=c.dc(185),r=c.dc(253),i=c.dc(290),o=c.dc(319),a=c.dc(375),s=c.dc(413),l=c.dc(432),u=c.dc(451),h=c.dc(499);c.vb(182),c.nc(" ",c.Vb(183,32,"logging.interceptor",n.isJsActive),"\n"),c.vb(4),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(61),c.nc(" ",c.Vb(251,35,"cats.controller",r.isJsActive),"\n"),c.vb(37),c.nc(" ",c.Vb(288,38,"cats.controller",i.isJsActive),"\n"),c.vb(29),c.nc(" ",c.Vb(317,41,"app.module",o.isJsActive),"\n"),c.vb(56),c.nc(" ",c.Vb(373,44,"transform.interceptor",a.isJsActive),"\n"),c.vb(4),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive),c.vb(35),c.xb("hide",s.isJsActive),c.vb(3),c.xb("hide",!s.isJsActive),c.vb(12),c.nc(" ",c.Vb(430,47,"errors.interceptor",l.isJsActive),"\n"),c.vb(4),c.xb("hide",l.isJsActive),c.vb(3),c.xb("hide",!l.isJsActive),c.vb(12),c.nc(" ",c.Vb(449,50,"cache.interceptor",u.isJsActive),"\n"),c.vb(4),c.xb("hide",u.isJsActive),c.vb(3),c.xb("hide",!u.isJsActive),c.vb(41),c.nc(" ",c.Vb(497,53,"timeout.interceptor",h.isJsActive),"\n"),c.vb(4),c.xb("hide",h.isJsActive),c.vb(3),c.xb("hide",!h.isJsActive)}},directives:[Ei.a,Hr.f,qi.a,Ai.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),hi),to=c.Kb(eo),no=((di=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return ro(e||di)},di.\u0275cmp=c.zb({type:di,selectors:[["app-introduction"]],features:[c.tb],decls:93,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/introduction.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","introduction"],["rel","nofollow","target","_blank","href","https://nodejs.org/"],["rel","nofollow","target","_blank","href","http://www.typescriptlang.org/"],["rel","nofollow","target","_blank","href","https://expressjs.com/"],["rel","nofollow","target","_blank","href","https://github.com/fastify/fastify"],["appAnchor","","id","philosophy"],["rel","nofollow","target","_blank","href","https://angular.io/"],["rel","nofollow","target","_blank","href","https://github.com/facebook/react"],["rel","nofollow","target","_blank","href","https://github.com/vuejs/vue"],["appAnchor","","id","installation"],["routerLink","/cli/overview"],["routerLink","first-steps"],[1,"language-bash"],["rel","nofollow","target","_blank","href","http://localhost:3000/"]],template:function(e,t){1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Introduction"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Nest (NestJS) is a framework for building efficient, scalable "),c.Ib(9,"a",6),c.lc(10,"Node.js"),c.Hb(),c.lc(11," server-side applications. It uses progressive JavaScript, is built with and fully supports "),c.Ib(12,"a",7),c.lc(13,"TypeScript"),c.Hb(),c.lc(14," (yet still enables developers to code in pure JavaScript) and combines elements of OOP (Object Oriented Programming), FP (Functional Programming), and FRP (Functional Reactive Programming)."),c.Hb(),c.Ib(15,"p"),c.lc(16,"Under the hood, Nest makes use of robust HTTP Server frameworks like "),c.Ib(17,"a",8),c.lc(18,"Express"),c.Hb(),c.lc(19," (the default) and optionally can be configured to use "),c.Ib(20,"a",9),c.lc(21,"Fastify"),c.Hb(),c.lc(22," as well!"),c.Hb(),c.Ib(23,"p"),c.lc(24,"Nest provides a level of abstraction above these common Node.js frameworks (Express/Fastify), but also exposes their APIs directly to the developer. This gives developers the freedom to use the myriad of third-party modules which are available for the underlying platform."),c.Hb(),c.Ib(25,"h4",10),c.Ib(26,"span"),c.lc(27,"Philosophy"),c.Hb(),c.Hb(),c.Ib(28,"p"),c.lc(29,"In recent years, thanks to Node.js, JavaScript has become the \u201clingua franca\u201d of the web for both front and backend applications. This has given rise to awesome projects like "),c.Ib(30,"a",11),c.lc(31,"Angular"),c.Hb(),c.lc(32,", "),c.Ib(33,"a",12),c.lc(34,"React"),c.Hb(),c.lc(35," and "),c.Ib(36,"a",13),c.lc(37,"Vue"),c.Hb(),c.lc(38,", which improve developer productivity and enable the creation of fast, testable, and extensible frontend applications. However, while plenty of superb libraries, helpers, and tools exist for Node (and server-side JavaScript), none of them effectively solve the main problem of - "),c.Ib(39,"strong"),c.lc(40,"Architecture"),c.Hb(),c.lc(41,"."),c.Hb(),c.Ib(42,"p"),c.lc(43,"Nest provides an out-of-the-box application architecture which allows developers and teams to create highly testable, scalable, loosely coupled, and easily maintainable applications. The architecture is heavily inspired by Angular."),c.Hb(),c.Ib(44,"h4",14),c.Ib(45,"span"),c.lc(46,"Installation"),c.Hb(),c.Hb(),c.Ib(47,"p"),c.lc(48,"To get started, you can either scaffold the project with the "),c.Ib(49,"a",15),c.lc(50,"Nest CLI"),c.Hb(),c.lc(51,", or clone a starter project (both will produce the same outcome)."),c.Hb(),c.Ib(52,"p"),c.lc(53,"To scaffold the project with the Nest CLI, run the following commands. This will create a new project directory, and populate the directory with the initial core Nest files and supporting modules, creating a conventional base structure for your project. Creating a new project with the "),c.Ib(54,"strong"),c.lc(55,"Nest CLI"),c.Hb(),c.lc(56," is recommended for first-time users. We'll continue with this approach in "),c.Ib(57,"a",16),c.lc(58,"First Steps"),c.Hb(),c.lc(59,"."),c.Hb(),c.Ib(60,"pre"),c.Ib(61,"code",17),c.lc(62,"\n$ npm i -g @nestjs/cli\n$ nest new project-name"),c.Hb(),c.Hb(),c.Ib(63,"p"),c.lc(64,"Alternatively, to install the TypeScript starter project with "),c.Ib(65,"strong"),c.lc(66,"Git"),c.Hb(),c.lc(67,":"),c.Hb(),c.Ib(68,"pre"),c.Ib(69,"code",17),c.lc(70,"\n$ git clone https://github.com/nestjs/typescript-starter.git project\n$ cd project\n$ npm install\n$ npm run start"),c.Hb(),c.Hb(),c.Ib(71,"p"),c.lc(72,"Open your browser and navigate to "),c.Ib(73,"a",18),c.Ib(74,"code"),c.lc(75,"http://localhost:3000/"),c.Hb(),c.Hb(),c.lc(76,"."),c.Hb(),c.Ib(77,"p"),c.lc(78,"To install the JavaScript flavor of the starter project, use "),c.Ib(79,"code"),c.lc(80,"javascript-starter.git"),c.Hb(),c.lc(81," in the command sequence above."),c.Hb(),c.Ib(82,"p"),c.lc(83,"You can also manually create a new project from scratch by installing the core and supporting files with "),c.Ib(84,"strong"),c.lc(85,"npm"),c.Hb(),c.lc(86," (or "),c.Ib(87,"strong"),c.lc(88,"yarn"),c.Hb(),c.lc(89,"). In this case, of course, you'll be responsible for creating the project boilerplate files yourself."),c.Hb(),c.Ib(90,"pre"),c.Ib(91,"code",17),c.lc(92,"\n$ npm i --save @nestjs/core @nestjs/common rxjs reflect-metadata"),c.Hb(),c.Hb(),c.Hb())},directives:[Ei.a,Hr.f],encapsulation:2,changeDetection:0}),di),ro=c.Kb(no),io=((pi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return oo(e||pi)},pi.\u0275cmp=c.zb({type:pi,selectors:[["app-middlewares"]],features:[c.tb],decls:373,vars:40,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/middlewares.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","middleware"],["rel","nofollow","target","_blank","href","http://expressjs.com/en/4x/api.html#req"],["rel","nofollow","target","_blank","href","http://expressjs.com/en/4x/api.html#res"],["src","/assets/Middlewares_1.png"],["rel","nofollow","target","_blank","href","http://expressjs.com/en/guide/using-middleware.html"],[1,"external"],[1,"filename"],["app24c69abc3f79dbb029b46b6cbaf7e934eda6a67b",""],[1,"language-typescript"],["appAnchor","","id","dependency-injection"],["appAnchor","","id","applying-middleware"],["app029862544f7976411d4e604981dbddc0f01a5899",""],["app3377a51a59a1d0aaa908da83bbbfdfd304097efa",""],[1,"info"],["appAnchor","","id","route-wildcards"],[1,"warning"],["appAnchor","","id","middleware-consumer"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Fluent_interface"],["app2797072bd0e743e192fec2d209acea0782798d07",""],["href","/middleware#multiple-middleware"],["appAnchor","","id","excluding-routes"],["rel","nofollow","target","_blank","href","https://github.com/pillarjs/path-to-regexp#parameters"],["appAnchor","","id","functional-middleware"],["app15a7741009b255661665c816b24e72c07d4509fc",""],["app6d7f298b030c6e6d0f84474c0f27183bed887d2c",""],["appAnchor","","id","multiple-middleware"],["appAnchor","","id","global-middleware"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Middleware"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Middleware is a function which is called "),c.Ib(9,"strong"),c.lc(10,"before"),c.Hb(),c.lc(11," the route handler. Middleware functions have access to the "),c.Ib(12,"a",6),c.lc(13,"request"),c.Hb(),c.lc(14," and "),c.Ib(15,"a",7),c.lc(16,"response"),c.Hb(),c.lc(17," objects, and the "),c.Ib(18,"code"),c.lc(19,"next()"),c.Hb(),c.lc(20," middleware function in the application\u2019s request-response cycle. The "),c.Ib(21,"strong"),c.lc(22,"next"),c.Hb(),c.lc(23," middleware function is commonly denoted by a variable named "),c.Ib(24,"code"),c.lc(25,"next"),c.Hb(),c.lc(26,"."),c.Hb(),c.Ib(27,"figure"),c.Gb(28,"img",8),c.Hb(),c.Ib(29,"p"),c.lc(30,"Nest middleware are, by default, equivalent to "),c.Ib(31,"a",9),c.lc(32,"express"),c.Hb(),c.lc(33," middleware. The following description from the official express documentation describes the capabilities of middleware:"),c.Hb(),c.Ib(34,"blockquote",10),c.lc(35," Middleware functions can perform the following tasks: "),c.Ib(36,"ul"),c.Ib(37,"li"),c.lc(38,"execute any code."),c.Hb(),c.Ib(39,"li"),c.lc(40,"make changes to the request and the response objects."),c.Hb(),c.Ib(41,"li"),c.lc(42,"end the request-response cycle."),c.Hb(),c.Ib(43,"li"),c.lc(44,"call the next middleware function in the stack."),c.Hb(),c.Ib(45,"li"),c.lc(46,"if the current middleware function does not end the request-response cycle, it must call "),c.Ib(47,"code"),c.lc(48,"next()"),c.Hb(),c.lc(49," to pass control to the next middleware function. Otherwise, the request will be left hanging."),c.Hb(),c.Hb(),c.Hb(),c.Ib(50,"p"),c.lc(51,"You implement custom Nest middleware in either a function, or in a class with an "),c.Ib(52,"code"),c.lc(53,"@Injectable()"),c.Hb(),c.lc(54," decorator. The class should implement the "),c.Ib(55,"code"),c.lc(56,"NestMiddleware"),c.Hb(),c.lc(57," interface, while the function does not have any special requirements. Let's start by implementing a simple middleware feature using the class method."),c.Hb(),c.Ib(58,"span",11),c.lc(59),c.Ub(60,"extension"),c.Gb(61,"app-tabs",null,12),c.Hb(),c.Ib(63,"pre"),c.Ib(64,"code",13),c.lc(65,"\nimport { Injectable, NestMiddleware } from '@nestjs/common';\nimport { Request, Response } from 'express';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  use(req: Request, res: Response, next: Function) {\n    console.log('Request...');\n    next();\n  }\n}"),c.Hb(),c.Hb(),c.Ib(66,"pre"),c.Ib(67,"code",13),c.lc(68,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware {\n  use(req, res, next) {\n    console.log('Request...');\n    next();\n  }\n}"),c.Hb(),c.Hb(),c.Ib(69,"h4",14),c.Ib(70,"span"),c.lc(71,"Dependency injection"),c.Hb(),c.Hb(),c.Ib(72,"p"),c.lc(73,"Nest middleware fully supports Dependency Injection. Just as with providers and controllers, they are able to "),c.Ib(74,"strong"),c.lc(75,"inject dependencies"),c.Hb(),c.lc(76," that are available within the same module. As usual, this is done through the "),c.Ib(77,"code"),c.lc(78,"constructor"),c.Hb(),c.lc(79,"."),c.Hb(),c.Ib(80,"h4",15),c.Ib(81,"span"),c.lc(82,"Applying middleware"),c.Hb(),c.Hb(),c.Ib(83,"p"),c.lc(84,"There is no place for middleware in the "),c.Ib(85,"code"),c.lc(86,"@Module()"),c.Hb(),c.lc(87," decorator. Instead, we set them up using the "),c.Ib(88,"code"),c.lc(89,"configure()"),c.Hb(),c.lc(90," method of the module class. Modules that include middleware have to implement the "),c.Ib(91,"code"),c.lc(92,"NestModule"),c.Hb(),c.lc(93," interface. Let's set up the "),c.Ib(94,"code"),c.lc(95,"LoggerMiddleware"),c.Hb(),c.lc(96," at the "),c.Ib(97,"code"),c.lc(98,"AppModule"),c.Hb(),c.lc(99," level."),c.Hb(),c.Ib(100,"span",11),c.lc(101),c.Ub(102,"extension"),c.Gb(103,"app-tabs",null,16),c.Hb(),c.Ib(105,"pre"),c.Ib(106,"code",13),c.lc(107,"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}"),c.Hb(),c.Hb(),c.Ib(108,"pre"),c.Ib(109,"code",13),c.lc(110,"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}"),c.Hb(),c.Hb(),c.Ib(111,"p"),c.lc(112,"In the above example we have set up the "),c.Ib(113,"code"),c.lc(114,"LoggerMiddleware"),c.Hb(),c.lc(115," for the "),c.Ib(116,"code"),c.lc(117,"/cats"),c.Hb(),c.lc(118," route handlers that were previously defined inside the "),c.Ib(119,"code"),c.lc(120,"CatsController"),c.Hb(),c.lc(121,". We may also further restrict a middleware to a particular request method by passing an object containing the route "),c.Ib(122,"code"),c.lc(123,"path"),c.Hb(),c.lc(124," and request "),c.Ib(125,"code"),c.lc(126,"method"),c.Hb(),c.lc(127," to the "),c.Ib(128,"code"),c.lc(129,"forRoutes()"),c.Hb(),c.lc(130," method when configuring the middleware. In the example below, notice that we import the "),c.Ib(131,"code"),c.lc(132,"RequestMethod"),c.Hb(),c.lc(133," enum to reference the desired request method type."),c.Hb(),c.Ib(134,"span",11),c.lc(135),c.Ub(136,"extension"),c.Gb(137,"app-tabs",null,17),c.Hb(),c.Ib(139,"pre"),c.Ib(140,"code",13),c.lc(141,"\nimport { Module, NestModule, RequestMethod, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}"),c.Hb(),c.Hb(),c.Ib(142,"pre"),c.Ib(143,"code",13),c.lc(144,"\nimport { Module, RequestMethod } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}"),c.Hb(),c.Hb(),c.Ib(145,"blockquote",18),c.Ib(146,"strong"),c.lc(147,"Hint"),c.Hb(),c.lc(148," The "),c.Ib(149,"code"),c.lc(150,"configure()"),c.Hb(),c.lc(151," method can be made asynchronous using "),c.Ib(152,"code"),c.lc(153,"async/await"),c.Hb(),c.lc(154," (e.g., you can "),c.Ib(155,"code"),c.lc(156,"await"),c.Hb(),c.lc(157," completion of an asynchronous operation inside the "),c.Ib(158,"code"),c.lc(159,"configure()"),c.Hb(),c.lc(160," method body).\n"),c.Hb(),c.Ib(161,"h4",19),c.Ib(162,"span"),c.lc(163,"Route wildcards"),c.Hb(),c.Hb(),c.Ib(164,"p"),c.lc(165,"Pattern based routes are supported as well. For instance, the asterisk is used as a "),c.Ib(166,"strong"),c.lc(167,"wildcard"),c.Hb(),c.lc(168,", and will match any combination of characters:"),c.Hb(),c.Ib(169,"pre"),c.Ib(170,"code",13),c.lc(171,"\nforRoutes({ path: 'ab*cd', method: RequestMethod.ALL });"),c.Hb(),c.Hb(),c.Ib(172,"p"),c.lc(173,"The "),c.Ib(174,"code"),c.lc(175,"'ab*cd'"),c.Hb(),c.lc(176," route path will match "),c.Ib(177,"code"),c.lc(178,"abcd"),c.Hb(),c.lc(179,", "),c.Ib(180,"code"),c.lc(181,"ab_cd"),c.Hb(),c.lc(182,", "),c.Ib(183,"code"),c.lc(184,"abecd"),c.Hb(),c.lc(185,", and so on. The characters "),c.Ib(186,"code"),c.lc(187,"?"),c.Hb(),c.lc(188,", "),c.Ib(189,"code"),c.lc(190,"+"),c.Hb(),c.lc(191,", "),c.Ib(192,"code"),c.lc(193,"*"),c.Hb(),c.lc(194,", and "),c.Ib(195,"code"),c.lc(196,"()"),c.Hb(),c.lc(197," may be used in a route path, and are subsets of their regular expression counterparts. The hyphen ( "),c.Ib(198,"code"),c.lc(199,"-"),c.Hb(),c.lc(200,") and the dot ("),c.Ib(201,"code"),c.lc(202,"."),c.Hb(),c.lc(203,") are interpreted literally by string-based paths."),c.Hb(),c.Ib(204,"blockquote",20),c.Ib(205,"strong"),c.lc(206,"Warning"),c.Hb(),c.lc(207," The "),c.Ib(208,"code"),c.lc(209,"fastify"),c.Hb(),c.lc(210," package uses the latest version of the "),c.Ib(211,"code"),c.lc(212,"path-to-regexp"),c.Hb(),c.lc(213," package, which no longer supports wildcard asterisks "),c.Ib(214,"code"),c.lc(215,"*"),c.Hb(),c.lc(216,". Instead, you must use parameters (e.g., "),c.Ib(217,"code"),c.lc(218,"(.*)"),c.Hb(),c.lc(219,", "),c.Ib(220,"code"),c.lc(221,":splat*"),c.Hb(),c.lc(222,").\n"),c.Hb(),c.Ib(223,"h4",21),c.Ib(224,"span"),c.lc(225,"Middleware consumer"),c.Hb(),c.Hb(),c.Ib(226,"p"),c.lc(227,"The "),c.Ib(228,"code"),c.lc(229,"MiddlewareConsumer"),c.Hb(),c.lc(230," is a helper class. It provides several built-in methods to manage middleware. All of them can be simply "),c.Ib(231,"strong"),c.lc(232,"chained"),c.Hb(),c.lc(233," in the "),c.Ib(234,"a",22),c.lc(235,"fluent style"),c.Hb(),c.lc(236,". The "),c.Ib(237,"code"),c.lc(238,"forRoutes()"),c.Hb(),c.lc(239," method can take a single string, multiple strings, a "),c.Ib(240,"code"),c.lc(241,"RouteInfo"),c.Hb(),c.lc(242," object, a controller class and even multiple controller classes. In most cases you'll probably just pass a list of "),c.Ib(243,"strong"),c.lc(244,"controllers"),c.Hb(),c.lc(245," separated by commas. Below is an example with a single controller:"),c.Hb(),c.Ib(246,"span",11),c.lc(247),c.Ub(248,"extension"),c.Gb(249,"app-tabs",null,23),c.Hb(),c.Ib(251,"pre"),c.Ib(252,"code",13),c.lc(253,"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller.ts';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(254,"pre"),c.Ib(255,"code",13),c.lc(256,"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller.ts';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(257,"blockquote",18),c.Ib(258,"strong"),c.lc(259,"Hint"),c.Hb(),c.lc(260," The "),c.Ib(261,"code"),c.lc(262,"apply()"),c.Hb(),c.lc(263," method may either take a single middleware, or multiple arguments to specify "),c.Ib(264,"a",24),c.lc(265,"multiple middlewares"),c.Hb(),c.lc(266,".\n"),c.Hb(),c.Ib(267,"h4",25),c.Ib(268,"span"),c.lc(269,"Excluding routes"),c.Hb(),c.Hb(),c.Ib(270,"p"),c.lc(271,"At times we want to "),c.Ib(272,"strong"),c.lc(273,"exclude"),c.Hb(),c.lc(274," certain routes from having the middleware applied. We can easily exclude certain routes with the "),c.Ib(275,"code"),c.lc(276,"exclude()"),c.Hb(),c.lc(277," method. This method can take a single string, multiple strings, or a "),c.Ib(278,"code"),c.lc(279,"RouteInfo"),c.Hb(),c.lc(280," object identifying routes to be excluded, as shown below:"),c.Hb(),c.Ib(281,"pre"),c.Ib(282,"code",13),c.lc(283,"\nconsumer\n  .apply(LoggerMiddleware)\n  .exclude(\n    { path: 'cats', method: RequestMethod.GET },\n    { path: 'cats', method: RequestMethod.POST },\n    'cats/(.*)',\n  )\n  .forRoutes(CatsController);"),c.Hb(),c.Hb(),c.Ib(284,"blockquote",18),c.Ib(285,"strong"),c.lc(286,"Hint"),c.Hb(),c.lc(287," The "),c.Ib(288,"code"),c.lc(289,"exclude()"),c.Hb(),c.lc(290," method supports wildcard parameters using the "),c.Ib(291,"a",26),c.lc(292,"path-to-regexp"),c.Hb(),c.lc(293," package.\n"),c.Hb(),c.Ib(294,"p"),c.lc(295,"With the example above, "),c.Ib(296,"code"),c.lc(297,"LoggerMiddleware"),c.Hb(),c.lc(298," will be bound to all routes defined inside "),c.Ib(299,"code"),c.lc(300,"CatsController"),c.Hb(),c.Ib(301,"strong"),c.lc(302,"except"),c.Hb(),c.lc(303," the three passed to the "),c.Ib(304,"code"),c.lc(305,"exclude()"),c.Hb(),c.lc(306," method."),c.Hb(),c.Ib(307,"p"),c.Gb(308,"app-banner-shop"),c.Hb(),c.Ib(309,"h4",27),c.Ib(310,"span"),c.lc(311,"Functional middleware"),c.Hb(),c.Hb(),c.Ib(312,"p"),c.lc(313,"The "),c.Ib(314,"code"),c.lc(315,"LoggerMiddleware"),c.Hb(),c.lc(316," class we've been using is quite simple. It has no members, no additional methods, and no dependencies. Why can't we just define it in a simple function instead of a class? In fact, we can. This type of middleware is called "),c.Ib(317,"strong"),c.lc(318,"functional middleware"),c.Hb(),c.lc(319,". Let's transform the logger middleware from class-based into functional middleware to illustrate the difference:"),c.Hb(),c.Ib(320,"span",11),c.lc(321),c.Ub(322,"extension"),c.Gb(323,"app-tabs",null,28),c.Hb(),c.Ib(325,"pre"),c.Ib(326,"code",13),c.lc(327,"\nimport { Request, Response } from 'express';\n\nexport function logger(req: Request, res: Response, next: Function) {\n  console.log(`Request...`);\n  next();\n};"),c.Hb(),c.Hb(),c.Ib(328,"p"),c.lc(329,"And use it within the "),c.Ib(330,"code"),c.lc(331,"AppModule"),c.Hb(),c.lc(332,":"),c.Hb(),c.Ib(333,"span",11),c.lc(334),c.Ub(335,"extension"),c.Gb(336,"app-tabs",null,29),c.Hb(),c.Ib(338,"pre"),c.Ib(339,"code",13),c.lc(340,"\nconsumer\n  .apply(logger)\n  .forRoutes(CatsController);"),c.Hb(),c.Hb(),c.Ib(341,"blockquote",18),c.Ib(342,"strong"),c.lc(343,"Hint"),c.Hb(),c.lc(344," Consider using the simpler "),c.Ib(345,"strong"),c.lc(346,"functional middleware"),c.Hb(),c.lc(347," alternative any time your middleware doesn't need any dependencies.\n"),c.Hb(),c.Ib(348,"h4",30),c.Ib(349,"span"),c.lc(350,"Multiple middleware"),c.Hb(),c.Hb(),c.Ib(351,"p"),c.lc(352,"As mentioned above, in order to bind multiple middleware that are executed sequentially, simply provide a comma separated list inside the "),c.Ib(353,"code"),c.lc(354,"apply()"),c.Hb(),c.lc(355," method:"),c.Hb(),c.Ib(356,"pre"),c.Ib(357,"code",13),c.lc(358,"\nconsumer.apply(cors(), helmet(), logger).forRoutes(CatsController);"),c.Hb(),c.Hb(),c.Ib(359,"h4",31),c.Ib(360,"span"),c.lc(361,"Global middleware"),c.Hb(),c.Hb(),c.Ib(362,"p"),c.lc(363,"If we want to bind middleware to every registered route at once, we can use the "),c.Ib(364,"code"),c.lc(365,"use()"),c.Hb(),c.lc(366," method that is supplied by the "),c.Ib(367,"code"),c.lc(368,"INestApplication"),c.Hb(),c.lc(369," instance:"),c.Hb(),c.Ib(370,"pre"),c.Ib(371,"code",13),c.lc(372,"\nconst app = await NestFactory.create(AppModule);\napp.use(logger);\nawait app.listen(3000);"),c.Hb(),c.Hb(),c.Hb()),2&e){var n=c.dc(62),r=c.dc(104),i=c.dc(138),o=c.dc(250),a=c.dc(324),s=c.dc(337);c.vb(59),c.nc(" ",c.Vb(60,22,"logger.middleware",n.isJsActive),"\n"),c.vb(4),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(35),c.nc(" ",c.Vb(102,25,"app.module",r.isJsActive),"\n"),c.vb(4),c.xb("hide",r.isJsActive),c.vb(3),c.xb("hide",!r.isJsActive),c.vb(27),c.nc(" ",c.Vb(136,28,"app.module",i.isJsActive),"\n"),c.vb(4),c.xb("hide",i.isJsActive),c.vb(3),c.xb("hide",!i.isJsActive),c.vb(105),c.nc(" ",c.Vb(248,31,"app.module",o.isJsActive),"\n"),c.vb(4),c.xb("hide",o.isJsActive),c.vb(3),c.xb("hide",!o.isJsActive),c.vb(67),c.nc(" ",c.Vb(322,34,"logger.middleware",a.isJsActive),"\n"),c.vb(13),c.nc(" ",c.Vb(335,37,"app.module",s.isJsActive),"\n")}},directives:[Ai.a,Ei.a,qi.a],pipes:[Ri.a],encapsulation:2}),pi),oo=c.Kb(io),ao=((bi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return so(e||bi)},bi.\u0275cmp=c.zb({type:bi,selectors:[["app-migration"]],features:[c.tb],decls:328,vars:16,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/migration.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","migration-guide"],["appAnchor","","id","custom-route-decorators"],["routerLink","/custom-decorators"],["routerLink","/fundamentals/execution-context"],[1,"filename"],["appe044f3564cacb85dd0f75b0678dccebd422728c6",""],[1,"language-typescript"],["appAnchor","","id","microservices"],["appb4cec6ba9b12af2f155364b31f7fac9cfda9632f",""],[1,"info"],["appAnchor","","id","graphql"],["appAnchor","","id","terminus"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/terminus/issues/340"],["app3bf37f68146b3e4ff9febf8b3bc6a02d80577225",""],[1,"warning"],["href","faq#global-prefix"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/issues/963"],["href","fundamentals/lifecycle-events#application-shutdown"],["app7daf57b946d1cb22235b57464c11f099bd703113",""],[1,"language-bash"],["appAnchor","","id","http-exceptions-body"],["appAnchor","","id","validation-errors-schema"],["appAnchor","","id","implicit-type-conversion-validationpipe"],["appAnchor","","id","microservice-channels-bidirectional-communication"],["appAnchor","","id","deprecations"],["appAnchor","","id","nodejs"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Migration guide"),c.Hb(),c.Ib(7,"p"),c.lc(8,"This article provides a set of guidelines for migrating from Nest version 6 to version 7."),c.Hb(),c.Ib(9,"h4",6),c.Ib(10,"span"),c.lc(11,"Custom route decorators"),c.Hb(),c.Hb(),c.Ib(12,"p"),c.lc(13,"The "),c.Ib(14,"a",7),c.lc(15,"Custom decorators"),c.Hb(),c.lc(16," API has been unified for all types of applications. Now, whether you're creating a GraphQL application or a REST API, the factory passed into the "),c.Ib(17,"code"),c.lc(18,"createParamDecorator()"),c.Hb(),c.lc(19," function will take the "),c.Ib(20,"code"),c.lc(21,"ExecutionContext"),c.Hb(),c.lc(22," (read more "),c.Ib(23,"a",8),c.lc(24,"here"),c.Hb(),c.lc(25,") object as a second argument."),c.Hb(),c.Ib(26,"span",9),c.Gb(27,"app-tabs",null,10),c.Hb(),c.Ib(29,"pre"),c.Ib(30,"code",11),c.lc(31,"\n// Before\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, req) => {\n  return req.user;\n});\n\n// After\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.user;\n  },\n);"),c.Hb(),c.Hb(),c.Ib(32,"pre"),c.Ib(33,"code",11),c.lc(34,"\n// Before\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, req) => {\n  return req.user;\n});\n\n// After\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, ctx) => {\n  const request = ctx.switchToHttp().getRequest();\n  return request.user;\n});"),c.Hb(),c.Hb(),c.Ib(35,"h4",12),c.Ib(36,"span"),c.lc(37,"Microservices"),c.Hb(),c.Hb(),c.Ib(38,"p"),c.lc(39,"To avoid code duplication, the "),c.Ib(40,"code"),c.lc(41,"MicroserviceOptions"),c.Hb(),c.lc(42," interface has been removed from the "),c.Ib(43,"code"),c.lc(44,"@nestjs/common"),c.Hb(),c.lc(45," package. Therefore, now when you're creating a microservice (through either "),c.Ib(46,"code"),c.lc(47,"createMicroservice()"),c.Hb(),c.lc(48," or "),c.Ib(49,"code"),c.lc(50,"connectMicroservice()"),c.Hb(),c.lc(51," method), you should pass the type generic parameter to get code autocompletion."),c.Hb(),c.Ib(52,"span",9),c.Gb(53,"app-tabs",null,13),c.Hb(),c.Ib(55,"pre"),c.Ib(56,"code",11),c.lc(57,"\n// Before\nconst app = await NestFactory.createMicroservice(AppModule);\n\n// After\nconst app = await NestFactory.createMicroservice<MicroserviceOptions>(AppModule);"),c.Hb(),c.Hb(),c.Ib(58,"pre"),c.Ib(59,"code",11),c.lc(60,"\n// Before\nconst app = await NestFactory.createMicroservice(AppModule);\n\n// After\nconst app = await NestFactory.createMicroservice(AppModule);"),c.Hb(),c.Hb(),c.Ib(61,"blockquote",14),c.Ib(62,"strong"),c.lc(63,"Hint"),c.Hb(),c.lc(64," The "),c.Ib(65,"code"),c.lc(66,"MicroserviceOptions"),c.Hb(),c.lc(67," interface is exported from the "),c.Ib(68,"code"),c.lc(69,"@nestjs/microservices"),c.Hb(),c.lc(70," package.\n"),c.Hb(),c.Ib(71,"h4",15),c.Ib(72,"span"),c.lc(73,"GraphQL"),c.Hb(),c.Hb(),c.Ib(74,"p"),c.lc(75,"In the version 6 major release of NestJS, we introduced the code-first approach as a compatibility layer between the "),c.Ib(76,"code"),c.lc(77,"type-graphql"),c.Hb(),c.lc(78," package and the "),c.Ib(79,"code"),c.lc(80,"@nestjs/graphql"),c.Hb(),c.lc(81," module. Eventually, our team decided to reimplement all the features from scratch due to a lack of flexibility. To avoid numerous breaking changes, the public API is backward-compatible and may resemble "),c.Ib(82,"code"),c.lc(83,"type-graphql"),c.Hb(),c.lc(84,"."),c.Hb(),c.Ib(85,"p"),c.lc(86,"In order to migrate your existing application, simply rename all the "),c.Ib(87,"code"),c.lc(88,"type-graphql"),c.Hb(),c.lc(89," imports to the "),c.Ib(90,"code"),c.lc(91,"@nestjs/graphql"),c.Hb(),c.lc(92,". If you used more advanced features, you might need to also:"),c.Hb(),c.Ib(93,"ul"),c.Ib(94,"li"),c.lc(95,"use "),c.Ib(96,"code"),c.lc(97,"Type"),c.Hb(),c.lc(98," (imported from "),c.Ib(99,"code"),c.lc(100,"@nestjs/common"),c.Hb(),c.lc(101,") instead of "),c.Ib(102,"code"),c.lc(103,"ClassType"),c.Hb(),c.lc(104," (imported from "),c.Ib(105,"code"),c.lc(106,"type-graphql"),c.Hb(),c.lc(107,")"),c.Hb(),c.Ib(108,"li"),c.lc(109,"move methods that require "),c.Ib(110,"code"),c.lc(111,"@Args()"),c.Hb(),c.lc(112," from object types (classes annotated with "),c.Ib(113,"code"),c.lc(114,"@ObjectType()"),c.Hb(),c.lc(115," decorator) under resolver classes (and use "),c.Ib(116,"code"),c.lc(117,"@ResolveField()"),c.Hb(),c.lc(118," decorator instead of "),c.Ib(119,"code"),c.lc(120,"@Field()"),c.Hb(),c.lc(121,")"),c.Hb(),c.Hb(),c.Ib(122,"h4",16),c.Ib(123,"span"),c.lc(124,"Terminus"),c.Hb(),c.Hb(),c.Ib(125,"p"),c.lc(126,"In the version 7 major release of "),c.Ib(127,"code"),c.lc(128,"@nestjs/terminus"),c.Hb(),c.lc(129,", a new simplified API has been introduced\nto run health checks. The previously required peer dependency "),c.Ib(130,"code"),c.lc(131,"@godaddy/terminus"),c.Hb(),c.lc(132," has been removed, which allows us to integrate our health checks automatically into Swagger! Read more about the removal of "),c.Ib(133,"code"),c.lc(134,"@godaddy/terminus"),c.Hb(),c.Ib(135,"a",17),c.lc(136,"here"),c.Hb(),c.lc(137,"."),c.Hb(),c.Ib(138,"p"),c.lc(139,"For most users, the biggest change will be the removal of the "),c.Ib(140,"code"),c.lc(141,"TerminusModule.forRootAsync"),c.Hb(),c.lc(142," function. With the next major version, this function will be completely removed.\nTo migrate to the new API, you will need to create a new controller, which will handle your health checks."),c.Hb(),c.Ib(143,"span",9),c.Gb(144,"app-tabs",null,18),c.Hb(),c.Ib(146,"pre"),c.Ib(147,"code",11),c.lc(148,"\n// Before\n@Injectable()\nexport class TerminusOptionsService implements TerminusOptionsFactory {\n  constructor(\n    private dns: DNSHealthIndicator,\n  ) {}\n\n  createTerminusOptions(): TerminusModuleOptions {\n    const healthEndpoint: TerminusEndpoint = {\n      url: '/health',\n      healthIndicators: [\n        async () => this.dns.pingCheck('google', 'https://google.com'),\n      ],\n    };\n    return {\n      endpoints: [healthEndpoint],\n    };\n  }\n}\n\n@Module({\n  imports: [\n    TerminusModule.forRootAsync({\n      useClass: TerminusOptionsService\n    })\n  ]\n})\nexport class AppModule { }\n\n// After\n@Controller('health')\nexport class HealthController {\n  constructor(\n    private health: HealthCheckService,\n    private dns: DNSHealthIndicator,\n  ) { }\n\n  @Get()\n  @HealthCheck()\n  healthCheck() {\n    return this.health.check([\n      async () => this.dns.pingCheck('google', 'https://google.com'),\n    ]);\n  }\n}\n\n@Module({\n  imports: [\n    TerminusModule\n  ]\n})\nexport class AppModule { }"),c.Hb(),c.Hb(),c.Ib(149,"pre"),c.Ib(150,"code",11),c.lc(151,"\n// Before\n@Injectable()\n@Dependencies(DNSHealthIndicator)\nexport class TerminusOptionsService {\n  constructor(\n    private dns,\n  ) {}\n\n  createTerminusOptions() {\n    const healthEndpoint = {\n      url: '/health',\n      healthIndicators: [\n        async () => this.dns.pingCheck('google', 'https://google.com'),\n      ],\n    };\n    return {\n      endpoints: [healthEndpoint],\n    };\n  }\n}\n\n@Module({\n  imports: [\n    TerminusModule.forRootAsync({\n      useClass: TerminusOptionsService\n    })\n  ]\n})\nexport class AppModule { }\n\n// After\n@Controller('/health')\n@Dependencies(HealthCheckService, DNSHealthIndicator)\nexport class HealthController {\n  constructor(\n    private health,\n    private dns,\n  ) { }\n\n  @Get('/')\n  @HealthCheck()\n  healthCheck() {\n    return this.health.check([\n      async () => this.dns.pingCheck('google', 'https://google.com'),\n    ])\n  }\n}\n\n@Module({\n  controllers: [\n    HealthController\n  ],\n  imports: [\n    TerminusModule\n  ]\n})\nexport class AppModule { }"),c.Hb(),c.Hb(),c.Ib(152,"blockquote",19),c.Ib(153,"strong"),c.lc(154,"Warning"),c.Hb(),c.lc(155," If you have set a "),c.Ib(156,"a",20),c.lc(157,"Global Prefix"),c.Hb(),c.lc(158," in your Nest application and you have not used the "),c.Ib(159,"code"),c.lc(160,"useGlobalPrefix"),c.Hb(),c.lc(161," Terminus option, the URL of your health check will change. Make sure to update the reference to that URL, or use the legacy Terminus API until "),c.Ib(162,"a",21),c.lc(163,"nestjs/nest#963"),c.Hb(),c.lc(164," is fixed.\n"),c.Hb(),c.Ib(165,"p"),c.lc(166,"If you are forced to use the legacy API, you can also disable deprecation messages for the time being."),c.Hb(),c.Ib(167,"pre"),c.Ib(168,"code",11),c.lc(169,"\nTerminusModule.forRootAsync({\n  useFactory: () => ({\n    disableDeprecationWarnings: true,\n    endpoints: [\n      // ...\n    ]\n  })\n}"),c.Hb(),c.Hb(),c.Ib(170,"p"),c.lc(171,"You should enable shutdown hooks in your "),c.Ib(172,"code"),c.lc(173,"main.ts"),c.Hb(),c.lc(174," file. The Terminus integration will listen on POSIX signals such as SIGTERM (see the "),c.Ib(175,"a",22),c.lc(176,"Application shutdown chapter"),c.Hb(),c.lc(177," for more information). When enabled, the health check route(s) will automatically respond with a Service Unavailable (503) HTTP error response when the server is shutting down."),c.Hb(),c.Ib(178,"p"),c.lc(179,"With the removal of "),c.Ib(180,"code"),c.lc(181,"@godaddy/terminus"),c.Hb(),c.lc(182,", you will need to update your "),c.Ib(183,"code"),c.lc(184,"import"),c.Hb(),c.lc(185," statements\nto use "),c.Ib(186,"code"),c.lc(187,"@nestjs/terminus"),c.Hb(),c.lc(188," instead. Most notable is the import of the "),c.Ib(189,"code"),c.lc(190,"HealthCheckError"),c.Hb(),c.lc(191,"."),c.Hb(),c.Ib(192,"span",9),c.lc(193),c.Ub(194,"extension"),c.Gb(195,"app-tabs",null,23),c.Hb(),c.Ib(197,"pre"),c.Ib(198,"code",11),c.lc(199,"\n// Before\nimport { HealthCheckError } from '@godaddy/terminus';\n// After\nimport { HealthCheckError } from '@nestjs/terminus';"),c.Hb(),c.Hb(),c.Ib(200,"p"),c.lc(201,"Once you have fully migrated, make sure you uninstall "),c.Ib(202,"code"),c.lc(203,"@godaddy/terminus"),c.Hb(),c.lc(204,"."),c.Hb(),c.Ib(205,"pre"),c.Ib(206,"code",24),c.lc(207,"\nnpm uninstall --save @godaddy/terminus"),c.Hb(),c.Hb(),c.Ib(208,"h4",25),c.Ib(209,"span"),c.lc(210,"HTTP exceptions body"),c.Hb(),c.Hb(),c.Ib(211,"p"),c.lc(212,"Previously, the generated response bodies for the "),c.Ib(213,"code"),c.lc(214,"HttpException"),c.Hb(),c.lc(215," class and other exceptions derived from it (e.g., "),c.Ib(216,"code"),c.lc(217,"BadRequestException"),c.Hb(),c.lc(218," or "),c.Ib(219,"code"),c.lc(220,"NotFoundException"),c.Hb(),c.lc(221,") were inconsistent. In the latest major release, these exception responses will follow the same structure."),c.Hb(),c.Ib(222,"pre"),c.Ib(223,"code",11),c.lc(224,'\n/*\n * Sample outputs for "throw new ForbiddenException(\'Forbidden resource\')"\n */\n\n// Before\n{\n  "statusCode": 403,\n  "message": "Forbidden resource"\n}\n\n// After\n{\n  "statusCode": 403,\n  "message": "Forbidden resource",\n  "error": "Forbidden"\n}'),c.Hb(),c.Hb(),c.Ib(225,"h4",26),c.Ib(226,"span"),c.lc(227,"Validation errors schema"),c.Hb(),c.Hb(),c.Ib(228,"p"),c.lc(229,"In past releases, the "),c.Ib(230,"code"),c.lc(231,"ValidationPipe"),c.Hb(),c.lc(232," threw an array of the "),c.Ib(233,"code"),c.lc(234,"ValidationError"),c.Hb(),c.lc(235," objects returned by the "),c.Ib(236,"code"),c.lc(237,"class-validator"),c.Hb(),c.lc(238," package. Now, "),c.Ib(239,"code"),c.lc(240,"ValidationPipe"),c.Hb(),c.lc(241," will map errors to a list of plain strings representing error messages."),c.Hb(),c.Ib(242,"pre"),c.Ib(243,"code",11),c.lc(244,'\n// Before\n{\n  "statusCode": 400,\n  "error": "Bad Request",\n  "message": [\n    {\n      "target": {},\n      "property": "email",\n      "children": [],\n      "constraints": {\n        "isEmail": "email must be an email"\n      }\n    }\n  ]\n}\n\n// After\n{\n  "statusCode": 400,\n  "message": ["email must be an email"],\n  "error": "Bad Request"\n}'),c.Hb(),c.Hb(),c.Ib(245,"p"),c.lc(246,"If you prefer the previous approach, you can restore it by setting the "),c.Ib(247,"code"),c.lc(248,"exceptionFactory"),c.Hb(),c.lc(249," function:"),c.Hb(),c.Ib(250,"pre"),c.Ib(251,"code",11),c.lc(252,"\nnew ValidationPipe({\n  exceptionFactory: (errors) => new BadRequestException(errors),\n});"),c.Hb(),c.Hb(),c.Ib(253,"h4",27),c.Ib(254,"span"),c.lc(255,"Implicit type conversion ("),c.Ib(256,"code"),c.lc(257,"ValidationPipe"),c.Hb(),c.lc(258,")"),c.Hb(),c.Hb(),c.Ib(259,"p"),c.lc(260,"With the auto-transformation option enabled ("),c.Ib(261,"code"),c.lc(262,"transform: true"),c.Hb(),c.lc(263,"), the "),c.Ib(264,"code"),c.lc(265,"ValidationPipe"),c.Hb(),c.lc(266," will now perform conversion of primitive types. In the following example, the "),c.Ib(267,"code"),c.lc(268,"findOne()"),c.Hb(),c.lc(269," method takes one argument which represents an extracted "),c.Ib(270,"code"),c.lc(271,"id"),c.Hb(),c.lc(272," path parameter:"),c.Hb(),c.Ib(273,"pre"),c.Ib(274,"code",11),c.lc(275,"\n@Get(':id')\nfindOne(@Param('id') id: number) {\n  console.log(typeof id === 'number'); // true\n  return 'This action returns a user';\n}"),c.Hb(),c.Hb(),c.Ib(276,"p"),c.lc(277,"By default, every path parameter and query parameter comes over the network as a "),c.Ib(278,"code"),c.lc(279,"string"),c.Hb(),c.lc(280,". In the above example, we specified the "),c.Ib(281,"code"),c.lc(282,"id"),c.Hb(),c.lc(283," type as a "),c.Ib(284,"code"),c.lc(285,"number"),c.Hb(),c.lc(286," (in the method signature). Therefore, the "),c.Ib(287,"code"),c.lc(288,"ValidationPipe"),c.Hb(),c.lc(289," will try to automatically convert a string identifier to a number."),c.Hb(),c.Ib(290,"h4",28),c.Ib(291,"span"),c.lc(292,"Microservice channels (bidirectional communication)"),c.Hb(),c.Hb(),c.Ib(293,"p"),c.lc(294,"To enable the request-response message type, Nest creates two logical channels - one is responsible for transferring the data while the other waits for incoming responses. For some underlying transports, such as NATS, this dual-channel support is provided out-of-the-box. For others, Nest compensates by manually creating separate channels."),c.Hb(),c.Ib(295,"p"),c.lc(296,"Let's say that we have a single message handler "),c.Ib(297,"code"),c.lc(298,"@MessagePattern('getUsers')"),c.Hb(),c.lc(299,". In the past, Nest built two channels from this pattern: "),c.Ib(300,"code"),c.lc(301,"getUsers_ack"),c.Hb(),c.lc(302," (for requests) and "),c.Ib(303,"code"),c.lc(304,"getUsers_res"),c.Hb(),c.lc(305," (for responses). With version 7, this naming scheme changes. Now Nest will build "),c.Ib(306,"code"),c.lc(307,"getUsers"),c.Hb(),c.lc(308," (for requests) and "),c.Ib(309,"code"),c.lc(310,"getUsers.reply"),c.Hb(),c.lc(311," (for responses) instead. Also, specifically for the MQTT transport strategy, the response channel would be "),c.Ib(312,"code"),c.lc(313,"getUsers/reply"),c.Hb(),c.lc(314," (to avoid conflicts with topic wildcards)."),c.Hb(),c.Ib(315,"h4",29),c.Ib(316,"span"),c.lc(317,"Deprecations"),c.Hb(),c.Hb(),c.Ib(318,"p"),c.lc(319,"All deprecations (from Nest version 5 to version 6) have been finally removed (e.g., the deprecated "),c.Ib(320,"code"),c.lc(321,"@ReflectMetadata"),c.Hb(),c.lc(322," decorator)."),c.Hb(),c.Ib(323,"h4",30),c.Ib(324,"span"),c.lc(325,"Node.js"),c.Hb(),c.Hb(),c.Ib(326,"p"),c.lc(327,"This release drops support for Node v8. We strongly recommend using the latest LTS version."),c.Hb(),c.Hb()),2&e){var n=c.dc(28),r=c.dc(54),i=c.dc(145),o=c.dc(196);c.vb(29),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(23),c.xb("hide",r.isJsActive),c.vb(3),c.xb("hide",!r.isJsActive),c.vb(88),c.xb("hide",i.isJsActive),c.vb(3),c.xb("hide",!i.isJsActive),c.vb(44),c.nc(" ",c.Vb(194,13,"custom.health",o.isJsActive),"\n")}},directives:[Ei.a,Hr.f,Ai.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),bi),so=c.Kb(ao),co=((fi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return lo(e||fi)},fi.\u0275cmp=c.zb({type:fi,selectors:[["app-modules"]],features:[c.tb],decls:394,vars:24,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/modules.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","modules"],["src","/assets/Modules_1.png"],["appAnchor","","id","feature-modules"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/SOLID"],[1,"filename"],["app35c78b82f051087355bd59faa0c2fc90f12d720e",""],[1,"language-typescript"],[1,"info"],["app265022d95ef7e5ed6bbf5e253039d3a7d71b631f",""],[1,"file-tree"],[1,"item"],[1,"children"],["appAnchor","","id","shared-modules"],["src","/assets/Shared_Module_1.png"],["app5605c26cdae7ef8c40f0e08523be5d7263ecd5d4",""],["appAnchor","","id","module-re-exporting"],["appAnchor","","id","dependency-injection"],["app2bcb3b9b9537cce0acd502fbfa2384c463d536de",""],["routerLink","/fundamentals/circular-dependency"],["appAnchor","","id","global-modules"],["rel","nofollow","target","_blank","href","https://angular.io"],["appAnchor","","id","dynamic-modules"],["routerLink","/fundamentals/dynamic-modules"],["app72652034802fcc293be67c2afc03a07e9a297688",""],[1,"warning"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/tree/master/sample/25-dynamic-modules"]],template:function(e,t){if(1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Modules"),c.Hb(),c.Ib(7,"p"),c.lc(8,"A module is a class annotated with a "),c.Ib(9,"code"),c.lc(10,"@Module()"),c.Hb(),c.lc(11," decorator. The "),c.Ib(12,"code"),c.lc(13,"@Module()"),c.Hb(),c.lc(14," decorator provides metadata that "),c.Ib(15,"strong"),c.lc(16,"Nest"),c.Hb(),c.lc(17," makes use of to organize the application structure."),c.Hb(),c.Ib(18,"figure"),c.Gb(19,"img",6),c.Hb(),c.Ib(20,"p"),c.lc(21,"Each application has at least one module, a "),c.Ib(22,"strong"),c.lc(23,"root module"),c.Hb(),c.lc(24,". The root module is the starting point Nest uses to build the "),c.Ib(25,"strong"),c.lc(26,"application graph"),c.Hb(),c.lc(27," - the internal data structure Nest uses to resolve module and provider relationships and dependencies. While very small applications may theoretically have just the root module, this is not the typical case. We want to emphasize that modules are "),c.Ib(28,"strong"),c.lc(29,"strongly"),c.Hb(),c.lc(30," recommended as an effective way to organize your components. Thus, for most applications, the resulting architecture will employ multiple modules, each encapsulating a closely related set of "),c.Ib(31,"strong"),c.lc(32,"capabilities"),c.Hb(),c.lc(33,"."),c.Hb(),c.Ib(34,"p"),c.lc(35,"The "),c.Ib(36,"code"),c.lc(37,"@Module()"),c.Hb(),c.lc(38," decorator takes a single object whose properties describe the module:"),c.Hb(),c.Ib(39,"table"),c.Ib(40,"tr"),c.Ib(41,"td"),c.Ib(42,"code"),c.lc(43,"providers"),c.Hb(),c.Hb(),c.Ib(44,"td"),c.lc(45,"the providers that will be instantiated by the Nest injector and that may be shared at least across this module"),c.Hb(),c.Hb(),c.Ib(46,"tr"),c.Ib(47,"td"),c.Ib(48,"code"),c.lc(49,"controllers"),c.Hb(),c.Hb(),c.Ib(50,"td"),c.lc(51,"the set of controllers defined in this module which have to be instantiated"),c.Hb(),c.Hb(),c.Ib(52,"tr"),c.Ib(53,"td"),c.Ib(54,"code"),c.lc(55,"imports"),c.Hb(),c.Hb(),c.Ib(56,"td"),c.lc(57,"the list of imported modules that export the providers which are required in this module"),c.Hb(),c.Hb(),c.Ib(58,"tr"),c.Ib(59,"td"),c.Ib(60,"code"),c.lc(61,"exports"),c.Hb(),c.Hb(),c.Ib(62,"td"),c.lc(63,"the subset of "),c.Ib(64,"code"),c.lc(65,"providers"),c.Hb(),c.lc(66," that are provided by this module and should be available in other modules which import this module"),c.Hb(),c.Hb(),c.Hb(),c.Ib(67,"p"),c.lc(68,"The module "),c.Ib(69,"strong"),c.lc(70,"encapsulates"),c.Hb(),c.lc(71," providers by default. This means that it's impossible to inject providers that are neither directly part of the current module nor exported from the imported modules. Thus, you may consider the exported providers from a module as the module's public interface, or API."),c.Hb(),c.Ib(72,"h4",7),c.Ib(73,"span"),c.lc(74,"Feature modules"),c.Hb(),c.Hb(),c.Ib(75,"p"),c.lc(76,"The "),c.Ib(77,"code"),c.lc(78,"CatsController"),c.Hb(),c.lc(79," and "),c.Ib(80,"code"),c.lc(81,"CatsService"),c.Hb(),c.lc(82," belong to the same application domain. As they are closely related, it makes sense to move them into a feature module. A feature module simply organizes code relevant for a specific feature, keeping code organized and establishing clear boundaries. This helps us manage complexity and develop with "),c.Ib(83,"a",8),c.lc(84,"SOLID"),c.Hb(),c.lc(85," principles, especially as the size of the application and/or team grow."),c.Hb(),c.Ib(86,"p"),c.lc(87,"To demonstrate this, we'll create the "),c.Ib(88,"code"),c.lc(89,"CatsModule"),c.Hb(),c.lc(90,"."),c.Hb(),c.Ib(91,"span",9),c.lc(92),c.Ub(93,"extension"),c.Gb(94,"app-tabs",null,10),c.Hb(),c.Ib(96,"pre"),c.Ib(97,"code",11),c.lc(98,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {}"),c.Hb(),c.Hb(),c.Ib(99,"blockquote",12),c.Ib(100,"strong"),c.lc(101,"Hint"),c.Hb(),c.lc(102," To create a module using the CLI, simply execute the "),c.Ib(103,"code"),c.lc(104,"$ nest g module cats"),c.Hb(),c.lc(105," command.\n"),c.Hb(),c.Ib(106,"p"),c.lc(107,"Above, we defined the "),c.Ib(108,"code"),c.lc(109,"CatsModule"),c.Hb(),c.lc(110," in the "),c.Ib(111,"code"),c.lc(112,"cats.module.ts"),c.Hb(),c.lc(113," file, and moved everything related to this module into the "),c.Ib(114,"code"),c.lc(115,"cats"),c.Hb(),c.lc(116," directory. The last thing we need to do is import this module into the root module (the "),c.Ib(117,"code"),c.lc(118,"AppModule"),c.Hb(),c.lc(119,", defined in the "),c.Ib(120,"code"),c.lc(121,"app.module.ts"),c.Hb(),c.lc(122," file)."),c.Hb(),c.Ib(123,"span",9),c.lc(124),c.Ub(125,"extension"),c.Gb(126,"app-tabs",null,13),c.Hb(),c.Ib(128,"pre"),c.Ib(129,"code",11),c.lc(130,"\nimport { Module } from '@nestjs/common';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(131,"p"),c.lc(132,"Here is how our directory structure looks now:"),c.Hb(),c.Ib(133,"div",14),c.Ib(134,"div",15),c.lc(135,"src"),c.Hb(),c.Ib(136,"div",16),c.Ib(137,"div",15),c.lc(138,"cats"),c.Hb(),c.Ib(139,"div",16),c.Ib(140,"div",15),c.lc(141,"dto"),c.Hb(),c.Ib(142,"div",16),c.Ib(143,"div",15),c.lc(144,"create-cat.dto.ts"),c.Hb(),c.Hb(),c.Ib(145,"div",15),c.lc(146,"interfaces"),c.Hb(),c.Ib(147,"div",16),c.Ib(148,"div",15),c.lc(149,"cat.interface.ts"),c.Hb(),c.Hb(),c.Ib(150,"div",15),c.lc(151,"cats.service.ts"),c.Hb(),c.Ib(152,"div",15),c.lc(153,"cats.controller.ts"),c.Hb(),c.Ib(154,"div",15),c.lc(155,"cats.module.ts"),c.Hb(),c.Hb(),c.Ib(156,"div",15),c.lc(157,"app.module.ts"),c.Hb(),c.Ib(158,"div",15),c.lc(159,"main.ts"),c.Hb(),c.Hb(),c.Hb(),c.Ib(160,"h4",17),c.Ib(161,"span"),c.lc(162,"Shared modules"),c.Hb(),c.Hb(),c.Ib(163,"p"),c.lc(164,"In Nest, modules are "),c.Ib(165,"strong"),c.lc(166,"singletons"),c.Hb(),c.lc(167," by default, and thus you can share the same instance of any provider between multiple modules effortlessly."),c.Hb(),c.Ib(168,"figure"),c.Gb(169,"img",18),c.Hb(),c.Ib(170,"p"),c.lc(171,"Every module is automatically a "),c.Ib(172,"strong"),c.lc(173,"shared module"),c.Hb(),c.lc(174,". Once created it can be reused by any module. Let's imagine that we want to share an instance of the "),c.Ib(175,"code"),c.lc(176,"CatsService"),c.Hb(),c.lc(177," between several other modules. In order to do that, we first need to "),c.Ib(178,"strong"),c.lc(179,"export"),c.Hb(),c.lc(180," the "),c.Ib(181,"code"),c.lc(182,"CatsService"),c.Hb(),c.lc(183," provider by adding it to the module's "),c.Ib(184,"code"),c.lc(185,"exports"),c.Hb(),c.lc(186," array, as shown below:"),c.Hb(),c.Ib(187,"span",9),c.lc(188),c.Ub(189,"extension"),c.Gb(190,"app-tabs",null,19),c.Hb(),c.Ib(192,"pre"),c.Ib(193,"code",11),c.lc(194,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}"),c.Hb(),c.Hb(),c.Ib(195,"p"),c.lc(196,"Now any module that imports the "),c.Ib(197,"code"),c.lc(198,"CatsModule"),c.Hb(),c.lc(199," has access to the "),c.Ib(200,"code"),c.lc(201,"CatsService"),c.Hb(),c.lc(202," and will share the same instance with all other modules that import it as well."),c.Hb(),c.Ib(203,"p"),c.Gb(204,"app-banner-enterprise"),c.Hb(),c.Ib(205,"h4",20),c.Ib(206,"span"),c.lc(207,"Module re-exporting"),c.Hb(),c.Hb(),c.Ib(208,"p"),c.lc(209,"As seen above, Modules can export their internal providers. In addition, they can re-export modules that they import. In the example below, the "),c.Ib(210,"code"),c.lc(211,"CommonModule"),c.Hb(),c.lc(212," is both imported into "),c.Ib(213,"strong"),c.lc(214,"and"),c.Hb(),c.lc(215," exported from the "),c.Ib(216,"code"),c.lc(217,"CoreModule"),c.Hb(),c.lc(218,", making it available for other modules which import this one."),c.Hb(),c.Ib(219,"pre"),c.Ib(220,"code",11),c.lc(221,"\n@Module({\n  imports: [CommonModule],\n  exports: [CommonModule],\n})\nexport class CoreModule {}"),c.Hb(),c.Hb(),c.Ib(222,"h4",21),c.Ib(223,"span"),c.lc(224,"Dependency injection"),c.Hb(),c.Hb(),c.Ib(225,"p"),c.lc(226,"A module class can "),c.Ib(227,"strong"),c.lc(228,"inject"),c.Hb(),c.lc(229," providers as well (e.g., for configuration purposes):"),c.Hb(),c.Ib(230,"span",9),c.lc(231),c.Ub(232,"extension"),c.Gb(233,"app-tabs",null,22),c.Hb(),c.Ib(235,"pre"),c.Ib(236,"code",11),c.lc(237,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {\n  constructor(private catsService: CatsService) {}\n}"),c.Hb(),c.Hb(),c.Ib(238,"pre"),c.Ib(239,"code",11),c.lc(240,"\nimport { Module, Dependencies } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\n@Dependencies(CatsService)\nexport class CatsModule {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(241,"p"),c.lc(242,"However, module classes themselves cannot be injected as providers due to "),c.Ib(243,"a",23),c.lc(244,"circular dependency"),c.Hb(),c.lc(245," ."),c.Hb(),c.Ib(246,"h4",24),c.Ib(247,"span"),c.lc(248,"Global modules"),c.Hb(),c.Hb(),c.Ib(249,"p"),c.lc(250,"If you have to import the same set of modules everywhere, it can get tedious. Unlike in Nest, "),c.Ib(251,"a",25),c.lc(252,"Angular"),c.Hb(),c.Ib(253,"code"),c.lc(254,"providers"),c.Hb(),c.lc(255," are registered in the global scope. Once defined, they're available everywhere. Nest, however, encapsulates providers inside the module scope. You aren't able to use a module's providers elsewhere without first importing the encapsulating module."),c.Hb(),c.Ib(256,"p"),c.lc(257,"When you want to provide a set of providers which should be available everywhere out-of-the-box (e.g., helpers, database connections, etc.), make the module "),c.Ib(258,"strong"),c.lc(259,"global"),c.Hb(),c.lc(260," with the "),c.Ib(261,"code"),c.lc(262,"@Global()"),c.Hb(),c.lc(263," decorator."),c.Hb(),c.Ib(264,"pre"),c.Ib(265,"code",11),c.lc(266,"\nimport { Module, Global } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Global()\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService],\n})\nexport class CatsModule {}"),c.Hb(),c.Hb(),c.Ib(267,"p"),c.lc(268,"The "),c.Ib(269,"code"),c.lc(270,"@Global()"),c.Hb(),c.lc(271," decorator makes the module global-scoped. Global modules should be registered "),c.Ib(272,"strong"),c.lc(273,"only once"),c.Hb(),c.lc(274,", generally by the root or core module. In the above example, the "),c.Ib(275,"code"),c.lc(276,"CatsService"),c.Hb(),c.lc(277," provider will be ubiquitous, and modules that wish to inject the service will not need to import the "),c.Ib(278,"code"),c.lc(279,"CatsModule"),c.Hb(),c.lc(280," in their imports array."),c.Hb(),c.Ib(281,"blockquote",12),c.Ib(282,"strong"),c.lc(283,"Hint"),c.Hb(),c.lc(284," Making everything global is not a good design decision. Global modules are available to reduce the amount of necessary boilerplate. The "),c.Ib(285,"code"),c.lc(286,"imports"),c.Hb(),c.lc(287," array is generally the preferred way to make the module's API available to consumers.\n"),c.Hb(),c.Ib(288,"h4",26),c.Ib(289,"span"),c.lc(290,"Dynamic modules"),c.Hb(),c.Hb(),c.Ib(291,"p"),c.lc(292,"The Nest module system includes a powerful feature called "),c.Ib(293,"strong"),c.lc(294,"dynamic modules"),c.Hb(),c.lc(295,". This feature enables you to easily create customizable modules that can register and configure providers dynamically. Dynamic modules are covered extensively "),c.Ib(296,"a",27),c.lc(297,"here"),c.Hb(),c.lc(298,". In this chapter, we'll give a brief overview to complete the introduction to modules."),c.Hb(),c.Ib(299,"p"),c.lc(300,"Following is an example of a dynamic module definition for a "),c.Ib(301,"code"),c.lc(302,"DatabaseModule"),c.Hb(),c.lc(303,":"),c.Hb(),c.Ib(304,"span",9),c.Gb(305,"app-tabs",null,28),c.Hb(),c.Ib(307,"pre"),c.Ib(308,"code",11),c.lc(309,"\nimport { Module, DynamicModule } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?): DynamicModule {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}"),c.Hb(),c.Hb(),c.Ib(310,"pre"),c.Ib(311,"code",11),c.lc(312,"\nimport { Module } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?) {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}"),c.Hb(),c.Hb(),c.Ib(313,"blockquote",12),c.Ib(314,"strong"),c.lc(315,"Hint"),c.Hb(),c.lc(316," The "),c.Ib(317,"code"),c.lc(318,"forRoot()"),c.Hb(),c.lc(319," method may return a dynamic module either synchronously or asynchronously (i.e., via a "),c.Ib(320,"code"),c.lc(321,"Promise"),c.Hb(),c.lc(322,").\n"),c.Hb(),c.Ib(323,"p"),c.lc(324,"This module defines the "),c.Ib(325,"code"),c.lc(326,"Connection"),c.Hb(),c.lc(327," provider by default (in the "),c.Ib(328,"code"),c.lc(329,"@Module()"),c.Hb(),c.lc(330," decorator metadata), but additionally - depending on the "),c.Ib(331,"code"),c.lc(332,"entities"),c.Hb(),c.lc(333," and "),c.Ib(334,"code"),c.lc(335,"options"),c.Hb(),c.lc(336," objects passed into the "),c.Ib(337,"code"),c.lc(338,"forRoot()"),c.Hb(),c.lc(339," method - exposes a collection of providers, for example, repositories. Note that the properties returned by the dynamic module "),c.Ib(340,"strong"),c.lc(341,"extend"),c.Hb(),c.lc(342," (rather than override) the base module metadata defined in the "),c.Ib(343,"code"),c.lc(344,"@Module()"),c.Hb(),c.lc(345," decorator. That's how both the statically declared "),c.Ib(346,"code"),c.lc(347,"Connection"),c.Hb(),c.lc(348," provider "),c.Ib(349,"strong"),c.lc(350,"and"),c.Hb(),c.lc(351," the dynamically generated repository providers are exported from the module."),c.Hb(),c.Ib(352,"p"),c.lc(353,"If you want to register a dynamic module in the global scope, set the "),c.Ib(354,"code"),c.lc(355,"global"),c.Hb(),c.lc(356," property to "),c.Ib(357,"code"),c.lc(358,"true"),c.Hb(),c.lc(359,"."),c.Hb(),c.Ib(360,"pre"),c.Ib(361,"code",11),c.lc(362,"\n{\n  global: true,\n  module: DatabaseModule,\n  providers: providers,\n  exports: providers,\n}"),c.Hb(),c.Hb(),c.Ib(363,"blockquote",29),c.Ib(364,"strong"),c.lc(365,"Warning"),c.Hb(),c.lc(366," As mentioned above, making everything global "),c.Ib(367,"strong"),c.lc(368,"is not a good design decision"),c.Hb(),c.lc(369,".\n"),c.Hb(),c.Ib(370,"p"),c.lc(371,"The "),c.Ib(372,"code"),c.lc(373,"DatabaseModule"),c.Hb(),c.lc(374," can be imported and configured in the following manner:"),c.Hb(),c.Ib(375,"pre"),c.Ib(376,"code",11),c.lc(377,"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(378,"p"),c.lc(379,"If you want to in turn re-export a dynamic module, you can omit the "),c.Ib(380,"code"),c.lc(381,"forRoot()"),c.Hb(),c.lc(382," method call in the exports array:"),c.Hb(),c.Ib(383,"pre"),c.Ib(384,"code",11),c.lc(385,"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n  exports: [DatabaseModule],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(386,"p"),c.lc(387,"The "),c.Ib(388,"a",27),c.lc(389,"Dynamic modules"),c.Hb(),c.lc(390," chapter covers this topic in greater detail, and includes a "),c.Ib(391,"a",30),c.lc(392,"working example"),c.Hb(),c.lc(393,"."),c.Hb(),c.Hb()),2&e){var n=c.dc(95),r=c.dc(127),i=c.dc(191),o=c.dc(234),a=c.dc(306);c.vb(92),c.nc(" ",c.Vb(93,12,"cats/cats.module",n.isJsActive),"\n"),c.vb(32),c.nc(" ",c.Vb(125,15,"app.module",r.isJsActive),"\n"),c.vb(64),c.nc(" ",c.Vb(189,18,"cats.module",i.isJsActive),"\n"),c.vb(43),c.nc(" ",c.Vb(232,21,"cats.module",o.isJsActive),"\n"),c.vb(4),c.xb("hide",o.isJsActive),c.vb(3),c.xb("hide",!o.isJsActive),c.vb(69),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive)}},directives:[Ei.a,Ai.a,Fi.a,Hr.f],pipes:[Ri.a],encapsulation:2,changeDetection:0}),fi),lo=c.Kb(co),uo=((mi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return ho(e||mi)},mi.\u0275cmp=c.zb({type:mi,selectors:[["app-pipes"]],features:[c.tb],decls:783,vars:64,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/pipes.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","pipes"],["src","/assets/Pipe_1.png"],["href","controllers#route-parameters"],[1,"info"],["routerLink","/exception-filters"],["appAnchor","","id","built-in-pipes"],["appAnchor","","id","binding-pipes"],[1,"language-typescript"],[1,"language-bash"],[1,"language-json"],[1,"filename"],["appdf39835b1f5ca28aadf770f1900cbf8e72c13835",""],["routerLink","/techniques/validation"],["appAnchor","","id","custom-pipes"],["app75f7dd0afee7e4acf884fb076c297f92e2fa384e",""],["routerLink","/custom-decorators"],[1,"warning"],["appAnchor","","id","schema-based-validation"],["app2e1c1e49b722a76b46ef100dcb7546a6a88d5a06",""],["app91022e0e2ec43e703513c311139be6726f6ccdff",""],["appAnchor","","id","object-schema-validation"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Don%27t_repeat_yourself"],["rel","nofollow","target","_blank","href","https://github.com/hapijs/joi"],["appe4d8d4ec14037725baf45545845b4079cc289a6c",""],["appAnchor","","id","binding-validation-pipes"],["app82c9e4c2c66e6f9050ba27160d6963b6ae61e3ee",""],["appAnchor","","id","class-validator"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator"],["app5fce3a92fb6ed1b70777d1d53ecd120fb0a4f9b8",""],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator#usage"],["app58626f5ad2bbbe68004a6bd77c2003f02f88cbae",""],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-transformer"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator#custom-validation-classes"],["app415738d18b25f0bbd858d6deb3c44682cf8d8b06",""],["appAnchor","","id","global-scoped-pipes"],["app443c6c60fc3e77f01f34522958793c34e4ca6dbe",""],["href","faq/hybrid-application"],["appd6da7e7594e397bbfc0dfe2663c2fd764550f188",""],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","transformation-use-case"],["appbd2cf08f9df57e73745c62f327c78e0502a60aeb",""],["appdc7d87523e2bff6de87af4ba45984a601adb8253",""],["app30c26eb64f7e8f004f7c317f7c396d8ec1e88af2",""],["appAnchor","","id","providing-defaults"],["app400823706716ee773540d886dcb3c45de2444b59",""],["appAnchor","","id","the-built-in-validationpipe"]],template:function(e,t){if(1&e){c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Pipes"),c.Hb(),c.Ib(7,"p"),c.lc(8,"A pipe is a class annotated with the "),c.Ib(9,"code"),c.lc(10,"@Injectable()"),c.Hb(),c.lc(11," decorator. Pipes should implement the "),c.Ib(12,"code"),c.lc(13,"PipeTransform"),c.Hb(),c.lc(14," interface."),c.Hb(),c.Ib(15,"figure"),c.Gb(16,"img",6),c.Hb(),c.Ib(17,"p"),c.lc(18,"Pipes have two typical use cases:"),c.Hb(),c.Ib(19,"ul"),c.Ib(20,"li"),c.Ib(21,"strong"),c.lc(22,"transformation"),c.Hb(),c.lc(23,": transform input data to the desired form (e.g., from string to integer)"),c.Hb(),c.Ib(24,"li"),c.Ib(25,"strong"),c.lc(26,"validation"),c.Hb(),c.lc(27,": evaluate input data and if valid, simply pass it through unchanged; otherwise, throw an exception when the data is incorrect"),c.Hb(),c.Hb(),c.Ib(28,"p"),c.lc(29,"In both cases, pipes operate on the "),c.Ib(30,"code"),c.lc(31,"arguments"),c.Hb(),c.lc(32," being processed by a "),c.Ib(33,"a",7),c.lc(34,"controller route handler"),c.Hb(),c.lc(35,". Nest interposes a pipe just before a method is invoked, and the pipe receives the arguments destined for the method and operates on them. Any transformation or validation operation takes place at that time, after which the route handler is invoked with any (potentially) transformed arguments."),c.Hb(),c.Ib(36,"p"),c.lc(37,"Nest comes with a number of built-in pipes that you can use out-of-the-box. You can also build your own custom pipes. In this chapter, we'll introduce the built-in pipes and show how to bind them to route handlers. We'll then examine several custom-built pipes to show how you can build one from scratch."),c.Hb(),c.Ib(38,"blockquote",8),c.Ib(39,"strong"),c.lc(40,"Hint"),c.Hb(),c.lc(41," Pipes run inside the exceptions zone. This means that when a Pipe throws an exception it is handled by the exceptions layer (global exceptions filter and any "),c.Ib(42,"a",9),c.lc(43,"exceptions filters"),c.Hb(),c.lc(44," that are applied to the current context). Given the above, it should be clear that when an exception is thrown in a Pipe, no controller method is subsequently executed. This gives you a best-practice technique for validating data coming into the application from external sources at the system boundary.\n"),c.Hb(),c.Ib(45,"h4",10),c.Ib(46,"span"),c.lc(47,"Built-in pipes"),c.Hb(),c.Hb(),c.Ib(48,"p"),c.lc(49,"Nest comes with six pipes available out-of-the-box:"),c.Hb(),c.Ib(50,"ul"),c.Ib(51,"li"),c.Ib(52,"code"),c.lc(53,"ValidationPipe"),c.Hb(),c.Hb(),c.Ib(54,"li"),c.Ib(55,"code"),c.lc(56,"ParseIntPipe"),c.Hb(),c.Hb(),c.Ib(57,"li"),c.Ib(58,"code"),c.lc(59,"ParseBoolPipe"),c.Hb(),c.Hb(),c.Ib(60,"li"),c.Ib(61,"code"),c.lc(62,"ParseArrayPipe"),c.Hb(),c.Hb(),c.Ib(63,"li"),c.Ib(64,"code"),c.lc(65,"ParseUUIDPipe"),c.Hb(),c.Hb(),c.Ib(66,"li"),c.Ib(67,"code"),c.lc(68,"DefaultValuePipe"),c.Hb(),c.Hb(),c.Hb(),c.Ib(69,"p"),c.lc(70,"They're exported from the "),c.Ib(71,"code"),c.lc(72,"@nestjs/common"),c.Hb(),c.lc(73," package."),c.Hb(),c.Ib(74,"p"),c.lc(75,"Let's take a quick look at using "),c.Ib(76,"code"),c.lc(77,"ParseIntPipe"),c.Hb(),c.lc(78,". This is an example of the "),c.Ib(79,"strong"),c.lc(80,"transformation"),c.Hb(),c.lc(81," use case, where the pipe ensures that a method handler parameter is converted to a JavaScript integer (or throws an exception if the conversion fails). Later in this chapter, we'll show a simple custom implementation for a "),c.Ib(82,"code"),c.lc(83,"ParseIntPipe"),c.Hb(),c.lc(84,". The example techniques below also apply to the other built-in transformation pipes ("),c.Ib(85,"code"),c.lc(86,"ParseBoolPipe"),c.Hb(),c.lc(87,", "),c.Ib(88,"code"),c.lc(89,"ParseArrayPipe"),c.Hb(),c.lc(90," and "),c.Ib(91,"code"),c.lc(92,"ParseUUIDPipe"),c.Hb(),c.lc(93,", which we'll refer to as the "),c.Ib(94,"code"),c.lc(95,"Parse*"),c.Hb(),c.lc(96," pipes in this chapter)."),c.Hb(),c.Ib(97,"h4",11),c.Ib(98,"span"),c.lc(99,"Binding pipes"),c.Hb(),c.Hb(),c.Ib(100,"p"),c.lc(101,"To use a pipe, we need to bind an instance of the pipe class to the appropriate context. In our "),c.Ib(102,"code"),c.lc(103,"ParseIntPipe"),c.Hb(),c.lc(104," example, we want to associate the pipe with a particular route handler method, and make sure it runs before the method is called. We do so with the following construct, which we'll refer to as binding the pipe at the method parameter level:"),c.Hb(),c.Ib(105,"pre"),c.Ib(106,"code",12),c.lc(107,"\n@Get(':id')\nasync findOne(@Param('id', ParseIntPipe) id: number) {\n  return this.catsService.findOne(id);\n}"),c.Hb(),c.Hb(),c.Ib(108,"p"),c.lc(109,"This ensures that one of the following two conditions is true: either the parameter we receive in the "),c.Ib(110,"code"),c.lc(111,"findOne()"),c.Hb(),c.lc(112," method is a number (as expected in our call to "),c.Ib(113,"code"),c.lc(114,"this.catsService.findOne()"),c.Hb(),c.lc(115,"), or an exception is thrown before the route handler is called."),c.Hb(),c.Ib(116,"p"),c.lc(117,"For example, assume the route is called like:"),c.Hb(),c.Ib(118,"pre"),c.Ib(119,"code",13),c.lc(120,"\nGET localhost:3000/abc"),c.Hb(),c.Hb(),c.Ib(121,"p"),c.lc(122,"Nest will throw an exception like this:"),c.Hb(),c.Ib(123,"pre"),c.Ib(124,"code",14),c.lc(125,'\n{\n  "statusCode": 400,\n  "message": "Validation failed (numeric string is expected)",\n  "error": "Bad Request"\n}'),c.Hb(),c.Hb(),c.Ib(126,"p"),c.lc(127,"The exception will prevent the body of the "),c.Ib(128,"code"),c.lc(129,"findOne()"),c.Hb(),c.lc(130," method from executing."),c.Hb(),c.Ib(131,"p"),c.lc(132,"In the example above, we pass a class ("),c.Ib(133,"code"),c.lc(134,"ParseIntPipe"),c.Hb(),c.lc(135,"), not an instance, leaving responsibility for instantiation to the framework and enabling dependency injection. As with pipes and guards, we can instead pass an in-place instance. Passing an in-place instance is useful if we want to customize the built-in pipe's behavior by passing options:"),c.Hb(),c.Ib(136,"pre"),c.Ib(137,"code",12),c.lc(138,"\n@Get(':id')\nasync findOne(\n  @Param('id', new ParseIntPipe({ errorHttpStatusCode: HttpStatus.NOT_ACCEPTABLE }))\n  id: number,\n) {\n  return this.catsService.findOne(id);\n}"),c.Hb(),c.Hb(),c.Ib(139,"p"),c.lc(140,"Binding the other transformation pipes (all of the "),c.Ib(141,"strong"),c.lc(142,"Parse*"),c.Hb(),c.lc(143," pipes) works similarly. These pipes all work in the context of validating route parameters, query string parameters and request body values."),c.Hb(),c.Ib(144,"p"),c.lc(145,"For example with a query string parameter:"),c.Hb(),c.Ib(146,"pre"),c.Ib(147,"code",12),c.lc(148,"\n@Get()\nasync findOne(@Query('id', ParseIntPipe) id: number) {\n  return this.catsService.findOne(id);\n}"),c.Hb(),c.Hb(),c.Ib(149,"p"),c.lc(150,"Here's an example of using the "),c.Ib(151,"code"),c.lc(152,"ParseUUIDPipe"),c.Hb(),c.lc(153," to parse a string parameter and validate if it is a UUID."),c.Hb(),c.Ib(154,"span",15),c.Gb(155,"app-tabs",null,16),c.Hb(),c.Ib(157,"pre"),c.Ib(158,"code",12),c.lc(159,"\n@Get(':uuid')\nasync findOne(@Param('uuid', new ParseUUIDPipe()) uuid: string) {\n  return this.catsService.findOne(uuid);\n}"),c.Hb(),c.Hb(),c.Ib(160,"pre"),c.Ib(161,"code",12),c.lc(162,"\n@Get(':uuid')\n@Bind(Param('uuid', new ParseUUIDPipe()))\nasync findOne(uuid) {\n  return this.catsService.findOne(uuid);\n}"),c.Hb(),c.Hb(),c.Ib(163,"blockquote",8),c.Ib(164,"strong"),c.lc(165,"Hint"),c.Hb(),c.lc(166," When using "),c.Ib(167,"code"),c.lc(168,"ParseUUIDPipe()"),c.Hb(),c.lc(169," you are parsing UUID in version 3, 4 or 5, if you only require a specific version of UUID you can pass a version in the pipe options.\n"),c.Hb(),c.Ib(170,"p"),c.lc(171,"Above we've seen examples of binding the various "),c.Ib(172,"code"),c.lc(173,"Parse*"),c.Hb(),c.lc(174," family of built-in pipes. Binding validation pipes is a little bit different; we'll discuss that in the following section."),c.Hb(),c.Ib(175,"blockquote",8),c.Ib(176,"strong"),c.lc(177,"Hint"),c.Hb(),c.lc(178," Also, see "),c.Ib(179,"a",17),c.lc(180,"Validation techniques"),c.Hb(),c.lc(181," for extensive examples of validation pipes.\n"),c.Hb(),c.Ib(182,"h4",18),c.Ib(183,"span"),c.lc(184,"Custom pipes"),c.Hb(),c.Hb(),c.Ib(185,"p"),c.lc(186,"As mentioned, you can build your own custom pipes. While Nest provides a robust built-in "),c.Ib(187,"code"),c.lc(188,"ParseIntPipe"),c.Hb(),c.lc(189," and "),c.Ib(190,"code"),c.lc(191,"ValidationPipe"),c.Hb(),c.lc(192,", let's build simple custom versions of each from scratch to see how custom pipes are constructed."),c.Hb(),c.Ib(193,"p"),c.lc(194,"We start with a simple "),c.Ib(195,"code"),c.lc(196,"ValidationPipe"),c.Hb(),c.lc(197,". Initially, we'll have it simply take an input value and immediately return the same value, behaving like an identity function."),c.Hb(),c.Ib(198,"span",15),c.lc(199),c.Ub(200,"extension"),c.Gb(201,"app-tabs",null,19),c.Hb(),c.Ib(203,"pre"),c.Ib(204,"code",12),c.lc(205,"\nimport { PipeTransform, Injectable, ArgumentMetadata } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform {\n  transform(value: any, metadata: ArgumentMetadata) {\n    return value;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(206,"pre"),c.Ib(207,"code",12),c.lc(208,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe {\n  transform(value, metadata) {\n    return value;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(209,"blockquote",8),c.Ib(210,"strong"),c.lc(211,"Hint"),c.Hb(),c.Ib(212,"code"),c.lc(213,"PipeTransform<T, R>"),c.Hb(),c.lc(214," is a generic interface that must be implemented by any pipe. The generic interface uses "),c.Ib(215,"code"),c.lc(216,"T"),c.Hb(),c.lc(217," to indicate the type of the input "),c.Ib(218,"code"),c.lc(219,"value"),c.Hb(),c.lc(220,", and "),c.Ib(221,"code"),c.lc(222,"R"),c.Hb(),c.lc(223," to indicate the return type of the "),c.Ib(224,"code"),c.lc(225,"transform()"),c.Hb(),c.lc(226," method.\n"),c.Hb(),c.Ib(227,"p"),c.lc(228,"Every pipe must implement the "),c.Ib(229,"code"),c.lc(230,"transform()"),c.Hb(),c.lc(231," method to fulfill the "),c.Ib(232,"code"),c.lc(233,"PipeTransform"),c.Hb(),c.lc(234," interface contract. This method has two parameters:"),c.Hb(),c.Ib(235,"ul"),c.Ib(236,"li"),c.Ib(237,"code"),c.lc(238,"value"),c.Hb(),c.Hb(),c.Ib(239,"li"),c.Ib(240,"code"),c.lc(241,"metadata"),c.Hb(),c.Hb(),c.Hb(),c.Ib(242,"p"),c.lc(243,"The "),c.Ib(244,"code"),c.lc(245,"value"),c.Hb(),c.lc(246," parameter is the currently processed method argument (before it is received by the route handling method), and "),c.Ib(247,"code"),c.lc(248,"metadata"),c.Hb(),c.lc(249," is the currently processed method argument's metadata. The metadata object has these properties:"),c.Hb(),c.Ib(250,"pre"),c.Ib(251,"code",12),c.lc(252,"\nexport interface ArgumentMetadata {\n  type: 'body' | 'query' | 'param' | 'custom';\n  metatype?: Type<unknown>;\n  data?: string;\n}"),c.Hb(),c.Hb(),c.Ib(253,"p"),c.lc(254,"These properties describe the currently processed argument."),c.Hb(),c.Ib(255,"table"),c.Ib(256,"tr"),c.Ib(257,"td"),c.Ib(258,"code"),c.lc(259,"type"),c.Hb(),c.Hb(),c.Ib(260,"td"),c.lc(261,"Indicates whether the argument is a body "),c.Ib(262,"code"),c.lc(263,"@Body()"),c.Hb(),c.lc(264,", query "),c.Ib(265,"code"),c.lc(266,"@Query()"),c.Hb(),c.lc(267,", param "),c.Ib(268,"code"),c.lc(269,"@Param()"),c.Hb(),c.lc(270,", or a custom parameter (read more "),c.Ib(271,"a",20),c.lc(272,"here"),c.Hb(),c.lc(273,")."),c.Hb(),c.Hb(),c.Ib(274,"tr"),c.Ib(275,"td"),c.Ib(276,"code"),c.lc(277,"metatype"),c.Hb(),c.Hb(),c.Ib(278,"td"),c.lc(279," Provides the metatype of the argument, for example, "),c.Ib(280,"code"),c.lc(281,"String"),c.Hb(),c.lc(282,". Note: the value is "),c.Ib(283,"code"),c.lc(284,"undefined"),c.Hb(),c.lc(285," if you either omit a type declaration in the route handler method signature, or use vanilla JavaScript. "),c.Hb(),c.Hb(),c.Ib(286,"tr"),c.Ib(287,"td"),c.Ib(288,"code"),c.lc(289,"data"),c.Hb(),c.Hb(),c.Ib(290,"td"),c.lc(291,"The string passed to the decorator, for example "),c.Ib(292,"code"),c.lc(293,"@Body('string')"),c.Hb(),c.lc(294,". It's "),c.Ib(295,"code"),c.lc(296,"undefined"),c.Hb(),c.lc(297," if you leave the decorator parenthesis empty."),c.Hb(),c.Hb(),c.Hb(),c.Ib(298,"blockquote",21),c.Ib(299,"strong"),c.lc(300,"Warning"),c.Hb(),c.lc(301," TypeScript interfaces disappear during transpilation. Thus, if a method parameter's type is declared as an interface instead of a class, the "),c.Ib(302,"code"),c.lc(303,"metatype"),c.Hb(),c.lc(304," value will be "),c.Ib(305,"code"),c.lc(306,"Object"),c.Hb(),c.lc(307,".\n"),c.Hb(),c.Ib(308,"h4",22),c.Ib(309,"span"),c.lc(310,"Schema based validation"),c.Hb(),c.Hb(),c.Ib(311,"p"),c.lc(312,"Let's make our validation pipe a little more useful. Take a closer look at the "),c.Ib(313,"code"),c.lc(314,"create()"),c.Hb(),c.lc(315," method of the "),c.Ib(316,"code"),c.lc(317,"CatsController"),c.Hb(),c.lc(318,", where we probably would like to ensure that the post body object is valid before attempting to run our service method."),c.Hb(),c.Ib(319,"span",15),c.Gb(320,"app-tabs",null,23),c.Hb(),c.Ib(322,"pre"),c.Ib(323,"code",12),c.lc(324,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(325,"pre"),c.Ib(326,"code",12),c.lc(327,"\n@Post()\nasync create(@Body() createCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(328,"p"),c.lc(329,"Let's focus in on the "),c.Ib(330,"code"),c.lc(331,"createCatDto"),c.Hb(),c.lc(332," body parameter. Its type is "),c.Ib(333,"code"),c.lc(334,"CreateCatDto"),c.Hb(),c.lc(335,":"),c.Hb(),c.Ib(336,"span",15),c.lc(337),c.Ub(338,"extension"),c.Gb(339,"app-tabs",null,24),c.Hb(),c.Ib(341,"pre"),c.Ib(342,"code",12),c.lc(343,"\nexport class CreateCatDto {\n  name: string;\n  age: number;\n  breed: string;\n}"),c.Hb(),c.Hb(),c.Ib(344,"p"),c.lc(345,"We want to ensure that any incoming request to the create method contains a valid body. So we have to validate the three members of the "),c.Ib(346,"code"),c.lc(347,"createCatDto"),c.Hb(),c.lc(348," object. We could do this inside the route handler method, but doing so is not ideal as it would break the "),c.Ib(349,"strong"),c.lc(350,"single responsibility rule"),c.Hb(),c.lc(351," (SRP)."),c.Hb(),c.Ib(352,"p"),c.lc(353,"Another approach could be to create a "),c.Ib(354,"strong"),c.lc(355,"validator class"),c.Hb(),c.lc(356," and delegate the task there. This has the disadvantage that we would have to remember to call this validator at the beginning of each method."),c.Hb(),c.Ib(357,"p"),c.lc(358,"How about creating validation middleware? This could work, but unfortunately it's not possible to create "),c.Ib(359,"strong"),c.lc(360,"generic middleware"),c.Hb(),c.lc(361," which can be used across all contexts across the whole application. This is because middleware is unaware of the "),c.Ib(362,"strong"),c.lc(363,"execution context"),c.Hb(),c.lc(364,", including the handler that will be called and any of its parameters."),c.Hb(),c.Ib(365,"p"),c.lc(366,"This is, of course, exactly the use case for which pipes are designed. So let's go ahead and refine our validation pipe."),c.Hb(),c.Ib(367,"p"),c.Gb(368,"app-banner-courses"),c.Hb(),c.Ib(369,"h4",25),c.Ib(370,"span"),c.lc(371,"Object schema validation"),c.Hb(),c.Hb(),c.Ib(372,"p"),c.lc(373,"There are several approaches available for doing object validation in a clean, "),c.Ib(374,"a",26),c.lc(375,"DRY"),c.Hb(),c.lc(376," way. One common approach is to use "),c.Ib(377,"strong"),c.lc(378,"schema-based"),c.Hb(),c.lc(379," validation. Let's go ahead and try that approach."),c.Hb(),c.Ib(380,"p"),c.lc(381,"The "),c.Ib(382,"a",27),c.lc(383,"Joi"),c.Hb(),c.lc(384," library allows you to create schemas in a straightforward way, with a readable API. Let's build a validation pipe that makes use of Joi-based schemas."),c.Hb(),c.Ib(385,"p"),c.lc(386,"Start by installing the required package:"),c.Hb(),c.Ib(387,"pre"),c.Ib(388,"code",13),c.lc(389,"\n$ npm install --save @hapi/joi\n$ npm install --save-dev @types/hapi__joi"),c.Hb(),c.Hb(),c.Ib(390,"p"),c.lc(391,"In the code sample below, we create a simple class that takes a schema as a "),c.Ib(392,"code"),c.lc(393,"constructor"),c.Hb(),c.lc(394," argument. We then apply the "),c.Ib(395,"code"),c.lc(396,"schema.validate()"),c.Hb(),c.lc(397," method, which validates our incoming argument against the provided schema."),c.Hb(),c.Ib(398,"p"),c.lc(399,"As noted earlier, a "),c.Ib(400,"strong"),c.lc(401,"validation pipe"),c.Hb(),c.lc(402," either returns the value unchanged, or throws an exception."),c.Hb(),c.Ib(403,"p"),c.lc(404,"In the next section, you'll see how we supply the appropriate schema for a given controller method using the "),c.Ib(405,"code"),c.lc(406,"@UsePipes()"),c.Hb(),c.lc(407," decorator. Doing so makes our validation pipe re-usable across contexts, just as we set out to do."),c.Hb(),c.Ib(408,"span",15),c.Gb(409,"app-tabs",null,28),c.Hb(),c.Ib(411,"pre"),c.Ib(412,"code",12),c.lc(413,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { ObjectSchema } from '@hapi/joi';\n\n@Injectable()\nexport class JoiValidationPipe implements PipeTransform {\n  constructor(private schema: ObjectSchema) {}\n\n  transform(value: any, metadata: ArgumentMetadata) {\n    const { error } = this.schema.validate(value);\n    if (error) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(414,"pre"),c.Ib(415,"code",12),c.lc(416,"\nimport { Injectable, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class JoiValidationPipe {\n  constructor(schema) {\n    this.schema = schema;\n  }\n\n  transform(value, metadata) {\n    const { error } = this.schema.validate(value);\n    if (error) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(417,"h4",29),c.Ib(418,"span"),c.lc(419,"Binding validation pipes"),c.Hb(),c.Hb(),c.Ib(420,"p"),c.lc(421,"Earlier, we saw how to bind transformation pipes (like "),c.Ib(422,"code"),c.lc(423,"ParseIntPipe"),c.Hb(),c.lc(424," and the rest of the "),c.Ib(425,"code"),c.lc(426,"Parse*"),c.Hb(),c.lc(427," pipes)."),c.Hb(),c.Ib(428,"p"),c.lc(429,"Binding validation pipes is also very straightforward."),c.Hb(),c.Ib(430,"p"),c.lc(431,"In this case, we want to bind the pipe at the method call level. In our current example, we need to do the following to use the "),c.Ib(432,"code"),c.lc(433,"JoiValidationPipe"),c.Hb(),c.lc(434,":"),c.Hb(),c.Ib(435,"ol"),c.Ib(436,"li"),c.lc(437,"Create an instance of the "),c.Ib(438,"code"),c.lc(439,"JoiValidationPipe"),c.Hb(),c.Hb(),c.Ib(440,"li"),c.lc(441,"Pass the context-specific Joi schema in the class constructor of the pipe"),c.Hb(),c.Ib(442,"li"),c.lc(443,"Bind the pipe to the method"),c.Hb(),c.Hb(),c.Ib(444,"p"),c.lc(445,"We do that using the "),c.Ib(446,"code"),c.lc(447,"@UsePipes()"),c.Hb(),c.lc(448," decorator as shown below:"),c.Hb(),c.Ib(449,"span",15),c.Gb(450,"app-tabs",null,30),c.Hb(),c.Ib(452,"pre"),c.Ib(453,"code",12),c.lc(454,"\n@Post()\n@UsePipes(new JoiValidationPipe(createCatSchema))\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(455,"pre"),c.Ib(456,"code",12),c.lc(457,"\n@Post()\n@Bind(Body())\n@UsePipes(new JoiValidationPipe(createCatSchema))\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(458,"blockquote",8),c.Ib(459,"strong"),c.lc(460,"Hint"),c.Hb(),c.lc(461," The "),c.Ib(462,"code"),c.lc(463,"@UsePipes()"),c.Hb(),c.lc(464," decorator is imported from the "),c.Ib(465,"code"),c.lc(466,"@nestjs/common"),c.Hb(),c.lc(467," package.\n"),c.Hb(),c.Ib(468,"h4",31),c.Ib(469,"span"),c.lc(470,"Class validator"),c.Hb(),c.Hb(),c.Ib(471,"blockquote",21),c.Ib(472,"strong"),c.lc(473,"Warning"),c.Hb(),c.lc(474," The techniques in this section require TypeScript, and are not available if your app is written using vanilla JavaScript.\n"),c.Hb(),c.Ib(475,"p"),c.lc(476,"Let's look at an alternate implementation for our validation technique."),c.Hb(),c.Ib(477,"p"),c.lc(478,"Nest works well with the "),c.Ib(479,"a",32),c.lc(480,"class-validator"),c.Hb(),c.lc(481," library. This powerful library allows you to use decorator-based validation. Decorator-based validation is extremely powerful, especially when combined with Nest's "),c.Ib(482,"strong"),c.lc(483,"Pipe"),c.Hb(),c.lc(484," capabilities since we have access to the "),c.Ib(485,"code"),c.lc(486,"metatype"),c.Hb(),c.lc(487," of the processed property. Before we start, we need to install the required packages:"),c.Hb(),c.Ib(488,"pre"),c.Ib(489,"code",13),c.lc(490,"\n$ npm i --save class-validator class-transformer"),c.Hb(),c.Hb(),c.Ib(491,"p"),c.lc(492,"Once these are installed, we can add a few decorators to the "),c.Ib(493,"code"),c.lc(494,"CreateCatDto"),c.Hb(),c.lc(495," class. Here we see a significant advantage of this technique: the "),c.Ib(496,"code"),c.lc(497,"CreateCatDto"),c.Hb(),c.lc(498," class remains the single source of truth for our Post body object (rather than having to create a separate validation class)."),c.Hb(),c.Ib(499,"span",15),c.lc(500),c.Ub(501,"extension"),c.Gb(502,"app-tabs",null,33),c.Hb(),c.Ib(504,"pre"),c.Ib(505,"code",12),c.lc(506,"\nimport { IsString, IsInt } from 'class-validator';\n\nexport class CreateCatDto {\n  @IsString()\n  name: string;\n\n  @IsInt()\n  age: number;\n\n  @IsString()\n  breed: string;\n}"),c.Hb(),c.Hb(),c.Ib(507,"blockquote",8),c.Ib(508,"strong"),c.lc(509,"Hint"),c.Hb(),c.lc(510," Read more about the class-validator decorators "),c.Ib(511,"a",34),c.lc(512,"here"),c.Hb(),c.lc(513,".\n"),c.Hb(),c.Ib(514,"p"),c.lc(515,"Now we can create a "),c.Ib(516,"code"),c.lc(517,"ValidationPipe"),c.Hb(),c.lc(518," class that uses these annotations."),c.Hb(),c.Ib(519,"span",15),c.lc(520),c.Ub(521,"extension"),c.Gb(522,"app-tabs",null,35),c.Hb(),c.Ib(524,"pre"),c.Ib(525,"code",12),c.lc(526,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { validate } from 'class-validator';\nimport { plainToClass } from 'class-transformer';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform<any> {\n  async transform(value: any, { metatype }: ArgumentMetadata) {\n    if (!metatype || !this.toValidate(metatype)) {\n      return value;\n    }\n    const object = plainToClass(metatype, value);\n    const errors = await validate(object);\n    if (errors.length > 0) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n\n  private toValidate(metatype: Function): boolean {\n    const types: Function[] = [String, Boolean, Number, Array, Object];\n    return !types.includes(metatype);\n  }\n}"),c.Hb(),c.Hb(),c.Ib(527,"blockquote",21),c.Ib(528,"strong"),c.lc(529,"Notice"),c.Hb(),c.lc(530," Above, we have used the "),c.Ib(531,"a",36),c.lc(532,"class-transformer"),c.Hb(),c.lc(533," library. It's made by the same author as the "),c.Ib(534,"strong"),c.lc(535,"class-validator"),c.Hb(),c.lc(536," library, and as a result, they play very well together.\n"),c.Hb(),c.Ib(537,"p"),c.lc(538,"Let's go through this code. First, note that the "),c.Ib(539,"code"),c.lc(540,"transform()"),c.Hb(),c.lc(541," method is marked as "),c.Ib(542,"code"),c.lc(543,"async"),c.Hb(),c.lc(544,". This is possible because Nest supports both synchronous and "),c.Ib(545,"strong"),c.lc(546,"asynchronous"),c.Hb(),c.lc(547," pipes. We make this method "),c.Ib(548,"code"),c.lc(549,"async"),c.Hb(),c.lc(550," because some of the class-validator validations "),c.Ib(551,"a",37),c.lc(552,"can be async"),c.Hb(),c.lc(553," (utilize Promises)."),c.Hb(),c.Ib(554,"p"),c.lc(555,"Next note that we are using destructuring to extract the metatype field (extracting just this member from an "),c.Ib(556,"code");c.lc(557,"ArgumentMetadata"),c.Hb(),c.lc(558,") into our "),c.Ib(559,"code"),c.lc(560,"metatype"),c.Hb(),c.lc(561," parameter. This is just shorthand for getting the full "),c.Ib(562,"code"),c.lc(563,"ArgumentMetadata"),c.Hb(),c.lc(564," and then having an additional statement to assign the metatype variable."),c.Hb(),c.Ib(565,"p"),c.lc(566,"Next, note the helper function "),c.Ib(567,"code"),c.lc(568,"toValidate()"),c.Hb(),c.lc(569,". It's responsible for bypassing the validation step when the current argument being processed is a native JavaScript type (these can't have validation decorators attached, so there's no reason to run them through the validation step)."),c.Hb(),c.Ib(570,"p"),c.lc(571,"Next, we use the class-transformer function "),c.Ib(572,"code"),c.lc(573,"plainToClass()"),c.Hb(),c.lc(574," to transform our plain JavaScript argument object into a typed object so that we can apply validation. The reason we must do this is that the incoming post body object, when deserialized from the network request, does "),c.Ib(575,"strong"),c.lc(576,"not have any type information"),c.Hb(),c.lc(577," (this is the way the underlying platform, such as Express, works). Class-validator needs to use the validation decorators we defined for our DTO earlier, so we need to perform this transformation to treat the incoming body as an appropriately decorated object, not just a plain vanilla object."),c.Hb(),c.Ib(578,"p"),c.lc(579,"Finally, as noted earlier, since this is a "),c.Ib(580,"strong"),c.lc(581,"validation pipe"),c.Hb(),c.lc(582," it either returns the value unchanged, or throws an exception."),c.Hb(),c.Ib(583,"p"),c.lc(584,"The last step is to bind the "),c.Ib(585,"code"),c.lc(586,"ValidationPipe"),c.Hb(),c.lc(587,". Pipes can be parameter-scoped, method-scoped, controller-scoped, or global-scoped. Earlier, with our Joi-based validation pipe, we saw an example of binding the pipe at the method level.\nIn the example below, we'll bind the pipe instance to the route handler "),c.Ib(588,"code"),c.lc(589,"@Body()"),c.Hb(),c.lc(590," decorator so that our pipe is called to validate the post body."),c.Hb(),c.Ib(591,"span",15),c.lc(592),c.Ub(593,"extension"),c.Gb(594,"app-tabs",null,38),c.Hb(),c.Ib(596,"pre"),c.Ib(597,"code",12),c.lc(598,"\n@Post()\nasync create(\n  @Body(new ValidationPipe()) createCatDto: CreateCatDto,\n) {\n  this.catsService.create(createCatDto);\n}"),c.Hb(),c.Hb(),c.Ib(599,"p"),c.lc(600,"Parameter-scoped pipes are useful when the validation logic concerns only one specified parameter."),c.Hb(),c.Ib(601,"h4",39),c.Ib(602,"span"),c.lc(603,"Global scoped pipes"),c.Hb(),c.Hb(),c.Ib(604,"p"),c.lc(605,"Since the "),c.Ib(606,"code"),c.lc(607,"ValidationPipe"),c.Hb(),c.lc(608," was created to be as generic as possible, we can realize it's full utility by setting it up as a "),c.Ib(609,"strong"),c.lc(610,"global-scoped"),c.Hb(),c.lc(611," pipe so that it is applied to every route handler across the entire application."),c.Hb(),c.Ib(612,"span",15),c.lc(613),c.Ub(614,"extension"),c.Gb(615,"app-tabs",null,40),c.Hb(),c.Ib(617,"pre"),c.Ib(618,"code",12),c.lc(619,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalPipes(new ValidationPipe());\n  await app.listen(3000);\n}\nbootstrap();"),c.Hb(),c.Hb(),c.Ib(620,"blockquote",21),c.Ib(621,"strong"),c.lc(622,"Notice"),c.Hb(),c.lc(623," In the case of "),c.Ib(624,"a",41),c.lc(625,"hybrid apps"),c.Hb(),c.lc(626," the "),c.Ib(627,"code"),c.lc(628,"useGlobalPipes()"),c.Hb(),c.lc(629,' method doesn\'t set up pipes for gateways and micro services. For "standard" (non-hybrid) microservice apps, '),c.Ib(630,"code"),c.lc(631,"useGlobalPipes()"),c.Hb(),c.lc(632," does mount pipes globally.\n"),c.Hb(),c.Ib(633,"p"),c.lc(634,"Global pipes are used across the whole application, for every controller and every route handler."),c.Hb(),c.Ib(635,"p"),c.lc(636,"Note that in terms of dependency injection, global pipes registered from outside of any module (with "),c.Ib(637,"code"),c.lc(638,"useGlobalPipes()"),c.Hb(),c.lc(639," as in the example above) cannot inject dependencies since the binding has been done outside the context of any module. In order to solve this issue, you can set up a global pipe "),c.Ib(640,"strong"),c.lc(641,"directly from any module"),c.Hb(),c.lc(642," using the following construction:"),c.Hb(),c.Ib(643,"span",15),c.lc(644),c.Ub(645,"extension"),c.Gb(646,"app-tabs",null,42),c.Hb(),c.Ib(648,"pre"),c.Ib(649,"code",12),c.lc(650,"\nimport { Module } from '@nestjs/common';\nimport { APP_PIPE } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_PIPE,\n      useClass: ValidationPipe,\n    },\n  ],\n})\nexport class AppModule {}"),c.Hb(),c.Hb(),c.Ib(651,"blockquote",8),c.Ib(652,"strong"),c.lc(653,"Hint"),c.Hb(),c.lc(654," When using this approach to perform dependency injection for the pipe, note that regardless of the module where this construction is employed, the pipe is, in fact, global. Where should this be done? Choose the module where the pipe ("),c.Ib(655,"code"),c.lc(656,"ValidationPipe"),c.Hb(),c.lc(657," in the example above) is defined. Also, "),c.Ib(658,"code"),c.lc(659,"useClass"),c.Hb(),c.lc(660," is not the only way of dealing with custom provider registration. Learn more "),c.Ib(661,"a",43),c.lc(662,"here"),c.Hb(),c.lc(663,".\n"),c.Hb(),c.Ib(664,"h4",44),c.Ib(665,"span"),c.lc(666,"Transformation use case"),c.Hb(),c.Hb(),c.Ib(667,"p"),c.lc(668,"Validation isn't the only use case for custom pipes. At the beginning of this chapter, we mentioned that a pipe can also "),c.Ib(669,"strong"),c.lc(670,"transform"),c.Hb(),c.lc(671," the input data to the desired format. This is possible because the value returned from the "),c.Ib(672,"code"),c.lc(673,"transform"),c.Hb(),c.lc(674," function completely overrides the previous value of the argument."),c.Hb(),c.Ib(675,"p"),c.lc(676,"When is this useful? Consider that sometimes the data passed from the client needs to undergo some change - for example converting a string to an integer - before it can be properly handled by the route handler method. Furthermore, some required data fields may be missing, and we would like to apply default values. "),c.Ib(677,"strong"),c.lc(678,"Transformation pipes"),c.Hb(),c.lc(679," can perform these functions by interposing a processing function between the client request and the request handler."),c.Hb(),c.Ib(680,"p"),c.lc(681,"Here's a simple "),c.Ib(682,"code"),c.lc(683,"ParseIntPipe"),c.Hb(),c.lc(684," which is responsible for parsing a string into an integer value. (As noted above, Nest has a built-in "),c.Ib(685,"code"),c.lc(686,"ParseIntPipe"),c.Hb(),c.lc(687," that is more sophisticated; we include this as a simple example of a custom transformation pipe)."),c.Hb(),c.Ib(688,"span",15),c.lc(689),c.Ub(690,"extension"),c.Gb(691,"app-tabs",null,45),c.Hb(),c.Ib(693,"pre"),c.Ib(694,"code",12),c.lc(695,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe implements PipeTransform<string, number> {\n  transform(value: string, metadata: ArgumentMetadata): number {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(696,"pre"),c.Ib(697,"code",12),c.lc(698,"\nimport { Injectable, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe {\n  transform(value, metadata) {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}"),c.Hb(),c.Hb(),c.Ib(699,"p"),c.lc(700,"We can then bind this pipe to the selected param as shown below:"),c.Hb(),c.Ib(701,"span",15),c.Gb(702,"app-tabs",null,46),c.Hb(),c.Ib(704,"pre"),c.Ib(705,"code",12),c.lc(706,"\n@Get(':id')\nasync findOne(@Param('id', new ParseIntPipe()) id) {\n  return this.catsService.findOne(id);\n}"),c.Hb(),c.Hb(),c.Ib(707,"pre"),c.Ib(708,"code",12),c.lc(709,"\n@Get(':id')\n@Bind(Param('id', new ParseIntPipe()))\nasync findOne(id) {\n  return this.catsService.findOne(id);\n}"),c.Hb(),c.Hb(),c.Ib(710,"p"),c.lc(711,"Another useful transformation case would be to select an "),c.Ib(712,"strong"),c.lc(713,"existing user"),c.Hb(),c.lc(714," entity from the database using an id supplied in the request:"),c.Hb(),c.Ib(715,"span",15),c.Gb(716,"app-tabs",null,47),c.Hb(),c.Ib(718,"pre"),c.Ib(719,"code",12),c.lc(720,"\n@Get(':id')\nfindOne(@Param('id', UserByIdPipe) userEntity: UserEntity) {\n  return userEntity;\n}"),c.Hb(),c.Hb(),c.Ib(721,"pre"),c.Ib(722,"code",12),c.lc(723,"\n@Get(':id')\n@Bind(Param('id', UserByIdPipe))\nfindOne(userEntity) {\n  return userEntity;\n}"),c.Hb(),c.Hb(),c.Ib(724,"p"),c.lc(725,"We leave the implementation of this pipe to the reader, but note that like all other transformation pipes, it receives an input value (an "),c.Ib(726,"code"),c.lc(727,"id"),c.Hb(),c.lc(728,") and returns an output value (a "),c.Ib(729,"code"),c.lc(730,"UserEntity"),c.Hb(),c.lc(731," object). This can make your code more declarative and "),c.Ib(732,"a",26),c.lc(733,"DRY"),c.Hb(),c.lc(734," by abstracting boilerplate code out of your handler and into a common pipe."),c.Hb(),c.Ib(735,"h4",48),c.Ib(736,"span"),c.lc(737,"Providing defaults"),c.Hb(),c.Hb(),c.Ib(738,"p"),c.Ib(739,"code"),c.lc(740,"Parse*"),c.Hb(),c.lc(741," pipes expect a parameter's value to be defined. They throw an exception upon receiving "),c.Ib(742,"code"),c.lc(743,"null"),c.Hb(),c.lc(744," or "),c.Ib(745,"code"),c.lc(746,"undefined"),c.Hb(),c.lc(747," values. To allow an endpoint to handle missing querystring parameter values, we have to provide a default value to be injected before the "),c.Ib(748,"code"),c.lc(749,"Parse*"),c.Hb(),c.lc(750," pipes operate on these values. The "),c.Ib(751,"code"),c.lc(752,"DefaultValuePipe"),c.Hb(),c.lc(753," serves that purpose. Simply instantiate a "),c.Ib(754,"code"),c.lc(755,"DefaultValuePipe"),c.Hb(),c.lc(756," in the "),c.Ib(757,"code"),c.lc(758,"@Query()"),c.Hb(),c.lc(759," decorator before the relevant "),c.Ib(760,"code"),c.lc(761,"Parse*"),c.Hb(),c.lc(762," pipe, as shown below:"),c.Hb(),c.Ib(763,"span",15),c.Gb(764,"app-tabs",null,49),c.Hb(),c.Ib(766,"pre"),c.Ib(767,"code",12),c.lc(768,"\n@Get()\nasync findAll(\n  @Query('activeOnly', new DefaultValuePipe(false), ParseBoolPipe) activeOnly: boolean,\n  @Query('page', new DefaultValuePipe(0), ParseIntPipe) page: number,\n) {\n  return this.catsService.findAll({ activeOnly, page });\n}"),c.Hb(),c.Hb(),c.Ib(769,"h4",50),c.Ib(770,"span"),c.lc(771,"The built-in ValidationPipe"),c.Hb(),c.Hb(),c.Ib(772,"p"),c.lc(773,"As a reminder, you don't have to build a generic validation pipe on your own since the "),c.Ib(774,"code"),c.lc(775,"ValidationPipe"),c.Hb(),c.lc(776," is provided by Nest out-of-the-box. The built-in "),c.Ib(777,"code"),c.lc(778,"ValidationPipe"),c.Hb(),c.lc(779," offers more options than the sample we built in this chapter, which has been kept basic for the sake of illustrating the mechanics of a custom-built pipe. You can find full details, along with lots of examples "),c.Ib(780,"a",17),c.lc(781,"here"),c.Hb(),c.lc(782,"."),c.Hb(),c.Hb()}if(2&e){var n=c.dc(156),r=c.dc(202),i=c.dc(321),o=c.dc(340),a=c.dc(410),s=c.dc(451),l=c.dc(503),u=c.dc(523),h=c.dc(595),d=c.dc(616),p=c.dc(647),b=c.dc(692),f=c.dc(703),m=c.dc(717);c.vb(157),c.xb("hide",n.isJsActive),c.vb(3),c.xb("hide",!n.isJsActive),c.vb(39),c.nc(" ",c.Vb(200,40,"validation.pipe",r.isJsActive),"\n"),c.vb(4),c.xb("hide",r.isJsActive),c.vb(3),c.xb("hide",!r.isJsActive),c.vb(116),c.xb("hide",i.isJsActive),c.vb(3),c.xb("hide",!i.isJsActive),c.vb(12),c.nc(" ",c.Vb(338,43,"create-cat.dto",o.isJsActive),"\n"),c.vb(74),c.xb("hide",a.isJsActive),c.vb(3),c.xb("hide",!a.isJsActive),c.vb(38),c.xb("hide",s.isJsActive),c.vb(3),c.xb("hide",!s.isJsActive),c.vb(45),c.nc(" ",c.Vb(501,46,"create-cat.dto",l.isJsActive),"\n"),c.vb(20),c.nc(" ",c.Vb(521,49,"validation.pipe",u.isJsActive),"\n"),c.vb(72),c.nc(" ",c.Vb(593,52,"cats.controller",h.isJsActive),"\n"),c.vb(21),c.nc(" ",c.Vb(614,55,"main",d.isJsActive),"\n"),c.vb(31),c.nc(" ",c.Vb(645,58,"app.module",p.isJsActive),"\n"),c.vb(45),c.nc(" ",c.Vb(690,61,"parse-int.pipe",b.isJsActive),"\n"),c.vb(4),c.xb("hide",b.isJsActive),c.vb(3),c.xb("hide",!b.isJsActive),c.vb(8),c.xb("hide",f.isJsActive),c.vb(3),c.xb("hide",!f.isJsActive),c.vb(11),c.xb("hide",m.isJsActive),c.vb(3),c.xb("hide",!m.isJsActive)}},directives:[Hr.f,Ei.a,Ai.a,Mi.a],pipes:[Ri.a],encapsulation:2,changeDetection:0}),mi),ho=c.Kb(uo),po=((vi=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ti.a)).\u0275fac=function(e){return bo(e||vi)},vi.\u0275cmp=c.zb({type:vi,selectors:[["app-support"]],features:[c.tb],decls:42,vars:0,consts:[[1,"content"],["contentReference",""],[1,"github-links"],["href","https://github.com/nestjs/docs.nestjs.com/edit/master/content/support.md","aria-label","Suggest Edits","title","Suggest Edits"],[1,"fas","fa-edit"],["id","support"],["appAnchor","","id","how-can-you-help"],["rel","nofollow","target","_blank","href","https://opencollective.com/nest"],["rel","nofollow","target","_blank","href","https://paypal.me/kamilmysliwiec"],["href","mailto:mail@kamilmysliwiec.com"]],template:function(e,t){1&e&&(c.Ib(0,"div",0,1),c.Ib(2,"div",2),c.Ib(3,"a",3),c.Gb(4,"i",4),c.Hb(),c.Hb(),c.Ib(5,"h3",5),c.lc(6,"Support"),c.Hb(),c.Ib(7,"p"),c.lc(8,"Nest is an MIT-licensed open source project with its ongoing development made possible thanks to the support by the community. This framework is a result of the long road, full of sleepless nights, working "),c.Ib(9,"strong"),c.lc(10,"after hours"),c.Hb(),c.lc(11,", and busy weekends."),c.Hb(),c.Ib(12,"h4",6),c.Ib(13,"span"),c.lc(14,"How can you help?"),c.Hb(),c.Hb(),c.Ib(15,"p"),c.lc(16,"Nest doesn't have a large company that sits behind and is continuously paying for hours spent on the development. I fully rely on the "),c.Ib(17,"strong"),c.lc(18,"goodness"),c.Hb(),c.lc(19," \u2764\ufe0f of the people. However, I would love to make this framework even more "),c.Ib(20,"strong"),c.lc(21,"powerful"),c.Hb(),c.lc(22,", to be fully focused on delivering you great solutions that make coding process enjoyable: In order to help me, I run few supporting platforms:"),c.Hb(),c.Ib(23,"ul"),c.Ib(24,"li"),c.lc(25,"become a backer or sponsor on "),c.Ib(26,"a",7),c.lc(27,"OpenCollective"),c.Hb(),c.Hb(),c.Ib(28,"li"),c.lc(29,"use "),c.Ib(30,"a",8),c.lc(31,"PayPal"),c.Hb(),c.lc(32," to send a one-time donation"),c.Hb(),c.Ib(33,"li"),c.lc(34,"or reach me directly: "),c.Ib(35,"a",9),c.lc(36,"mail@kamilmysliwiec.com"),c.Hb(),c.Hb(),c.Hb(),c.Ib(37,"p"),c.lc(38,"If you fell in love with Nest, or you run a business which is using Nest, consider sponsoring its development to ensure that the project which your product relies on is "),c.Ib(39,"strong"),c.lc(40,"actively maintained"),c.Hb(),c.lc(41," and improved. Also, your support could help me to work more on content that benefits whole Nest community, writing either educational blog posts or recording videos."),c.Hb(),c.Hb())},directives:[Ei.a],encapsulation:2,changeDetection:0}),vi),bo=c.Kb(po),fo=((gi=function(){function e(){b(this,e)}return m(e,[{key:"canActivate",value:function(e,t){return window.location.href=e.data.externalUrl,!0}}]),e}()).\u0275fac=function(e){return new(e||gi)},gi.\u0275prov=c.Bb({token:gi,factory:gi.\u0275fac}),gi),mo=[{path:"",component:Oi,children:[{path:"",component:no},{path:"first-steps",component:Qi,data:{title:"First steps"}},{path:"controllers",component:Li,data:{title:"Controllers"}},{path:"components",redirectTo:"providers"},{path:"providers",component:Ni,data:{title:"Providers"}},{path:"modules",component:co,data:{title:"Modules"}},{path:"middleware",component:io,data:{title:"Middleware"}},{path:"pipes",component:uo,data:{title:"Pipes"}},{path:"guards",component:Zi,data:{title:"Guards"}},{path:"exception-filters",component:Yi,data:{title:"Exception filters"}},{path:"interceptors",component:eo,data:{title:"Interceptors"}},{path:"custom-decorators",component:Gi,data:{title:"Custom decorators"}},{path:"standalone-applications",component:Pi,data:{title:"Standalone applications"}},{path:"application-context",redirectTo:"standalone-applications"},{path:"discover/companies",component:Bi,data:{title:"Discover - Who is using Nest?"}},{path:"migration-guide",component:ao,data:{title:"Migration guide - FAQ"}},{path:"support",component:po,data:{title:"Support"}},{path:"consulting",component:Wi,resolve:{url:"externalUrlRedirectResolver"},canActivate:[fo],data:{externalUrl:"https://enterprise.nestjs.com"}},{path:"enterprise",redirectTo:"consulting"},{path:"enterprise",component:Wi,data:{title:"Official Support"}},{path:"fundamentals",loadChildren:function(){return o.e(7).then(o.bind(null,"l5QH")).then((function(e){return e.FundamentalsModule}))}},{path:"techniques",loadChildren:function(){return o.e(12).then(o.bind(null,"bAoC")).then((function(e){return e.TechniquesModule}))}},{path:"graphql",loadChildren:function(){return o.e(8).then(o.bind(null,"12Lf")).then((function(e){return e.GraphqlModule}))}},{path:"websockets",loadChildren:function(){return o.e(13).then(o.bind(null,"+xAr")).then((function(e){return e.WebsocketsModule}))}},{path:"microservices",loadChildren:function(){return o.e(9).then(o.bind(null,"eIoA")).then((function(e){return e.MicroservicesModule}))}},{path:"recipes",loadChildren:function(){return o.e(11).then(o.bind(null,"dnpt")).then((function(e){return e.RecipesModule}))}},{path:"faq",loadChildren:function(){return o.e(6).then(o.bind(null,"L049")).then((function(e){return e.FaqModule}))}},{path:"cli",loadChildren:function(){return o.e(5).then(o.bind(null,"blqr")).then((function(e){return e.CliModule}))}},{path:"openapi",loadChildren:function(){return o.e(10).then(o.bind(null,"IgQG")).then((function(e){return e.OpenApiModule}))}}]},{path:"**",redirectTo:"",pathMatch:"full"}],vo=((wi=function e(){b(this,e)}).\u0275mod=c.Db({type:wi}),wi.\u0275inj=c.Cb({factory:function(e){return new(e||wi)},providers:[fo],imports:[[Hr.g.forRoot(mo,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",preloadingStrategy:Hr.c})],Hr.g]}),wi),go=((yi=function(){function e(t,n,r,i){b(this,e),this.titleService=t,this.metaService=n,this.router=r,this.activatedRoute=i}return m(e,[{key:"ngOnInit",value:function(){return e=this,n=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.router.events.pipe(Object(f.a)((function(e){return e instanceof Hr.b}))).subscribe((function(e){t.updateTitle(),t.updateMeta(e)}));case 1:case"end":return e.stop()}}),e,this)})),new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n}},{key:"updateTitle",value:function(){var e=this.activatedRoute.snapshot.firstChild;if(e){var t=e.firstChild,n=(t=t.firstChild?t.firstChild:t).data.title;this.titleService.setTitle((n||"Documentation")+" | NestJS - A progressive Node.js framework")}}},{key:"updateMeta",value:function(e){e&&e.url&&(e.url.includes("crud-utilities")&&!this.robotsElement?this.robotsElement=this.metaService.addTag({name:"robots",content:"noindex"}):this.robotsElement&&(this.metaService.removeTagElement(this.robotsElement),this.robotsElement=void 0))}}]),e}()).\u0275fac=function(e){return new(e||yi)(c.Fb(Je),c.Fb(Be),c.Fb(Hr.d),c.Fb(Hr.a))},yi.\u0275cmp=c.zb({type:yi,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&c.Gb(0,"router-outlet")},directives:[Hr.h],encapsulation:2,changeDetection:0}),yi),yo=o("PCNd"),wo={suppressScrollX:!0,wheelPropagation:!0},Io=((Ii=function e(){b(this,e)}).\u0275mod=c.Db({type:Ii,bootstrap:[go]}),Ii.\u0275inj=c.Cb({factory:function(e){return new(e||Ii)},providers:[{provide:Ir.a,useValue:wo}],imports:[[Ue,wr,vo,le,Ir.c,yo.a]]}),Ii);Object(c.R)(),qe().bootstrapModule(Io)},zdH2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.zb({type:e,selectors:[["app-banner-courses"]],decls:25,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://courses.nestjs.com","target","_blank","title","Courses | NestJS - A node.js framework built on top of TypeScript",1,"btn-more"]],template:function(e,t){1&e&&(r.Ib(0,"div",0),r.Ib(1,"h2"),r.lc(2,"Learn the "),r.Ib(3,"span"),r.lc(4,"right"),r.Hb(),r.lc(5," way!"),r.Hb(),r.Ib(6,"ul"),r.Ib(7,"li"),r.Ib(8,"span"),r.Gb(9,"i",1),r.Hb(),r.lc(10," 80+ chapters "),r.Hb(),r.Ib(11,"li"),r.Ib(12,"span"),r.Gb(13,"i",1),r.Hb(),r.lc(14," 5+ hours of videos "),r.Hb(),r.Ib(15,"li"),r.Ib(16,"span"),r.Gb(17,"i",1),r.Hb(),r.lc(18," Official certificate "),r.Hb(),r.Ib(19,"li"),r.Ib(20,"span"),r.Gb(21,"i",1),r.Hb(),r.lc(22," Deep-dive sessions "),r.Hb(),r.Hb(),r.Ib(23,"a",2),r.lc(24,"Explore official courses"),r.Hb(),r.Hb())},styles:[".banner[_ngcontent-%COMP%] {\n        background-color: #111;\n        background-image: url('/assets/banners/courses.jpg');\n      }"],changeDetection:0}),e}()},zg9e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fXoL"),i=n("tyNb"),o=function(){var e=function(){function e(t,n,r){b(this,e),this.elementRef=t,this.renderer=n,this.router=r}return m(e,[{key:"ngAfterViewInit",value:function(){var e=null==this.id?this.getImplicitId():this.id;null==this.id&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e);var t=this.renderer.createElement("a");this.renderer.setProperty(t,"href","".concat(this.router.url.split("#")[0],"#").concat(e));var n=this.renderer.createText("#");this.renderer.appendChild(t,n),this.renderer.appendChild(this.elementRef.nativeElement,t)}},{key:"getImplicitId",value:function(){return this.elementRef.nativeElement.innerText.replace(/\s/g,"-").toLocaleLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Fb(r.l),r.Fb(r.D),r.Fb(i.d))},e.\u0275dir=r.Ab({type:e,selectors:[["","appAnchor",""]],inputs:{id:"id"}}),e}()},zx2A:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(e){s(n,e);var t=l(n);function n(e){var r;return b(this,n),(r=t.call(this)).parent=e,r}return m(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),c=function(e){s(n,e);var t=l(n);function n(){return b(this,n),t.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function u(e,t){if(!t.closed)return e instanceof i.a?e.subscribe(t):Object(o.a)(e)(t)}}},[[0,0]]])}();